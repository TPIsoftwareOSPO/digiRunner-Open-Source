"use strict";(self.webpackChunksrcAngular=self.webpackChunksrcAngular||[]).push([[1345],{41345:(T,f,s)=>{s.r(f),s.d(f,{Ai0002Module:()=>Pe});var l=s(48750),p=s(69808),y=s(31890),m=s(93075),x=s(86347),_=s(99291),v=s(15861),n=s(14525),a=s(59783),r=s(1694),d=s(39300),b=s(54004),e=s(87587),I=s(56435),N=s(67520),Z=s(4516),L=s(38441),q=s(63710),B=s(23099),D=s(40845),K=s(4119),k=s(14036),O=s(49603),U=s(17773),S=s(19114),E=s(51062),H=s(39646);let $=(()=>{class i{constructor(t){this.translateService=t}transform(t){const c=t.toLocaleLowerCase();return""==t?(0,H.of)(""):this.translateService.get(`ai.${c}`)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(E.sK,16))},i.\u0275pipe=e.Yjl({name:"aiUsageLimitPolicy",type:i,pure:!0}),i})();const Y=function(i){return{width:i}};function M(i,u){if(1&i&&(e.TgZ(0,"th",45),e._uU(1),e.qZA()),2&i){const t=u.$implicit;e.Q6J("ngStyle",e.VKq(2,Y,"id"==t.field?"175px":"auto")),e.xp6(1),e.hij(" ",t.header," ")}}function J(i,u){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,M,2,4,"th",43),e.TgZ(2,"th",44),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=u.$implicit;e.xp6(1),e.Q6J("ngForOf",t),e.xp6(2),e.hij("",e.lcZ(4,2,"action")," ")}}function w(i,u){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const t=e.oxw(3).$implicit;e.xp6(1),e.hij(" ",null==t.dgrAiProvider?null:t.dgrAiProvider.aiProviderName," ")}}function Q(i,u){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const t=e.oxw(3).$implicit;e.xp6(1),e.hij(" ",null==t.dgrAiProvider?null:t.dgrAiProvider.aiModel," ")}}function V(i,u){if(1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"async"),e.ALo(3,"aiUsageLimitPolicy"),e.BQk()),2&i){const t=e.oxw(3).$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,e.lcZ(3,3,t.usageLimitPolicy))," ")}}function F(i,u){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const t=e.oxw(2).$implicit,c=e.oxw().$implicit;e.xp6(1),e.hij(" ",c[t.field]," ")}}function j(i,u){if(1&i&&(e.TgZ(0,"span"),e.ynx(1,53),e.YNc(2,w,2,1,"ng-container",54),e.YNc(3,Q,2,1,"ng-container",54),e.YNc(4,V,4,5,"ng-container",54),e.YNc(5,F,2,1,"ng-container",55),e.BQk(),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngSwitch",t.field),e.xp6(1),e.Q6J("ngSwitchCase","aiProviderName"),e.xp6(1),e.Q6J("ngSwitchCase","aiModel"),e.xp6(1),e.Q6J("ngSwitchCase","usageLimitPolicy")}}function G(i,u){if(1&i&&(e.TgZ(0,"div",56),e._UZ(1,"img",57),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("alt",t.aiApikeyEnable)("src","Y"===t.aiApikeyEnable?"assets/images/icon_green.png":"assets/images/icon_red.png",e.LSH)}}function W(i,u){if(1&i&&(e.TgZ(0,"td"),e.YNc(1,j,6,4,"span",51),e.YNc(2,G,2,2,"div",52),e.qZA()),2&i){const t=u.$implicit;e.Udp("width",t.width),e.xp6(1),e.Q6J("ngIf","aiApiKeyEnable"!=t.field),e.xp6(1),e.Q6J("ngIf","aiApiKeyEnable"==t.field)}}function z(i,u){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.YNc(1,W,3,4,"td",46),e.TgZ(2,"td",47)(3,"button",48),e.NdJ("click",function(){const A=e.CHM(t).$implicit;return e.oxw().changePage("detail",A)}),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",49),e.NdJ("click",function(){const A=e.CHM(t).$implicit;return e.oxw().changePage("update",A)}),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",50),e.NdJ("click",function(){const A=e.CHM(t).$implicit;return e.oxw().changePage("delete",A)}),e.ALo(8,"translate"),e.qZA()()()}if(2&i){const t=u.columns;e.xp6(1),e.Q6J("ngForOf",t),e.xp6(2),e.Q6J("pTooltip",e.lcZ(4,4,"button.detail")),e.xp6(2),e.Q6J("pTooltip",e.lcZ(6,6,"button.update")),e.xp6(2),e.Q6J("pTooltip",e.lcZ(8,8,"button.delete"))}}function X(i,u){if(1&i&&(e.TgZ(0,"tr")(1,"td",58)(2,"span",59),e._uU(3),e.ALo(4,"translate"),e.qZA()()()),2&i){const t=e.oxw().$implicit,c=e.oxw();e.xp6(1),e.uIk("colspan",t.length+1),e.xp6(2),e.AsE("",e.lcZ(4,3,"row_count"),": ",c.tableData.length,"")}}function ee(i,u){if(1&i&&e.YNc(0,X,5,5,"tr",51),2&i){const t=e.oxw();e.Q6J("ngIf",t.tableData.length>0)}}function te(i,u){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=u.$implicit;e.xp6(1),e.uIk("colspan",t.length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"no_rec")," ")}}function ie(i,u){if(1&i&&(e.TgZ(0,"div",60)(1,"small",61),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.aiApiKeyName?null:t.aiApiKeyName.errors.required))}}function ae(i,u){if(1&i&&(e._uU(0),e._UZ(1,"br"),e.TgZ(2,"small",64),e._uU(3),e.qZA()),2&i){const t=u.$implicit;e.hij(" ",t.aiProviderAlias,""),e.xp6(3),e.AsE("(",t.aiProviderName," - ",t.aiModel,")")}}const oe=function(){return{width:"100%"}};function ne(i,u){if(1&i&&(e.TgZ(0,"p-dropdown",62),e.ALo(1,"translate"),e.YNc(2,ae,4,3,"ng-template",63),e.qZA()),2&i){const t=e.oxw();e.Akn(e.DdM(6,oe)),e.s9C("placeholder",e.lcZ(1,4,"plz_chs")),e.Q6J("options",t.aiProviderList)}}function re(i,u){if(1&i&&(e.TgZ(0,"div",60)(1,"small",61),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.aiProviderId?null:t.aiProviderId.errors.required))}}function se(i,u){1&i&&e._UZ(0,"input",65)}function le(i,u){if(1&i&&(e.TgZ(0,"div",60)(1,"small",61),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.aiApiKeyCode?null:t.aiApiKeyCode.errors.required))}}function ce(i,u){if(1&i&&(e.TgZ(0,"div",60)(1,"small",61),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.usageLimitInputToken?null:t.usageLimitInputToken.errors.required))}}function pe(i,u){if(1&i&&(e.TgZ(0,"div",60)(1,"small",61),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.usageLimitOutputToken?null:t.usageLimitOutputToken.errors.required))}}const ue=function(){return{backgroundColor:"var(--red-300)","border-color":"var(--red-300)"}};function de(i,u){if(1&i){const t=e.EpF();e.TgZ(0,"div",66)(1,"button",67),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(94).accept()}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",68),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(94).reject()}),e.ALo(4,"translate"),e.qZA()()}2&i&&(e.xp6(1),e.s9C("label",e.lcZ(2,3,"button.confirm")),e.Q6J("ngStyle",e.DdM(7,ue)),e.xp6(2),e.s9C("label",e.lcZ(4,5,"button.cancel")))}const me=function(){return{"word-break":"break-word"}},ge=function(i){return[i]},Ae=function(){return{marginTop:"60px"}},he=function(){return{width:"400px"}},_e=[{path:"",component:(()=>{class i extends n.H{constructor(t,c,o,A,h,g,P,C){super(t,c),this.aiService=o,this.toolService=A,this.fb=h,this.messageService=g,this.confirmationService=P,this.ngxSrvice=C,this.currentTitle=this.title,this.pageNum=1,this.currentAction="",this.cols=[],this.tableData=[],this.aiProviderList=[],this.btnName="",this.formE=this.fb.group({aiApiKeyName:new m.NI(""),aiProviderId:new m.NI(""),aiProviderAlias:new m.NI(""),aiApiKeyCode:new m.NI(""),usageLimitInputToken:new m.NI(""),usageLimitOutputToken:new m.NI(""),usageLimitPolicy:new m.NI(""),backupKeyId:new m.NI(""),aiApiKeyEnable:new m.NI("")})}ngOnInit(){var t=this;return(0,v.Z)(function*(){const o=yield t.toolService.getDict(["status","ai.api_key_alias","ai.provider","ai.model","ai.usage_limit"]);t.cols=[{field:"aiApiKeyEnable",header:o.status},{field:"id",header:"ID"},{field:"aiApikeyName",header:o["ai.api_key_alias"]},{field:"aiProviderName",header:o["ai.provider"]},{field:"aiModel",header:o["ai.model"]},{field:"usageLimitPolicy",header:o["ai.usage_limit"]}],t.aiService.listAIAPIKEY_ignore1298({}).subscribe(A=>{t.toolService.checkDpSuccess(A.ResHeader)&&(t.tableData=A.RespBody.content)}),t.aiService.listAIProvider().pipe((0,d.h)(A=>t.toolService.checkDpSuccess(A.ResHeader)),(0,b.U)(A=>{var h;return(null===(h=A.RespBody)||void 0===h?void 0:h.content)||[]}),(0,b.U)(A=>A.filter(h=>"Y"===h.aiProviderEnable))).subscribe(A=>{t.aiProviderList=A})})()}listAIAPIKEY(){this.aiService.listAIAPIKEY({}).subscribe(t=>{this.tableData=this.toolService.checkDpSuccess(t.ResHeader)?t.RespBody.content:[]})}headerReturn(){this.changePage("query")}iniFormRequired(){this.formE.enable(),this.aiApiKeyName.setValidators([r.np()]),this.aiApiKeyName.reset(""),this.aiProviderId.setValidators([r.np()]),this.aiProviderId.reset(""),this.aiApiKeyCode.setValidators([r.np()]),this.aiApiKeyCode.reset(""),this.usageLimitInputToken.setValidators([r.np()]),this.usageLimitInputToken.reset(""),this.usageLimitOutputToken.setValidators([r.np()]),this.usageLimitOutputToken.reset(""),this.usageLimitPolicy.setValidators([r.np()]),this.usageLimitPolicy.reset(""),this.aiApiKeyEnable.setValidators([r.np()]),this.aiApiKeyEnable.reset(""),this.formE.updateValueAndValidity()}changePage(t,c){var o=this;return(0,v.Z)(function*(){o.currentAction=t;const h=yield o.toolService.getDict(["button.create","button.update","button.delete","button.detail","cfm_del"]);switch(o.iniFormRequired(),t){case"query":o.pageNum=1,o.currentTitle=o.title;break;case"create":o.currentTitle=`${o.title} > ${h["button.create"]}`,o.btnName=h["button.create"],o.usageLimitInputToken.setValue(0),o.usageLimitOutputToken.setValue(0),o.aiApiKeyEnable.setValue("N"),o.usageLimitPolicy.setValue("REJECT"),o.pageNum=2;break;case"detail":o.currentTitle=`${o.title} > ${h["button.detail"]}`,o.aiService.getAIAPIKEY(c.id).subscribe(g=>{o.toolService.checkDpSuccess(g.ResHeader)&&(o.formE.disable(),o.aiApiKeyName.setValue(g.RespBody.aiApikeyName),o.aiProviderId.setValue(g.RespBody.dgrAiProvider.aiProviderId),o.aiProviderAlias.setValue(g.RespBody.dgrAiProvider.aiProviderAlias),o.aiApiKeyEnable.setValue(g.RespBody.aiApikeyEnable),o.aiApiKeyCode.setValue(g.RespBody.aiApikeyCode),o.usageLimitInputToken.setValue(g.RespBody.usageLimitInputToken),o.usageLimitOutputToken.setValue(g.RespBody.usageLimitOutputToken),o.usageLimitPolicy.setValue(g.RespBody.usageLimitPolicy),o.pageNum=2)});break;case"update":o.currentTitle=`${o.title} > ${h["button.update"]}`,o.btnName=h["button.update"],o.aiService.getAIAPIKEY(c.id).subscribe(g=>{o.toolService.checkDpSuccess(g.ResHeader)&&(o.apikeyDetail=g.RespBody,o.aiApiKeyName.setValue(g.RespBody.aiApikeyName),o.aiProviderId.setValue(g.RespBody.dgrAiProvider.aiProviderId),o.aiApiKeyEnable.setValue(g.RespBody.aiApikeyEnable),o.aiApiKeyCode.setValue(g.RespBody.aiApikeyCode),o.usageLimitInputToken.setValue(g.RespBody.usageLimitInputToken),o.usageLimitOutputToken.setValue(g.RespBody.usageLimitOutputToken),o.usageLimitPolicy.setValue(g.RespBody.usageLimitPolicy),o.pageNum=2)});break;case"delete":o.confirmationService.confirm({header:h.cfm_del,message:`Id: ${null==c?void 0:c.id}`,accept:()=>{o.aiService.deleteAIAPIKEY(c.id).subscribe(function(){var g=(0,v.Z)(function*(P){if(o.toolService.checkDpSuccess(P.ResHeader)){const C=["message.delete","message.success"],R=yield o.toolService.getDict(C);o.messageService.add({severity:"success",summary:`${R["message.delete"]}`,detail:`${R["message.delete"]} ${R["message.success"]}!`}),o.changePage("query"),o.listAIAPIKEY()}});return function(P){return g.apply(this,arguments)}}())}})}})()}procData(){var t=this;switch(this.currentAction){case"create":this.aiService.registerAIAPIKEY({aiApiKeyName:this.aiApiKeyName.value,aiProviderId:this.aiProviderId.value,aiApiKeyCode:this.aiApiKeyCode.value,usageLimitInputToken:this.usageLimitInputToken.value,usageLimitOutputToken:this.usageLimitOutputToken.value,usageLimitPolicy:this.usageLimitPolicy.value,aiApiKeyEnable:this.aiApiKeyEnable.value}).subscribe(function(){var A=(0,v.Z)(function*(h){if(t.toolService.checkDpSuccess(h.ResHeader)){const g=["message.create","message.success"],P=yield t.toolService.getDict(g);t.messageService.add({severity:"success",summary:`${P["message.create"]} `,detail:`${P["message.create"]} ${P["message.success"]}!`}),t.changePage("query"),t.listAIAPIKEY()}});return function(h){return A.apply(this,arguments)}}());break;case"update":this.aiService.updateAIAPIKEY(this.apikeyDetail.id,{aiApiKeyName:this.aiApiKeyName.value,aiProviderId:this.aiProviderId.value,aiApiKeyCode:this.aiApiKeyCode.value,usageLimitInputToken:this.usageLimitInputToken.value,usageLimitOutputToken:this.usageLimitOutputToken.value,usageLimitPolicy:this.usageLimitPolicy.value,aiApiKeyEnable:this.aiApiKeyEnable.value}).subscribe(function(){var A=(0,v.Z)(function*(h){if(t.toolService.checkDpSuccess(h.ResHeader)){const g=["message.create","message.success"],P=yield t.toolService.getDict(g);t.messageService.add({severity:"success",summary:`${P["message.create"]} `,detail:`${P["message.create"]} ${P["message.success"]}!`}),t.changePage("query"),t.listAIAPIKEY()}});return function(h){return A.apply(this,arguments)}}())}}get aiApiKeyName(){return this.formE.get("aiApiKeyName")}get aiProviderId(){return this.formE.get("aiProviderId")}get aiProviderAlias(){return this.formE.get("aiProviderAlias")}get aiApiKeyCode(){return this.formE.get("aiApiKeyCode")}get usageLimitInputToken(){return this.formE.get("usageLimitInputToken")}get usageLimitOutputToken(){return this.formE.get("usageLimitOutputToken")}get usageLimitPolicy(){return this.formE.get("usageLimitPolicy")}get backupKeyId(){return this.formE.get("backupKeyId")}get aiApiKeyEnable(){return this.formE.get("aiApiKeyEnable")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.gz),e.Y36(I.W),e.Y36(N.p),e.Y36(Z.g),e.Y36(m.qu),e.Y36(a.ez),e.Y36(a.YP),e.Y36(L.LA))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ai0002"]],features:[e._Bn([a.YP]),e.qOj],decls:96,vars:79,consts:[[3,"title","isDefault","headerReturn"],[3,"hidden"],[1,"form-group","row"],[1,"col-12"],["type","button",1,"btn","tpi-btn","tpi-second","float-end",3,"click"],["selectionMode","single","styleClass","p-datatable-striped","responsiveLayout","scroll",3,"columns","value"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["pTemplate","emptymessage"],[3,"formGroup"],[1,"col-4"],["for","aiApiKeyName",1,"control-label","required"],["type","text","id","aiApiKeyName","formControlName","aiApiKeyName",1,"form-control"],["class","text-danger",4,"ngIf"],["for","aiProviderId",1,"required","control-label"],["formControlName","aiProviderId","optionLabel","aiProviderAlias","optionValue","aiProviderId",3,"options","placeholder","style",4,"ngIf"],["type","text","class","form-control","id","aiProviderAlias","formControlName","aiProviderAlias",4,"ngIf"],["id","enable_label",1,"control-label","required"],[1,"p-form-check-line","form-group"],[1,"p-form-check"],["formControlName","aiApiKeyEnable","value","Y","inputId","enableY"],["for","enableY",1,"ms-2","mb-0"],["formControlName","aiApiKeyEnable","value","N","inputId","enableN"],["for","enableN",1,"ms-2","mb-0"],["for","aiApiKeyCode",1,"control-label","required"],["type","text","id","aiApiKeyCode","formControlName","aiApiKeyCode",1,"form-control"],[1,"col-6"],["for","usageLimitInputToken",1,"control-label","required"],["type","number","min","0","id","usageLimitInputToken","formControlName","usageLimitInputToken",1,"form-control"],["for","usageLimitOutputToken",1,"control-label","required"],["type","number","min","0","id","usageLimitOutputToken","formControlName","usageLimitOutputToken",1,"form-control"],[1,"control-label","required"],["formControlName","usageLimitPolicy","value","REJECT","inputId","usageLimitPolicyY"],["for","usageLimitPolicyY",1,"ms-2","mb-0"],["formControlName","usageLimitPolicy","value","USE_ANYWAY","inputId","usageLimitPolicyN"],["for","usageLimitPolicyN",1,"ms-2","mb-0"],[1,"col-12","col-lg-12"],["type","button",1,"btn","tpi-btn","float-start","me-3",3,"hidden","ngClass","disabled","click"],["type","button",1,"btn","tpi-btn","tpi-primary","float-start",3,"click"],["position","top-left"],["icon","pi pi-exclamation-triangle","styleClass","cHeader cContent cIcon"],["cd",""],["scope","col",3,"ngStyle",4,"ngFor","ngForOf"],["scope","col",2,"width","120px"],["scope","col",3,"ngStyle"],[3,"width",4,"ngFor","ngForOf"],[2,"text-align","center","width","120px"],["pButton","","pRipple","","type","button","icon","pi pi-eye","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],["pButton","","pRipple","","type","button","icon","fa fa-edit","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],["pButton","","pRipple","","type","button","icon","fa fa-trash-alt","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],[4,"ngIf"],["class","text-center",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"text-center"],[2,"width","20px","height","20px",3,"alt","src"],[2,"color","#b7b7b7"],[2,"vertical-align","middle"],[1,"text-danger"],[1,"form-text"],["formControlName","aiProviderId","optionLabel","aiProviderAlias","optionValue","aiProviderId",3,"options","placeholder"],["pTemplate","item"],[1,"text-muted"],["type","text","id","aiProviderAlias","formControlName","aiProviderAlias",1,"form-control"],[1,"row",2,"justify-content","center"],["type","button","pButton","","icon","pi pi-check",3,"ngStyle","label","click"],["type","button","pButton","","icon","pi pi-times",1,"p-button-secondary",3,"label","click"]],template:function(t,c){1&t&&(e.TgZ(0,"app-container",0),e.NdJ("headerReturn",function(){return c.headerReturn()}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return c.changePage("create")}),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"p-table",5),e.YNc(8,J,5,4,"ng-template",6),e.YNc(9,z,9,10,"ng-template",7),e.YNc(10,ee,1,1,"ng-template",8),e.YNc(11,te,4,4,"ng-template",9),e.qZA()(),e.TgZ(12,"div",1)(13,"form",10)(14,"div",2)(15,"div",11)(16,"label",12),e._uU(17),e.ALo(18,"translate"),e.qZA(),e._UZ(19,"input",13),e.YNc(20,ie,4,3,"div",14),e.qZA(),e.TgZ(21,"div",11)(22,"label",15),e._uU(23),e.ALo(24,"translate"),e.ALo(25,"translate"),e.qZA(),e.YNc(26,ne,3,7,"p-dropdown",16),e.YNc(27,re,4,3,"div",14),e.YNc(28,se,1,0,"input",17),e.qZA(),e.TgZ(29,"div",11)(30,"label",18),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"div",19),e.ynx(34),e.TgZ(35,"div",20),e._UZ(36,"p-radioButton",21),e.TgZ(37,"label",22),e._uU(38),e.ALo(39,"translate"),e.qZA()(),e.TgZ(40,"div",20),e._UZ(41,"p-radioButton",23),e.TgZ(42,"label",24),e._uU(43),e.ALo(44,"translate"),e.qZA()(),e.BQk(),e.qZA()()(),e.TgZ(45,"div",2)(46,"div",3)(47,"label",25),e._uU(48),e.ALo(49,"translate"),e.qZA(),e._UZ(50,"input",26),e.YNc(51,le,4,3,"div",14),e.qZA()(),e.TgZ(52,"div",2)(53,"div",27)(54,"label",28),e._uU(55),e.ALo(56,"translate"),e.ALo(57,"translate"),e.qZA(),e._UZ(58,"input",29),e.YNc(59,ce,4,3,"div",14),e.qZA(),e.TgZ(60,"div",27)(61,"label",30),e._uU(62),e.ALo(63,"translate"),e.ALo(64,"translate"),e.qZA(),e._UZ(65,"input",31),e.YNc(66,pe,4,3,"div",14),e.qZA()(),e.TgZ(67,"div",2)(68,"div",11)(69,"label",32),e._uU(70),e.ALo(71,"translate"),e.qZA(),e.TgZ(72,"div",19),e.ynx(73),e.TgZ(74,"div",20),e._UZ(75,"p-radioButton",33),e.TgZ(76,"label",34),e._uU(77),e.ALo(78,"translate"),e.qZA()(),e.TgZ(79,"div",20),e._UZ(80,"p-radioButton",35),e.TgZ(81,"label",36),e._uU(82),e.ALo(83,"translate"),e.qZA()(),e.BQk(),e.qZA()()(),e.TgZ(84,"div",2)(85,"div",37)(86,"button",38),e.NdJ("click",function(){return c.procData()}),e.ALo(87,"translate"),e._uU(88),e.qZA(),e.TgZ(89,"button",39),e.NdJ("click",function(){return c.changePage("query")}),e._uU(90),e.ALo(91,"translate"),e.qZA()()()()()(),e._UZ(92,"p-toast",40),e.TgZ(93,"p-confirmDialog",41,42),e.YNc(95,de,5,8,"ng-template",8),e.qZA()),2&t&&(e.Q6J("title",c.currentTitle)("isDefault",1==c.pageNum),e.xp6(1),e.Q6J("hidden",1!=c.pageNum),e.xp6(4),e.Oqu(e.lcZ(6,40,"button.create")),e.xp6(2),e.Akn(e.DdM(74,me)),e.Q6J("columns",c.cols)("value",c.tableData),e.xp6(5),e.Q6J("hidden",2!=c.pageNum),e.xp6(1),e.Q6J("formGroup",c.formE),e.xp6(4),e.Oqu(e.lcZ(18,42,"ai.api_key_alias")),e.xp6(3),e.Q6J("ngIf",c.aiApiKeyName.invalid&&(c.aiApiKeyName.dirty||c.aiApiKeyName.touched)),e.xp6(3),e.AsE("",e.lcZ(24,44,"ai.provider"),"/",e.lcZ(25,46,"ai.model"),""),e.xp6(3),e.Q6J("ngIf","detail"!==c.currentAction),e.xp6(1),e.Q6J("ngIf",c.aiProviderId.invalid&&(c.aiProviderId.dirty||c.aiProviderId.touched)),e.xp6(1),e.Q6J("ngIf","detail"==c.currentAction),e.xp6(3),e.Oqu(e.lcZ(32,48,"status")),e.xp6(7),e.Oqu(e.lcZ(39,50,"button.enable")),e.xp6(5),e.Oqu(e.lcZ(44,52,"button.disable")),e.xp6(5),e.Oqu(e.lcZ(49,54,"ai.api_key_code")),e.xp6(3),e.Q6J("ngIf",c.aiApiKeyCode.invalid&&(c.aiApiKeyCode.dirty||c.aiApiKeyCode.touched)),e.xp6(4),e.AsE("",e.lcZ(56,56,"ai.usage_limit_input")," (0: ",e.lcZ(57,58,"unlimited"),")"),e.xp6(4),e.Q6J("ngIf",c.usageLimitInputToken.invalid&&(c.usageLimitInputToken.dirty||c.usageLimitInputToken.touched)),e.xp6(3),e.AsE("",e.lcZ(63,60,"ai.usage_limit_output")," (0: ",e.lcZ(64,62,"unlimited"),")"),e.xp6(4),e.Q6J("ngIf",c.usageLimitOutputToken.invalid&&(c.usageLimitOutputToken.dirty||c.usageLimitOutputToken.touched)),e.xp6(4),e.Oqu(e.lcZ(71,64,"ai.usage_limit")),e.xp6(7),e.Oqu(e.lcZ(78,66,"ai.reject")),e.xp6(5),e.Oqu(e.lcZ(83,68,"ai.use_anyway")),e.xp6(4),e.Q6J("hidden","detail"==c.currentAction)("ngClass",e.VKq(75,ge,c.btnName==e.lcZ(87,70,"button.create")?"tpi-second":"tpi-primary"))("disabled",!c.formE.valid),e.xp6(2),e.Oqu(c.btnName),e.xp6(2),e.Oqu(e.lcZ(91,72,"button.return_to_list")),e.xp6(2),e.Akn(e.DdM(77,Ae)),e.xp6(1),e.Akn(e.DdM(78,he)))},directives:[q.e,B.iA,a.jx,p.sg,p.PC,p.O5,p.RF,p.n9,p.ED,D.Hq,K.u,m._Y,m.JL,m.sg,m.Fj,m.JJ,m.u,k.Lt,O.EU,m.qQ,m.wV,p.mk,U.FN,S.Q],pipes:[E.X$,p.Ov,$],styles:[""]}),i})(),canActivate:[x.u6]}];let ve=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[_.Bz.forChild(_e)],_.Bz]}),i})(),Pe=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[x.u6],imports:[[p.ez,ve,l.W,y.m,m.UX,m.u5]]}),i})()},63710:(T,f,s)=>{s.d(f,{e:()=>n});var l=s(87587),p=s(69808),y=s(51062);function m(a,r){if(1&a&&(l.TgZ(0,"div")(1,"h3",9),l._uU(2),l.ALo(3,"translate"),l.qZA()()),2&a){const d=l.oxw();l.xp6(2),l.Oqu(l.lcZ(3,1,d.title))}}function x(a,r){if(1&a){const d=l.EpF();l.TgZ(0,"div",10)(1,"button",11),l.NdJ("click",function(){return l.CHM(d),l.oxw().return()}),l._UZ(2,"i",12),l._uU(3),l.ALo(4,"translate"),l.qZA(),l.TgZ(5,"span",13),l._uU(6),l.qZA(),l.TgZ(7,"span",14),l._uU(8),l.qZA()()}if(2&a){const d=l.oxw();l.xp6(3),l.hij(" ",l.lcZ(4,3,"button.return_to_list")," "),l.xp6(3),l.hij("",d.getHead()," /"),l.xp6(2),l.Oqu(d.getTail())}}const _=[[["","center-view","center"]],"*"],v=["[center-view=center]","*"];let n=(()=>{class a{constructor(){this.title="",this.isDefault=!0,this.headerReturn=new l.vpe}ngOnInit(){}return(){this.headerReturn.emit(null)}getHead(){const d=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return d.pop(),d.join(" / ")}getTail(){const d=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return d[d.length-1]}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275cmp=l.Xpm({type:a,selectors:[["app-container"]],inputs:{title:"title",isDefault:"isDefault"},outputs:{headerReturn:"headerReturn"},ngContentSelectors:v,decls:11,vars:2,consts:[[1,"container-fluid","h-100"],[1,"row","position-relative",2,"height","calc(100% - 40px - 0.5rem)"],[1,"col"],[2,"margin-bottom","0.5rem"],[4,"ngIf"],["style","text-align: right",4,"ngIf"],[1,"col","d-flex","justify-content-center"],[1,"my-0","mb-2"],[1,"p-2"],["id","content",1,"page-title"],[2,"text-align","right"],["type","button","icon","",1,"btn","float-start","tpi-header-return",3,"click"],[1,"fas","fa-arrow-left",2,"margin-right","5px"],[1,"mb-0",2,"font-size","0.8rem","color","#666464"],[1,"mb-0",2,"font-size","0.8rem","color","#ff6e38","font-weight","bold"]],template:function(d,b){1&d&&(l.F$t(_),l.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),l.YNc(4,m,4,3,"div",4),l.YNc(5,x,9,5,"div",5),l.TgZ(6,"div",6),l.Hsn(7),l.qZA()(),l._UZ(8,"hr",7),l.Hsn(9,1),l._UZ(10,"div",8),l.qZA()()()),2&d&&(l.xp6(4),l.Q6J("ngIf",b.isDefault),l.xp6(1),l.Q6J("ngIf",!b.isDefault))},directives:[p.O5],pipes:[y.X$],styles:[".card.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:400;color:#5a5541}"]}),a})()},92718:(T,f,s)=>{s.d(f,{u:()=>r});var l=s(54004),p=s(70262),y=s(62843),m=s(87587),x=s(4516),_=s(89709),v=s(99291),n=s(38441),a=s(60991);let r=(()=>{class d{constructor(e,I,N,Z,L){this.toolService=e,this.tokenService=I,this.router=N,this.ngxService=Z,this.logoutService=L}canActivate(){return this.ngxService.stopAll(),!this.toolService.isTokenExpired()||this.toolService.refreshToken().pipe((0,l.U)(e=>!!e.access_token),(0,p.K)(this.handleError.bind(this)))}handleError(e){return setTimeout(()=>this.logoutService.logout()),(0,y._)(()=>e)}}return d.\u0275fac=function(e){return new(e||d)(m.LFG(x.g),m.LFG(_.B),m.LFG(v.F0),m.LFG(n.LA),m.LFG(a.P))},d.\u0275prov=m.Yz7({token:d,factory:d.\u0275fac}),d})()},86347:(T,f,s)=>{s.d(f,{DL:()=>l.D,u6:()=>y.u});var l=s(48895),y=(s(45240),s(92718));s(4516)},67520:(T,f,s)=>{s.d(f,{p:()=>x});var l=s(92340),p=s(57553),y=s(87587),m=s(96614);let x=(()=>{class _{constructor(n){this.api=n,this.api.baseUrl=l.N.apiUrl}get basePath(){return"dgrv4/11"}listAIProvider(){let n={ReqHeader:this.api.getReqHeader(p.Nx.listAIProvider),ReqBody:{}};return this.api.excuteNpPost(`${this.basePath}/DPB0250`,n)}listAIProvider_ignore1298(){let n={ReqHeader:this.api.getReqHeader(p.Nx.listAIProvider),ReqBody:{}};return this.api.excuteNpPost_ignore1298(`${this.basePath}/DPB0250`,n)}createAIProvider(n){let a={ReqHeader:this.api.getReqHeader(p.Nx.createAIProvider),ReqBody:n};return this.api.excuteNpPost(`${this.basePath}/DPB0251`,a)}createAIProvider_before(){let n={ReqHeader:this.api.getReqHeader(p.Nx.createAIProvider),ReqBody:{}};return this.api.excuteNpPost(`${this.basePath}/DPB0251?before`,n)}getAIProvider(n){let a={ReqHeader:this.api.getReqHeader(p.Nx.getAIProvider),ReqBody:{}};return this.api.excuteNpPost(`${this.basePath}/DPB0252/${n}`,a)}updateAIProvider(n,a){let r={ReqHeader:this.api.getReqHeader(p.Nx.updateAIProvider),ReqBody:a};return this.api.excuteNpPost(`${this.basePath}/DPB0253/${n}`,r)}deleteAIProvider(n){let a={ReqHeader:this.api.getReqHeader(p.Nx.createAIProvider),ReqBody:{}};return this.api.excuteNpPost(`${this.basePath}/DPB0254/${n}`,a)}listAIAPIKEY(n){let a={ReqHeader:this.api.getReqHeader(p.Nx.listAIAPIKEY),ReqBody:n};return this.api.excuteNpPost(`${this.basePath}/DPB0255`,a)}listAIAPIKEY_ignore1298(n){let a={ReqHeader:this.api.getReqHeader(p.Nx.listAIAPIKEY),ReqBody:n};return this.api.excuteNpPost_ignore1298(`${this.basePath}/DPB0255`,a)}registerAIAPIKEY(n){let a={ReqHeader:this.api.getReqHeader(p.Nx.registerAIAPIKEY),ReqBody:n};return this.api.excuteNpPost_ignore1298(`${this.basePath}/DPB0256`,a)}getAIAPIKEY(n){let a={ReqHeader:this.api.getReqHeader(p.Nx.getAIAPIKEY),ReqBody:{}};return this.api.excuteNpPost(`${this.basePath}/DPB0257/${n}`,a)}updateAIAPIKEY(n,a){let r={ReqHeader:this.api.getReqHeader(p.Nx.updateAIAPIKEY),ReqBody:a};return this.api.excuteNpPost(`${this.basePath}/DPB0258/${n}`,r)}deleteAIAPIKEY(n){let a={ReqHeader:this.api.getReqHeader(p.Nx.deleteAIAPIKEY),ReqBody:{}};return this.api.excuteNpPost(`${this.basePath}/DPB0259/${n}`,a)}listAIUsage(n){let a={ReqHeader:this.api.getReqHeader(p.Nx.listAIUsage),ReqBody:n};return this.api.excuteNpPost(`${this.basePath}/DPB0260`,a)}listAIUsage_ignore1298(n){let a={ReqHeader:this.api.getReqHeader(p.Nx.listAIUsage),ReqBody:n};return this.api.excuteNpPost_ignore1298(`${this.basePath}/DPB0260`,a)}getAIUsageDetail(n){let a={ReqHeader:this.api.getReqHeader(p.Nx.getAIUsageDetail),ReqBody:{}};return this.api.excuteNpPost(`${this.basePath}/DPB02601/${n}`,a)}listAIPromptTemplate(n){let a={ReqHeader:this.api.getReqHeader(p.Nx.listAIPromptTemplate),ReqBody:n};return this.api.excuteNpPost(`${this.basePath}/DPB0262`,a)}listAIPromptTemplate_ignore1298(n){let a={ReqHeader:this.api.getReqHeader(p.Nx.listAIPromptTemplate),ReqBody:n};return this.api.excuteNpPost_ignore1298(`${this.basePath}/DPB0262`,a)}createAIPromptTemplate(n){let a={ReqHeader:this.api.getReqHeader(p.Nx.listAIPromptTemplate),ReqBody:n};return this.api.excuteNpPost(`${this.basePath}/DPB0263`,a)}getAIPromptTemplate(n){let a={ReqHeader:this.api.getReqHeader(p.Nx.getAIPromptTemplate),ReqBody:{}};return this.api.excuteNpPost(`${this.basePath}/DPB0264/${n}`,a)}updateAIPromptTemplate(n,a){let r={ReqHeader:this.api.getReqHeader(p.Nx.updateAIPromptTemplate),ReqBody:a};return this.api.excuteNpPost(`${this.basePath}/DPB0265/${n}`,r)}deleteAIPromptTemplate(n){let a={ReqHeader:this.api.getReqHeader(p.Nx.deleteAIPromptTemplate),ReqBody:{}};return this.api.excuteNpPost(`${this.basePath}/DPB0266/${n}`,a)}listConsumerAIPromptTemplateSetting(n){let a={ReqHeader:this.api.getReqHeader(p.Nx.listConsumerAIPromptTemplateSetting),ReqBody:n};return this.api.excuteNpPost(`${this.basePath}/DPB02671`,a)}updateConsumerAIPromptTemplateSetting(n){let a={ReqHeader:this.api.getReqHeader(p.Nx.updateConsumerAIPromptTemplateSetting),ReqBody:n};return this.api.excuteNpPost(`${this.basePath}/DPB0267`,a)}deleteConsumerAIPromptTemplateSetting(n){let a={ReqHeader:this.api.getReqHeader(p.Nx.deleteConsumerAIPromptTemplateSetting),ReqBody:{}};return this.api.excuteNpPost(`${this.basePath}/DPB0268/${n}`,a)}}return _.\u0275fac=function(n){return new(n||_)(y.LFG(m.K))},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()}}]);