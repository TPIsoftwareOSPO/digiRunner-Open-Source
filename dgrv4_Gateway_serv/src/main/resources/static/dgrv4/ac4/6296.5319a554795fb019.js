"use strict";(self.webpackChunksrcAngular=self.webpackChunksrcAngular||[]).push([[6296],{85134:(I,R,l)=>{l.r(R),l.d(R,{Ac0016Module:()=>ye});var r=l(69808),p=l(99291),A=l(15861),h=l(59783),b=l(12410),f=l(14479),u=l(93075),a=l(14525),e=l(87587),s=l(56435),_=l(4516),Z=l(45330),y=l(51062),x=l(50077),w=l(41313),U=l(63710),q=l(23099),O=l(40845),M=l(4119),D=l(14036),E=l(49603),B=l(17773),S=l(19114),H=l(72129);const J=function(n){return{width:n}};function k(n,c){if(1&n&&(e.TgZ(0,"th",54),e._uU(1),e.qZA()),2&n){const t=c.$implicit;e.Q6J("ngStyle",e.VKq(2,J,"id"==t.field?"175px":"auto")),e.xp6(1),e.hij(" ",t.header," ")}}function $(n,c){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,k,2,4,"th",52),e.TgZ(2,"th",53),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n){const t=c.$implicit;e.xp6(1),e.Q6J("ngForOf",t),e.xp6(2),e.hij("",e.lcZ(4,2,"action")," ")}}function F(n,c){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw().$implicit;e.xp6(1),e.hij(" ",o[t.field]," ")}}function Q(n,c){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"img",60),e.ALo(2,"safeUrl"),e._uU(3),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("src",e.lcZ(2,2,t.icon),e.LSH),e.xp6(2),e.hij(" ",t.userAlias," ")}}function Y(n,c){if(1&n&&(e.TgZ(0,"td"),e.YNc(1,F,2,1,"span",59),e.YNc(2,Q,4,4,"div",59),e.qZA()),2&n){const t=c.$implicit;e.Udp("width",t.width),e.xp6(1),e.Q6J("ngIf","userAlias"!=t.field),e.xp6(1),e.Q6J("ngIf","userAlias"==t.field)}}function G(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"tr"),e.YNc(1,Y,3,4,"td",55),e.TgZ(2,"td",56)(3,"button",57),e.NdJ("click",function(){const m=e.CHM(t).$implicit;return e.oxw().changePage("update",m)}),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",58),e.NdJ("click",function(){const m=e.CHM(t).$implicit;return e.oxw().changePage("delete",m)}),e.ALo(6,"translate"),e.qZA()()()}if(2&n){const t=c.columns;e.xp6(1),e.Q6J("ngForOf",t),e.xp6(2),e.Q6J("pTooltip",e.lcZ(4,3,"button.update")),e.xp6(2),e.Q6J("pTooltip",e.lcZ(6,5,"button.delete"))}}function V(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",61)(2,"span",62),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",63),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).getMoreData()}),e._uU(6),e.ALo(7,"translate"),e._UZ(8,"i",64),e.qZA()()()}if(2&n){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.uIk("colspan",t.length+1),e.xp6(2),e.AsE("",e.lcZ(4,4,"row_count"),": ",o.tableData.length,""),e.xp6(3),e.hij("",e.lcZ(7,6,"button.more")," ")}}function j(n,c){if(1&n&&e.YNc(0,V,9,8,"tr",59),2&n){const t=e.oxw();e.Q6J("ngIf",t.tableDataRowcount)}}function K(n,c){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n){const t=c.$implicit;e.xp6(1),e.uIk("colspan",t.length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"no_rec")," ")}}function W(n,c){if(1&n&&(e.TgZ(0,"div",65)(1,"small",66),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.userName?null:t.userName.errors.isRequired))}}function z(n,c){if(1&n&&(e.TgZ(0,"div",65)(1,"small",66),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.idpType?null:t.idpType.errors.isRequired))}}function X(n,c){if(1&n&&(e.ynx(0),e.TgZ(1,"div",67),e._UZ(2,"p-radioButton",68),e.TgZ(3,"label",69),e._uU(4),e.qZA()(),e.BQk()),2&n){const t=c.$implicit;e.xp6(2),e.s9C("value",t.value),e.MGl("inputId","status",t.value,""),e.xp6(1),e.MGl("for","status",t.value,""),e.xp6(1),e.Oqu(t.label)}}function ee(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"li",73)(1,"span",74),e.NdJ("click",function(){const m=e.CHM(t).index;return e.oxw(2).deleteRole(m)}),e.qZA(),e.TgZ(2,"span",75),e._uU(3),e.qZA()()}if(2&n){const t=c.$implicit;e.xp6(3),e.hij(" ",t," ")}}function te(n,c){if(1&n&&(e.TgZ(0,"div",70)(1,"ul",71),e.YNc(2,ee,4,1,"li",72),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.roleAliasList.value)}}function oe(n,c){if(1&n&&(e.TgZ(0,"div",65)(1,"small",66),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.roleAliasList?null:t.roleAliasList.errors.isRequired))}}function ne(n,c){if(1&n&&(e.TgZ(0,"div",65)(1,"small",66),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.orgId?null:t.orgId.errors.isRequired))}}function ie(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",45)(2,"label",76),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",47),e._UZ(6,"input",77),e.ALo(7,"translate"),e.TgZ(8,"button",27),e.NdJ("click",function(){return e.CHM(t),e.oxw().openOrgDialog()}),e.qZA()(),e.YNc(9,ne,4,3,"div",14),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,4,"org_name")),e.xp6(3),e.s9C("placeholder",e.lcZ(7,6,"org_name")),e.uIk("disabled",!0),e.xp6(3),e.Q6J("ngIf",null==t.orgId?null:t.orgId.invalid)}}function re(n,c){if(1&n&&(e.TgZ(0,"div",65)(1,"small",66),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.newUserName_u?null:t.newUserName_u.errors.isRequired))}}function le(n,c){if(1&n&&(e.TgZ(0,"div",65)(1,"small",66),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.newIdpType_u?null:t.newIdpType_u.errors.isRequired))}}function ae(n,c){if(1&n&&(e.ynx(0),e.TgZ(1,"div",67),e._UZ(2,"p-radioButton",78),e.TgZ(3,"label",69),e._uU(4),e.qZA()(),e.BQk()),2&n){const t=c.$implicit;e.xp6(2),e.s9C("value",t.value),e.MGl("inputId","newStatus",t.value,""),e.xp6(1),e.MGl("for","newStatus",t.value,""),e.xp6(1),e.Oqu(t.label)}}function se(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"li",73)(1,"span",74),e.NdJ("click",function(){const m=e.CHM(t).index;return e.oxw(2).deleteRole(m)}),e.qZA(),e.TgZ(2,"span",75),e._uU(3),e.qZA()()}if(2&n){const t=c.$implicit;e.xp6(3),e.hij(" ",t," ")}}function ue(n,c){if(1&n&&(e.TgZ(0,"div",79)(1,"ul",71),e.YNc(2,se,4,1,"li",72),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.newRoleAliasList_u.value)}}function ce(n,c){if(1&n&&(e.TgZ(0,"div",65)(1,"small",66),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.newRoleAliasList_u?null:t.newRoleAliasList_u.errors.isRequired))}}function de(n,c){if(1&n&&(e.TgZ(0,"div",65)(1,"small",66),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.newOrgId_u?null:t.newOrgId_u.errors.isRequired))}}const pe=function(){return{backgroundColor:"var(--red-300)","border-color":"var(--red-300)"}};function _e(n,c){if(1&n){const t=e.EpF();e.TgZ(0,"div",80)(1,"button",81),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(119).accept()}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",82),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(119).reject()}),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("label",e.lcZ(2,3,"button.confirm")),e.Q6J("ngStyle",e.DdM(7,pe)),e.xp6(2),e.s9C("label",e.lcZ(4,5,"button.cancel")))}const ge=function(){return{"word-break":"break-word"}},C=function(){return{width:"100%"}},me=function(){return{marginTop:"60px"}},he=function(){return{width:"50vw"}};let fe=(()=>{class n extends a.H{constructor(t,o,i,m,g,T,v,d,N,L){super(t,o),this.toolService=i,this.fb=m,this.dialogService=g,this.translate=T,this.orgService=v,this.serverService=d,this.messageService=N,this.confirmationService=L,this.currentTitle=this.title,this.pageNum=1,this.cols=[],this.tableData=new Array,this.orgList=[],this.currentAction="create",this.idpTypeList=[{label:"GOOGLE",value:"GOOGLE"},{label:"LDAP",value:"LDAP"},{label:"MLDAP",value:"MLDAP"},{label:"MS",value:"MS"},{label:"API",value:"API"},{label:"CUS",value:"CUS"},{label:"OIDC",value:"OIDC"}],this.idpStatusList=[{label:"Request",value:"1"},{label:"Allow",value:"2"},{label:"Deny",value:"3"}]}ngOnInit(){var t=this;return(0,A.Z)(function*(){t.cols=[{field:"id",header:"ID"},{field:"userName",header:"User Name"},{field:"userAlias",header:"User Alias"},{field:"orgName",header:"Organization"},{field:"roleAlias",header:"Role"},{field:"statusName",header:"Status"},{field:"idpType",header:"Type"}],t.form=t.fb.group({userName:new u.NI(""),userAlias:new u.NI(""),status:new u.NI(""),userEmail:new u.NI(""),idpType:new u.NI(""),longId:new u.NI,roleIdList:new u.NI([]),roleAliasList:new u.NI([]),orgId:new u.NI,orgName:new u.NI}),t.formU=t.fb.group({longId:new u.NI(""),userName:new u.NI(""),newUserName:new u.NI(""),newUserAlias:new u.NI(""),newStatus:new u.NI(""),newUserEmail:new u.NI(""),newIdpType:new u.NI(""),roleIdList:new u.NI([]),newRoleIdList:new u.NI([]),newRoleAliasList:new u.NI([]),orgId:new u.NI,newOrgId:new u.NI,newOrgName:new u.NI}),t.getOrgList(),t.queryAll()})()}queryAll(){this.serverService.QueryALL().subscribe(t=>{this.tableData=this.toolService.checkDpSuccess(t.ResHeader)?t.RespBody.dataList:[]})}changePage(t,o){var i=this;return(0,A.Z)(function*(){switch(i.userInfo=o,i.currentAction=t,t){case"create":i.resetFormValidator(i.form),i.serverService.createIdPUser_before().subscribe(function(){var v=(0,A.Z)(function*(d){if(i.toolService.checkDpSuccess(d.ResHeader)){i.pageNum=2;const N=["button.create"],L=yield i.toolService.getDict(N);i.currentTitle=`${i.title} > ${L["button.create"]}`,i.addFormValidator(i.form,d.RespBody.constraints)}});return function(d){return v.apply(this,arguments)}}());break;case"update":i.resetFormValidator(i.formU),i.serverService.QueryDetail({longId:null==o?void 0:o.longId}).subscribe(function(){var v=(0,A.Z)(function*(d){i.pageNum=3;const L=yield i.toolService.getDict(["button.update"]);i.currentTitle=`${i.title} > ${L["button.update"]}`,i.longId_u.setValue(d.RespBody.longId),i.userName_u.setValue(d.RespBody.userName),i.newUserName_u.setValue(d.RespBody.userName),i.newUserAlias_u.setValue(d.RespBody.userAlias),i.newStatus_u.setValue(d.RespBody.status),i.newUserEmail_u.setValue(d.RespBody.userEmail),i.newIdpType_u.setValue(d.RespBody.idpType),i.roleIdList_u.setValue(d.RespBody.roleId),i.newRoleIdList_u.setValue(d.RespBody.roleId),i.newRoleAliasList_u.setValue(d.RespBody.roleAlias),i.orgId_u.setValue(d.RespBody.orgId),i.newOrgId_u.setValue(d.RespBody.orgId),i.newOrgName_u.setValue(d.RespBody.orgName),i.selectItem=d.RespBody,i.serverService.UpdateOne_Role_Org_before().subscribe(be=>{i.addFormValidator(i.formU,be.RespBody.constraints)})});return function(d){return v.apply(this,arguments)}}());break;case"query":i.headerReturn();break;case"delete":const g=["cfm_del"],T=yield i.toolService.getDict(g);i.confirmationService.confirm({header:" ",message:T.cfm_del,accept:()=>{i.onConfirm(o)}})}})()}onConfirm(t){var o=this;this.serverService.DeleteOne({longId:null==t?void 0:t.longId}).subscribe(function(){var m=(0,A.Z)(function*(g){if(o.toolService.checkDpSuccess(g.ResHeader)){const T=["message.delete","message.user","message.success"],v=yield o.toolService.getDict(T);o.messageService.add({severity:"success",summary:`${v["message.delete"]} ${v["message.user"]}`,detail:`${v["message.delete"]} ${v["message.success"]}!`}),o.queryAll()}});return function(g){return m.apply(this,arguments)}}())}headerReturn(){this.pageNum=1,this.currentTitle=this.title}updateData(){var o,t=this;let i={longId:this.longId_u.value,userName:this.userName_u.value,newUserName:this.newUserName_u.value,newUserAlias:this.newUserAlias_u.value,newStatus:this.newStatus_u.value,newUserEmail:this.newUserEmail_u.value,newIdpType:this.newIdpType_u.value,roleIdList:this.roleIdList_u.value,newRoleIdList:this.newRoleIdList_u.value,orgId:this.orgId_u.value,newOrgId:this.newOrgId_u.value,idpType:null===(o=this.selectItem)||void 0===o?void 0:o.idpType};this.serverService.UpdateOne_Role_Org(i).subscribe(function(){var m=(0,A.Z)(function*(g){if(t.toolService.checkDpSuccess(g.ResHeader)){const T=["dialog.update","message.success","message.update","message.user"],v=yield t.toolService.getDict(T);t.messageService.add({severity:"success",summary:`${v["message.update"]} ${v["message.user"]}`,detail:`${v["message.update"]} ${v["message.success"]}!`}),t.pageNum=1,t.currentTitle=t.title,t.queryAll()}});return function(g){return m.apply(this,arguments)}}())}queryRoleMappingList(){this.translate.get(["role_list"]).subscribe(o=>{this.dialogService.open(f._,{header:o.role_list,width:"700px"}).onClose.subscribe(m=>{if(m){let g="update"==this.currentAction?[...this.newRoleIdList_u.value]:[...this.roleIdList.value],T="update"==this.currentAction?[...this.newRoleAliasList_u.value]:[...this.roleAliasList.value],v=new Set;"update"==this.currentAction?(this.newRoleIdList_u.value&&this.newRoleIdList_u.value.forEach(d=>{v.add(d)}),m.forEach(d=>{v.has(d.roleId)||(g.push(d.roleId),T.push(d.roleAlias))}),this.newRoleIdList_u.setValue(g),this.newRoleAliasList_u.setValue(T)):(this.roleIdList.value&&this.roleIdList.value.forEach(d=>{v.add(d)}),m.forEach(d=>{v.has(d.roleId)||(g.push(d.roleId),T.push(d.roleAlias))}),this.roleIdList.setValue(g),this.roleAliasList.setValue(T))}})})}openOrgDialog(){var t=this;return(0,A.Z)(function*(){const i=yield t.toolService.getDict(["org_chart"]);t.dialogService.open(b.X,{header:i.org_chart,modal:!0,data:{orgList:t.orgList,showFooterBtn:!0},width:"90vw",height:"100vh"}).onClose.subscribe(g=>{g&&("update"==t.currentAction?(t.newOrgId_u.setValue(g.data.orgID),t.newOrgName_u.setValue(g.data.orgName)):(t.orgId.setValue(g.data.orgID),t.orgName.setValue(g.data.orgName)))})})()}getOrgList(){this.orgService.queryTOrgList({}).subscribe(t=>{this.orgList=this.toolService.checkDpSuccess(t.ResHeader)?t.RespBody.orgList:[]})}deleteRole(t){let o="update"==this.currentAction?[...this.newRoleIdList_u.value]:[...this.roleIdList.value],i="update"==this.currentAction?[...this.newRoleAliasList_u.value]:[...this.roleAliasList.value];o.splice(t,1),i.splice(t,1),"update"==this.currentAction?(this.newRoleIdList_u.setValue(o),this.newRoleAliasList_u.setValue(i)):(this.roleIdList.setValue(o),this.roleAliasList.setValue(i))}createData(){var t=this;this.serverService.createIdPUser({userName:this.userName.value,userAlias:this.userAlias.value,status:this.status.value,userEmail:this.userEmail.value,idpType:this.idpType.value,orgId:this.orgId.value,roleIdList:this.roleIdList.value}).subscribe(function(){var i=(0,A.Z)(function*(m){if(t.toolService.checkDpSuccess(m.ResHeader)){const g=["dialog.create","message.success","message.create","message.user"],T=yield t.toolService.getDict(g);t.messageService.add({severity:"success",summary:`${T["message.create"]} ${T["message.user"]}`,detail:`${T["message.create"]} ${T["message.success"]}!`}),t.pageNum=1,t.currentTitle=t.title,t.queryAll()}});return function(m){return i.apply(this,arguments)}}())}get userName(){return this.form.get("userName")}get userAlias(){return this.form.get("userAlias")}get status(){return this.form.get("status")}get userEmail(){return this.form.get("userEmail")}get idpType(){return this.form.get("idpType")}get orgId(){return this.form.get("orgId")}get orgName(){return this.form.get("orgName")}get roleIdList(){return this.form.get("roleIdList")}get roleAliasList(){return this.form.get("roleAliasList")}get longId_u(){return this.formU.get("longId")}get userName_u(){return this.formU.get("userName")}get newUserName_u(){return this.formU.get("newUserName")}get newUserAlias_u(){return this.formU.get("newUserAlias")}get newStatus_u(){return this.formU.get("newStatus")}get newUserEmail_u(){return this.formU.get("newUserEmail")}get newIdpType_u(){return this.formU.get("newIdpType")}get roleIdList_u(){return this.formU.get("roleIdList")}get newRoleIdList_u(){return this.formU.get("newRoleIdList")}get newRoleAliasList_u(){return this.formU.get("newRoleAliasList")}get orgId_u(){return this.formU.get("orgId")}get newOrgId_u(){return this.formU.get("newOrgId")}get newOrgName_u(){return this.formU.get("newOrgName")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.gz),e.Y36(s.W),e.Y36(_.g),e.Y36(u.qu),e.Y36(Z.xA),e.Y36(y.sK),e.Y36(x.p),e.Y36(w.N),e.Y36(h.ez),e.Y36(h.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-ac0016"]],features:[e._Bn([h.YP]),e.qOj],decls:121,vars:74,consts:[[3,"title","isDefault","headerReturn"],[3,"hidden"],[1,"form-group","row"],[1,"col-12"],["type","button",1,"btn","tpi-btn","tpi-second","float-end",3,"click"],["selectionMode","single","styleClass","p-datatable-striped","responsiveLayout","scroll",3,"columns","value"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["pTemplate","emptymessage"],[3,"formGroup"],[1,"col-3"],["id","userName_label","for","userName",1,"control-label"],["type","text","id","userName","formControlName","userName","placeholder","",1,"form-control"],["class","text-danger",4,"ngIf"],["id","userAlias_label","for","userAlias",1,"control-label"],["type","text","id","userAlias","formControlName","userAlias","placeholder","",1,"form-control"],["id","userEmail_label","for","userEmail",1,"control-label"],["type","text","id","userEmail","formControlName","userEmail","placeholder","",1,"form-control"],["id","idpType_label","for","idpType",1,"control-label"],["formControlName","idpType",3,"options","placeholder"],[1,"col-6"],["id","status_label",1,"control-label"],[1,"p-form-check-line","form-group"],[4,"ngFor","ngForOf"],["id","roleIdList_label","for","roleIdList",1,"control-label"],[2,"color","red"],["pButton","","type","button","icon","pi pi-search",1,"ms-1","tpi-primary",3,"click"],[1,"form-control","border-line",2,"height","unset"],["class","ui-chips ui-widget","id","roleIdList",4,"ngIf"],["class","form-group row",4,"ngIf"],[1,"col-12","col-lg-12"],["type","button",1,"btn","tpi-btn","tpi-primary","float-start","me-3",3,"disabled","click"],["type","button",1,"btn","tpi-btn","tpi-primary","float-start",3,"click"],["id","newUserName_label","for","newUserName",1,"control-label"],["type","text","id","newUserName","formControlName","newUserName","placeholder","",1,"form-control"],["id","newUserAlias_label","for","newUserAlias",1,"control-label"],["type","text","id","newUserAlias","formControlName","newUserAlias","placeholder","",1,"form-control"],["id","newUserEmail_label","for","newUserEmail",1,"control-label"],["type","text","id","newUserEmail","formControlName","newUserEmail","placeholder","",1,"form-control"],["id","newIdpType_label","for","newIdpType",1,"control-label"],["formControlName","newIdpType",3,"options","placeholder"],["id","newStatus_label",1,"control-label"],["id","newRoleIdList_label","for","newRoleIdList",1,"control-label"],["class","ui-chips ui-widget",4,"ngIf"],[1,"col-12","col-lg-6"],["id","newOrgId_label","for","OrganizationChart",1,"required","control-label"],[1,"ui-inputgroup"],["type","text","id","newOrgName","formControlName","newOrgName",1,"form-control",3,"placeholder"],["position","top-left"],["icon","pi pi-exclamation-triangle","styleClass","cHeader cContent cIcon"],["cd",""],["scope","col",3,"ngStyle",4,"ngFor","ngForOf"],["scope","col",2,"width","110px"],["scope","col",3,"ngStyle"],[3,"width",4,"ngFor","ngForOf"],[2,"text-align","center","width","50px"],["pButton","","pRipple","","type","button","icon","fa fa-edit","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],["pButton","","pRipple","","type","button","icon","fa fa-trash-alt","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],[4,"ngIf"],[2,"max-height","50px","border-radius","50%",3,"src"],[2,"color","#b7b7b7"],[2,"vertical-align","middle"],["type","button",1,"btn","tpi-header-return",3,"click"],[1,"fas","fa-angle-double-right",2,"margin-left","5px"],[1,"text-danger"],[1,"form-text"],[1,"p-form-check"],["formControlName","status",3,"value","inputId"],[1,"ms-2","mb-0",3,"for"],["id","roleIdList",1,"ui-chips","ui-widget"],[1,"ui-inputtext","ui-state-default","ui-corner-all"],["class","ui-chips-token ui-state-highlight ui-corner-all","style","margin: 0 0.286em 0.3em 0;",4,"ngFor","ngForOf"],[1,"ui-chips-token","ui-state-highlight","ui-corner-all",2,"margin","0 0.286em 0.3em 0"],[1,"ui-chips-token-icon","pi","pi-fw","pi-times",3,"click"],[1,"ui-chips-token-label"],["id","orgId_label","for","OrganizationChart",1,"control-label"],["type","text","id","orgName","formControlName","orgName",1,"form-control",3,"placeholder"],["formControlName","newStatus",3,"value","inputId"],[1,"ui-chips","ui-widget"],[1,"row",2,"justify-content","center"],["type","button","pButton","","icon","pi pi-check",3,"ngStyle","label","click"],["type","button","pButton","","icon","pi pi-times",1,"p-button-secondary",3,"label","click"]],template:function(t,o){1&t&&(e.TgZ(0,"app-container",0),e.NdJ("headerReturn",function(){return o.headerReturn()}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return o.changePage("create")}),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"p-table",5),e.YNc(8,$,5,4,"ng-template",6),e.YNc(9,G,7,7,"ng-template",7),e.YNc(10,j,1,1,"ng-template",8),e.YNc(11,K,4,4,"ng-template",9),e.qZA()(),e.TgZ(12,"div",1)(13,"form",10)(14,"div",2)(15,"div",11)(16,"label",12),e._uU(17,"User Name"),e.qZA(),e._UZ(18,"input",13),e.YNc(19,W,4,3,"div",14),e.qZA(),e.TgZ(20,"div",11)(21,"label",15),e._uU(22,"User Alias"),e.qZA(),e._UZ(23,"input",16),e.qZA()(),e.TgZ(24,"div",2)(25,"div",11)(26,"label",17),e._uU(27,"User Email"),e.qZA(),e._UZ(28,"input",18),e.qZA(),e.TgZ(29,"div",11)(30,"label",19),e._uU(31,"Type"),e.qZA(),e._UZ(32,"p-dropdown",20),e.ALo(33,"translate"),e.YNc(34,z,4,3,"div",14),e.qZA()(),e.TgZ(35,"div",2)(36,"div",21)(37,"label",22),e._uU(38,"Status"),e.qZA(),e.TgZ(39,"div",23),e.YNc(40,X,5,4,"ng-container",24),e.qZA()()(),e.TgZ(41,"div",2)(42,"div",21)(43,"label",25),e._uU(44),e.ALo(45,"translate"),e.TgZ(46,"span",26),e._uU(47,"*"),e.qZA()(),e.TgZ(48,"button",27),e.NdJ("click",function(){return o.queryRoleMappingList()}),e.qZA(),e.TgZ(49,"label",28),e.YNc(50,te,3,1,"div",29),e.qZA(),e.YNc(51,oe,4,3,"div",14),e.qZA()(),e.YNc(52,ie,10,8,"div",30),e.TgZ(53,"div",2)(54,"div",31)(55,"button",32),e.NdJ("click",function(){return o.createData()}),e._uU(56),e.ALo(57,"translate"),e.qZA(),e.TgZ(58,"button",33),e.NdJ("click",function(){return o.changePage("query")}),e._uU(59),e.ALo(60,"translate"),e.qZA()()()()(),e.TgZ(61,"div",1)(62,"form",10)(63,"div",2)(64,"div",11)(65,"label",34),e._uU(66,"User Name"),e.qZA(),e._UZ(67,"input",35),e.YNc(68,re,4,3,"div",14),e.qZA(),e.TgZ(69,"div",11)(70,"label",36),e._uU(71,"User Alias"),e.qZA(),e._UZ(72,"input",37),e.qZA()(),e.TgZ(73,"div",2)(74,"div",11)(75,"label",38),e._uU(76,"User Email"),e.qZA(),e._UZ(77,"input",39),e.qZA(),e.TgZ(78,"div",11)(79,"label",40),e._uU(80,"Type"),e.qZA(),e._UZ(81,"p-dropdown",41),e.ALo(82,"translate"),e.YNc(83,le,4,3,"div",14),e.qZA()(),e.TgZ(84,"div",2)(85,"div",21)(86,"label",42),e._uU(87,"Status"),e.qZA(),e.TgZ(88,"div",23),e.YNc(89,ae,5,4,"ng-container",24),e.qZA()()(),e.TgZ(90,"div",2)(91,"div",21)(92,"label",43),e._uU(93),e.ALo(94,"translate"),e.qZA(),e.TgZ(95,"button",27),e.NdJ("click",function(){return o.queryRoleMappingList()}),e.qZA(),e.TgZ(96,"label",28),e.YNc(97,ue,3,1,"div",44),e.qZA(),e.YNc(98,ce,4,3,"div",14),e.qZA()(),e.TgZ(99,"div",2)(100,"div",45)(101,"label",46),e._uU(102),e.ALo(103,"translate"),e.qZA(),e.TgZ(104,"div",47),e._UZ(105,"input",48),e.ALo(106,"translate"),e.TgZ(107,"button",27),e.NdJ("click",function(){return o.openOrgDialog()}),e.qZA()(),e.YNc(108,de,4,3,"div",14),e.qZA()(),e.TgZ(109,"div",2)(110,"div",31)(111,"button",32),e.NdJ("click",function(){return o.updateData()}),e._uU(112),e.ALo(113,"translate"),e.qZA(),e.TgZ(114,"button",33),e.NdJ("click",function(){return o.changePage("query")}),e._uU(115),e.ALo(116,"translate"),e.qZA()()()()()(),e._UZ(117,"p-toast",49),e.TgZ(118,"p-confirmDialog",50,51),e.YNc(120,_e,5,8,"ng-template",8),e.qZA()),2&t&&(e.Q6J("title",o.currentTitle)("isDefault",1==o.pageNum),e.xp6(1),e.Q6J("hidden",1!=o.pageNum),e.xp6(4),e.Oqu(e.lcZ(6,47,"button.create")),e.xp6(2),e.Akn(e.DdM(69,ge)),e.Q6J("columns",o.cols)("value",o.tableData),e.xp6(5),e.Q6J("hidden",2!=o.pageNum),e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(6),e.Q6J("ngIf",(null==o.userName?null:o.userName.invalid)&&((null==o.userName?null:o.userName.dirty)||(null==o.userName?null:o.userName.touched))),e.xp6(13),e.Akn(e.DdM(70,C)),e.s9C("placeholder",e.lcZ(33,49,"plz_chs")),e.Q6J("options",o.idpTypeList),e.xp6(2),e.Q6J("ngIf",(null==o.idpType?null:o.idpType.invalid)&&((null==o.idpType?null:o.idpType.dirty)||(null==o.idpType?null:o.idpType.touched))),e.xp6(6),e.Q6J("ngForOf",o.idpStatusList),e.xp6(4),e.Oqu(e.lcZ(45,51,"role_list")),e.xp6(6),e.Q6J("ngIf",o.roleAliasList.value.length>0),e.xp6(1),e.Q6J("ngIf",(null==o.roleAliasList?null:o.roleAliasList.invalid)&&((null==o.roleAliasList?null:o.roleAliasList.dirty)||(null==o.roleAliasList?null:o.roleAliasList.touched))),e.xp6(1),e.Q6J("ngIf","create"==o.currentAction),e.xp6(3),e.Q6J("disabled",o.form.invalid||0==o.roleAliasList.value.length),e.xp6(1),e.Oqu(e.lcZ(57,53,"button.create")),e.xp6(3),e.Oqu(e.lcZ(60,55,"button.return_to_list")),e.xp6(2),e.Q6J("hidden",3!=o.pageNum),e.xp6(1),e.Q6J("formGroup",o.formU),e.xp6(6),e.Q6J("ngIf",(null==o.newUserName_u?null:o.newUserName_u.invalid)&&((null==o.newUserName_u?null:o.newUserName_u.dirty)||(null==o.newUserName_u?null:o.newUserName_u.touched))),e.xp6(13),e.Akn(e.DdM(71,C)),e.s9C("placeholder",e.lcZ(82,57,"plz_chs")),e.Q6J("options",o.idpTypeList),e.xp6(2),e.Q6J("ngIf",(null==o.newIdpType_u?null:o.newIdpType_u.invalid)&&((null==o.newIdpType_u?null:o.newIdpType_u.dirty)||(null==o.newIdpType_u?null:o.newIdpType_u.touched))),e.xp6(6),e.Q6J("ngForOf",o.idpStatusList),e.xp6(4),e.Oqu(e.lcZ(94,59,"role_list")),e.xp6(4),e.Q6J("ngIf",o.newRoleAliasList_u.value.length>0),e.xp6(1),e.Q6J("ngIf",(null==o.newRoleAliasList_u?null:o.newRoleAliasList_u.invalid)&&((null==o.newRoleAliasList_u?null:o.newRoleAliasList_u.dirty)||(null==o.newRoleAliasList_u?null:o.newRoleAliasList_u.touched))),e.xp6(4),e.Oqu(e.lcZ(103,61,"org_name")),e.xp6(3),e.s9C("placeholder",e.lcZ(106,63,"org_name")),e.uIk("disabled",!0),e.xp6(3),e.Q6J("ngIf",null==o.newOrgId_u?null:o.newOrgId_u.invalid),e.xp6(3),e.Q6J("disabled",o.formU.invalid||0==o.newRoleAliasList_u.value.length),e.xp6(1),e.Oqu(e.lcZ(113,65,"button.update")),e.xp6(3),e.Oqu(e.lcZ(116,67,"button.return_to_list")),e.xp6(2),e.Akn(e.DdM(72,me)),e.xp6(1),e.Akn(e.DdM(73,he)))},directives:[U.e,q.iA,h.jx,r.sg,r.PC,r.O5,O.Hq,M.u,u._Y,u.JL,u.sg,u.Fj,u.JJ,u.u,D.Lt,E.EU,B.FN,S.Q],pipes:[y.X$,H.Q],styles:[".form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background:#F6F6F6}.border-style[_ngcontent-%COMP%]{border:0;border-top:1px solid #ddd;background:transparent}"]}),n})();var P=l(86347);const ve=[{path:"",component:fe,canActivate:[P.u6]}];let Ae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.Bz.forChild(ve)],p.Bz]}),n})();var Te=l(48750),Re=l(31890);let ye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[P.u6],imports:[[r.ez,Ae,Te.W,Re.m,u.UX,u.u5]]}),n})()},63710:(I,R,l)=>{l.d(R,{e:()=>a});var r=l(87587),p=l(69808),A=l(51062);function h(e,s){if(1&e&&(r.TgZ(0,"div")(1,"h3",9),r._uU(2),r.ALo(3,"translate"),r.qZA()()),2&e){const _=r.oxw();r.xp6(2),r.Oqu(r.lcZ(3,1,_.title))}}function b(e,s){if(1&e){const _=r.EpF();r.TgZ(0,"div",10)(1,"button",11),r.NdJ("click",function(){return r.CHM(_),r.oxw().return()}),r._UZ(2,"i",12),r._uU(3),r.ALo(4,"translate"),r.qZA(),r.TgZ(5,"span",13),r._uU(6),r.qZA(),r.TgZ(7,"span",14),r._uU(8),r.qZA()()}if(2&e){const _=r.oxw();r.xp6(3),r.hij(" ",r.lcZ(4,3,"button.return_to_list")," "),r.xp6(3),r.hij("",_.getHead()," /"),r.xp6(2),r.Oqu(_.getTail())}}const f=[[["","center-view","center"]],"*"],u=["[center-view=center]","*"];let a=(()=>{class e{constructor(){this.title="",this.isDefault=!0,this.headerReturn=new r.vpe}ngOnInit(){}return(){this.headerReturn.emit(null)}getHead(){const _=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return _.pop(),_.join(" / ")}getTail(){const _=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return _[_.length-1]}}return e.\u0275fac=function(_){return new(_||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-container"]],inputs:{title:"title",isDefault:"isDefault"},outputs:{headerReturn:"headerReturn"},ngContentSelectors:u,decls:11,vars:2,consts:[[1,"container-fluid","h-100"],[1,"row","position-relative",2,"height","calc(100% - 40px - 0.5rem)"],[1,"col"],[2,"margin-bottom","0.5rem"],[4,"ngIf"],["style","text-align: right",4,"ngIf"],[1,"col","d-flex","justify-content-center"],[1,"my-0","mb-2"],[1,"p-2"],["id","content",1,"page-title"],[2,"text-align","right"],["type","button","icon","",1,"btn","float-start","tpi-header-return",3,"click"],[1,"fas","fa-arrow-left",2,"margin-right","5px"],[1,"mb-0",2,"font-size","0.8rem","color","#666464"],[1,"mb-0",2,"font-size","0.8rem","color","#ff6e38","font-weight","bold"]],template:function(_,Z){1&_&&(r.F$t(f),r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),r.YNc(4,h,4,3,"div",4),r.YNc(5,b,9,5,"div",5),r.TgZ(6,"div",6),r.Hsn(7),r.qZA()(),r._UZ(8,"hr",7),r.Hsn(9,1),r._UZ(10,"div",8),r.qZA()()()),2&_&&(r.xp6(4),r.Q6J("ngIf",Z.isDefault),r.xp6(1),r.Q6J("ngIf",!Z.isDefault))},directives:[p.O5],pipes:[A.X$],styles:[".card.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:400;color:#5a5541}"]}),e})()},92718:(I,R,l)=>{l.d(R,{u:()=>s});var r=l(54004),p=l(70262),A=l(62843),h=l(87587),b=l(4516),f=l(89709),u=l(99291),a=l(38441),e=l(60991);let s=(()=>{class _{constructor(y,x,w,U,q){this.toolService=y,this.tokenService=x,this.router=w,this.ngxService=U,this.logoutService=q}canActivate(){return this.ngxService.stopAll(),!this.toolService.isTokenExpired()||this.toolService.refreshToken().pipe((0,r.U)(y=>!!y.access_token),(0,p.K)(this.handleError.bind(this)))}handleError(y){return setTimeout(()=>this.logoutService.logout()),(0,A._)(()=>y)}}return _.\u0275fac=function(y){return new(y||_)(h.LFG(b.g),h.LFG(f.B),h.LFG(u.F0),h.LFG(a.LA),h.LFG(e.P))},_.\u0275prov=h.Yz7({token:_,factory:_.\u0275fac}),_})()},86347:(I,R,l)=>{l.d(R,{DL:()=>r.D,u6:()=>A.u});var r=l(48895),A=(l(45240),l(92718));l(4516)},72129:(I,R,l)=>{l.d(R,{Q:()=>A});var r=l(87587),p=l(22313);let A=(()=>{class h{constructor(f){this.sanitizer=f}transform(f){return f?this.sanitizer.bypassSecurityTrustUrl(f):""}}return h.\u0275fac=function(f){return new(f||h)(r.Y36(p.H7,16))},h.\u0275pipe=r.Yjl({name:"safeUrl",type:h,pure:!0}),h})()},1955:(I,R,l)=>{l.d(R,{N:()=>b});var r=l(92340),p=l(57553),A=l(87587),h=l(96614);let b=(()=>{class f{constructor(a){this.api=a,this.api.baseUrl=r.N.dpPath}get basePath(){return r.N.isv4?"dgrv4/11":"tsmpdpaa/11"}addTRole(a){let e={ReqHeader:this.api.getReqHeader(p.Nx.addTRole),ReqBody:a};return this.api.npPost(`${this.basePath}/AA0011`,e)}updateTRoleFunc(a){let e={ReqHeader:this.api.getReqHeader(p.Nx.updateTRoleFunc),ReqBody:a};return this.api.npPost(`${this.basePath}/AA0013`,e)}deleteTRole(a){let e={ReqHeader:this.api.getReqHeader(p.Nx.deleteTRole),ReqBody:a};return this.api.npPost(`${this.basePath}/AA0014`,e)}addTRoleRoleMap(a){let e={ReqHeader:this.api.getReqHeader(p.Nx.addTRoleRoleMap),ReqBody:a};return this.api.npPost(`${this.basePath}/AA0016`,e)}deleteTRoleRoleMap(a){let e={ReqHeader:this.api.getReqHeader(p.Nx.deleteTRoleRoleMap),ReqBody:a};return this.api.npPost(`${this.basePath}/AA0017`,e)}updateTRoleRoleMap(a){let e={ReqHeader:this.api.getReqHeader(p.Nx.updateTRoleRoleMap),ReqBody:a};return this.api.npPost(`${this.basePath}/AA0018`,e)}queryTRoleList_v3_ignore1298(a){let e={ReqHeader:this.api.getReqHeader(p.Nx.queryTRoleList_v3),ReqBody:a};return this.api.excuteNpPost_ignore1298(`${this.basePath}/AA0020`,e)}queryTRoleList_v3(a){let e={ReqHeader:this.api.getReqHeader(p.Nx.queryTRoleList_v3),ReqBody:a};return this.api.npPost(`${this.basePath}/AA0020`,e)}queryTRoleRoleMapDetail(a){let e={ReqHeader:this.api.getReqHeader(p.Nx.queryTRoleRoleMapDetail),ReqBody:a};return this.api.npPost(`${this.basePath}/AA0021`,e)}queryTRoleRoleMap_ignore1298(a){let e={ReqHeader:this.api.getReqHeader(p.Nx.queryTRoleList_v3),ReqBody:a};return this.api.excuteNpPost_ignore1298(`${this.basePath}/AA0022`,e)}queryTRoleRoleMap(a){let e={ReqHeader:this.api.getReqHeader(p.Nx.queryTRoleList_v3),ReqBody:a};return this.api.npPost(`${this.basePath}/AA0022`,e)}queryRoleRoleList(a){let e={ReqHeader:this.api.getReqHeader(p.Nx.queryRoleRoleList),ReqBody:a};return this.api.npPost(`${this.basePath}/AA0023`,e)}createRTMap_before(){let a={ReqHeader:this.api.getReqHeader(p.Nx.createRTMap),ReqBody:{}};return this.api.npPost(`${this.basePath}/DPB0110?before`,a)}createRTMap(a){let e={ReqHeader:this.api.getReqHeader(p.Nx.createRTMap),ReqBody:a};return this.api.npPost(`${this.basePath}/DPB0110`,e)}queryRTMapList_ignore1298(a){let e={ReqHeader:this.api.getReqHeader(p.Nx.queryRTMapList),ReqBody:a};return this.api.excuteNpPost_ignore1298(`${this.basePath}/DPB0111`,e)}queryRTMapList(a){let e={ReqHeader:this.api.getReqHeader(p.Nx.queryRTMapList),ReqBody:a};return this.api.npPost(`${this.basePath}/DPB0111`,e)}queryRTMapByPk(a){let e={ReqHeader:this.api.getReqHeader(p.Nx.queryRTMapByPk),ReqBody:a};return this.api.npPost(`${this.basePath}/DPB0112`,e)}updateRTMap_before(){let a={ReqHeader:this.api.getReqHeader(p.Nx.updateRTMap),ReqBody:{}};return this.api.npPost(`${this.basePath}/DPB0113?before`,a)}updateRTMap(a){let e={ReqHeader:this.api.getReqHeader(p.Nx.updateRTMap),ReqBody:a};return this.api.npPost(`${this.basePath}/DPB0113`,e)}deleteRTMap(a){let e={ReqHeader:this.api.getReqHeader(p.Nx.deleteRTMap),ReqBody:a};return this.api.npPost(`${this.basePath}/DPB0114`,e)}queryRTMapByUk(a){let e={ReqHeader:this.api.getReqHeader(p.Nx.queryRTMapByUk),ReqBody:a};return this.api.npPost(`${this.basePath}/DPB0115`,e)}}return f.\u0275fac=function(a){return new(a||f)(A.LFG(h.K))},f.\u0275prov=A.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()}}]);