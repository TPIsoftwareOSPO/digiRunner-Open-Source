"use strict";(self.webpackChunksrcAngular=self.webpackChunksrcAngular||[]).push([[6110],{96110:(U,y,n)=>{n.r(y),n.d(y,{Ac0315Module:()=>Ft});var u=n(69808),g=n(99291),f=n(15861),w=n(58348),r=n(93075),v=n(14525),N=n(57553),h=n(27896),b=n(10784),x=n(1694),t=n(87587),D=n(56435),O=n(4516),S=n(86518),B=n(46877),$=n(41313),R=n(59783),k=n(63710),V=n(40845),E=n(61208),K=n(14036),M=n(49603),Q=n(42939),q=n(23099),Y=n(17773),P=n(51062);function H(a,i){if(1&a&&(t.TgZ(0,"div",55)(1,"small",56),t._uU(2),t.qZA(),t.TgZ(3,"small",56),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"small",56),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"small",56),t._uU(10),t.qZA()()),2&a){const e=t.oxw(2);t.xp6(2),t.Oqu(e.moduleName.errors.isRequired),t.xp6(2),t.Oqu(t.lcZ(5,4,e.moduleName.errors.maxlength)),t.xp6(3),t.Oqu(t.lcZ(8,6,e.moduleName.errors.minlength)),t.xp6(3),t.Oqu(e.moduleName.errors.pattern)}}function W(a,i){if(1&a&&(t.TgZ(0,"div",55)(1,"small",56),t._uU(2),t.qZA(),t.TgZ(3,"small",56),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"small",56),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"small",56),t._uU(10),t.qZA()()),2&a){const e=t.oxw(2);t.xp6(2),t.Oqu(e.apiKey.errors.isRequired),t.xp6(2),t.Oqu(t.lcZ(5,4,e.apiKey.errors.maxlength)),t.xp6(3),t.Oqu(t.lcZ(8,6,e.apiKey.errors.minlength)),t.xp6(3),t.Oqu(e.apiKey.errors.pattern)}}function G(a,i){if(1&a&&(t.TgZ(0,"div",55)(1,"small",56),t._uU(2),t.qZA(),t.TgZ(3,"small",56),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"small",56),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"small",56),t._uU(10),t.qZA()()),2&a){const e=t.oxw(2);t.xp6(2),t.Oqu(e.methods.errors.isRequired),t.xp6(2),t.Oqu(t.lcZ(5,4,e.methods.errors.maxlength)),t.xp6(3),t.Oqu(t.lcZ(8,6,e.methods.errors.minlength)),t.xp6(3),t.Oqu(e.methods.errors.pattern)}}const I=function(){return{width:"100%",height:"36px"}},j=function(){return{width:"100%",minWidth:"150px"}},F=function(){return{width:"100%"}},z=function(){return{value:5}};function X(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"form",3)(2,"div",4)(3,"div",5)(4,"label"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div",6),t._UZ(8,"input",7),t.ALo(9,"translate"),t.ALo(10,"translate"),t.ALo(11,"translate"),t.TgZ(12,"button",8),t.NdJ("click",function(){return t.CHM(e),t.oxw().change_to_copy()}),t.qZA()()(),t.TgZ(13,"div",9)(14,"label",10),t._uU(15,"\xa0"),t.qZA(),t.TgZ(16,"button",11),t.NdJ("click",function(){return t.CHM(e),t.oxw().copy()}),t._uU(17),t.ALo(18,"translate"),t.qZA()()(),t.TgZ(19,"div",4)(20,"div",12)(21,"label",13),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"input",14),t.NdJ("blur",function(l){return t.CHM(e),t.oxw().setTsmpUrl(l)}),t.qZA(),t.YNc(25,H,11,8,"div",15),t.qZA(),t.TgZ(26,"div",12)(27,"label",16),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"input",17),t.NdJ("blur",function(l){return t.CHM(e),t.oxw().setTsmpUrl(l)}),t.qZA(),t.YNc(31,W,11,8,"div",15),t.qZA()(),t.TgZ(32,"div",4)(33,"div",18)(34,"div",19)(35,"div",20)(36,"label",21),t._uU(37),t.ALo(38,"translate"),t.qZA()(),t.TgZ(39,"div",22)(40,"div"),t._UZ(41,"p-checkbox",23),t.TgZ(42,"label",24),t._uU(43),t.ALo(44,"translate"),t.qZA()()()(),t.TgZ(45,"div"),t._UZ(46,"input",25),t.qZA()(),t.TgZ(47,"div",26)(48,"label",27),t._uU(49),t.ALo(50,"translate"),t.qZA(),t.TgZ(51,"div",28),t._UZ(52,"p-dropdown",29),t.ALo(53,"translate"),t.YNc(54,G,11,8,"div",15),t.qZA()()(),t.TgZ(55,"div",30)(56,"div",31)(57,"label",32),t._uU(58),t.ALo(59,"translate"),t.qZA(),t.TgZ(60,"div",33),t._UZ(61,"p-dropdown",34),t.ALo(62,"translate"),t.qZA()(),t.TgZ(63,"div",35)(64,"label",32),t._uU(65),t.ALo(66,"translate"),t.qZA(),t.TgZ(67,"div",36)(68,"div",37),t.ynx(69),t.TgZ(70,"div",38),t._UZ(71,"p-radioButton",39),t.TgZ(72,"label",40),t._uU(73),t.ALo(74,"translate"),t.qZA()(),t.TgZ(75,"div",38),t._UZ(76,"p-radioButton",41),t.TgZ(77,"label",42),t._uU(78),t.ALo(79,"translate"),t.qZA()(),t.BQk(),t.qZA()()(),t.TgZ(80,"div",35)(81,"label",43),t._uU(82,"Request\uff1a"),t.qZA(),t.TgZ(83,"div",33)(84,"p-dropdown",44),t.NdJ("onChange",function(l){return t.CHM(e),t.oxw().jweFlagOnChange(l)}),t.qZA()()(),t.TgZ(85,"div",35)(86,"label",10),t._uU(87,"Response\uff1a"),t.qZA(),t.TgZ(88,"div",33)(89,"p-dropdown",45),t.NdJ("onChange",function(l){return t.CHM(e),t.oxw().jweFlagRespOnChange(l)}),t.qZA()()()(),t.TgZ(90,"div",46)(91,"label",47),t._uU(92),t.ALo(93,"translate"),t.qZA(),t.TgZ(94,"div",48),t._UZ(95,"textarea",49),t.qZA()(),t.TgZ(96,"div",4)(97,"div",48)(98,"label",10),t._uU(99),t.ALo(100,"translate"),t.qZA(),t.TgZ(101,"div")(102,"p-chips",50),t.NdJ("onAdd",function(l){return t.CHM(e),t.oxw().checkChips(l)}),t.ALo(103,"translate"),t.qZA()()()()(),t.TgZ(104,"div",51)(105,"div",52)(106,"button",53),t.NdJ("click",function(){return t.CHM(e),t.oxw().composer()}),t._uU(107),t.ALo(108,"translate"),t.qZA(),t.TgZ(109,"button",54),t.NdJ("click",function(){return t.CHM(e),t.oxw().clearCopyTarget()}),t._uU(110),t.ALo(111,"translate"),t.qZA()()()()}if(2&a){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.form),t.xp6(4),t.Oqu(t.lcZ(6,45,"copy_from_existing_api")),t.xp6(3),t.cQ8("placeholder","",t.lcZ(9,47,"module_name"),"-",t.lcZ(10,49,"api_name"),"(",t.lcZ(11,51,"api_key"),")"),t.xp6(8),t.Q6J("disabled",!e.copy_target),t.xp6(1),t.hij(" ",t.lcZ(18,53,"copy")," "),t.xp6(5),t.Oqu(t.lcZ(23,55,"module_name")),t.xp6(3),t.Q6J("ngIf",e.moduleName.invalid&&(e.moduleName.dirty||e.moduleName.touched)),t.xp6(3),t.Oqu(t.lcZ(29,57,"api_key")),t.xp6(3),t.Q6J("ngIf",e.apiKey.invalid&&(e.apiKey.dirty||e.apiKey.touched)),t.xp6(6),t.Oqu(t.lcZ(38,59,"tar_url")),t.xp6(4),t.Q6J("binary",!0),t.xp6(2),t.Oqu(t.lcZ(44,61,"no_auth")),t.xp6(6),t.Oqu(t.lcZ(50,63,"methods")),t.xp6(3),t.Akn(t.DdM(88,I)),t.s9C("defaultLabel",t.lcZ(53,65,"chs_methods")),t.Q6J("options",e.httpmethods)("panelStyle",t.DdM(89,j)),t.xp6(2),t.Q6J("ngIf",e.methods.invalid&&(e.methods.dirty||e.methods.touched)),t.xp6(4),t.Oqu(t.lcZ(59,67,"data_format")),t.xp6(3),t.Akn(t.DdM(90,I)),t.s9C("placeholder",t.lcZ(62,69,"plz_chs")),t.Q6J("options",e.dataFormats)("panelStyle",t.DdM(91,j)),t.xp6(4),t.Oqu(t.lcZ(66,71,"jwt_setting")),t.xp6(6),t.Q6J("value",!0),t.xp6(2),t.Oqu(t.lcZ(74,73,"button.enable")),t.xp6(3),t.Q6J("value",!1),t.xp6(2),t.Oqu(t.lcZ(79,75,"button.disable")),t.xp6(6),t.Akn(t.DdM(92,F)),t.Q6J("options",e.jwtSettingFlags),t.xp6(5),t.Akn(t.DdM(93,F)),t.Q6J("options",e.jwtSettingFlags),t.xp6(3),t.Oqu(t.lcZ(93,77,"api_desc")),t.xp6(7),t.Oqu(t.lcZ(100,79,"label_tag")),t.xp6(3),t.Q6J("max",5)("allowDuplicate",!1)("placeholder",t.xi3(103,81,"label_tag_max",t.DdM(94,z))),t.xp6(5),t.Oqu(t.lcZ(108,84,"button.composer")),t.xp6(3),t.Oqu(t.lcZ(111,86,"button.clear"))}}function tt(a,i){1&a&&t._UZ(0,"col"),2&a&&t.Udp("width",i.$implicit.width)}function et(a,i){if(1&a&&(t.TgZ(0,"colgroup"),t._UZ(1,"col",74),t.YNc(2,tt,1,2,"col",75),t.qZA()),2&a){const e=i.$implicit;t.xp6(2),t.Q6J("ngForOf",e)}}function ot(a,i){if(1&a&&(t.TgZ(0,"th",78),t._uU(1),t.qZA()),2&a){const e=i.$implicit;t.xp6(1),t.hij(" ",e.header," ")}}function at(a,i){if(1&a&&(t.TgZ(0,"tr"),t._UZ(1,"th",76),t.YNc(2,ot,2,1,"th",77),t.qZA()),2&a){const e=i.$implicit;t.xp6(2),t.Q6J("ngForOf",e)}}function lt(a,i){if(1&a&&t._UZ(0,"img",83),2&a){const e=t.oxw().$implicit,o=t.oxw().$implicit;t.Q6J("src",e.type.transform(o[e.field].v),t.LSH)}}const T=function(a){return[a]};function it(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"label",85),t.NdJ("click",function(){t.CHM(e);const l=t.oxw(2).$implicit,s=t.oxw().$implicit;return t.oxw(3).switchOri(s[l.field])}),t._uU(1),t.ALo(2,"translate"),t._UZ(3,"i",86),t._uU(4),t.ALo(5,"translate"),t.qZA()}if(2&a){const e=t.oxw(2).$implicit,o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o[e.field].t?t.lcZ(2,3,"show_more"):""," "),t.xp6(2),t.Q6J("ngClass",t.VKq(7,T,o[e.field].t?"fa-angle-double-right mt-1":"fa-angle-double-left  mt-1 me-1")),t.xp6(1),t.hij(" ",o[e.field].t?"":t.lcZ(5,5,"show_less")," ")}}function nt(a,i){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,it,6,9,"label",84),t.qZA()),2&a){const e=t.oxw().$implicit,o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o[e.field].ori&&!o[e.field].t?o[e.field].ori:o[e.field].val," "),t.xp6(1),t.Q6J("ngIf",o[e.field].ori)}}function st(a,i){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit,o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o[e.field].n," ")}}function rt(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"label",85),t.NdJ("click",function(){t.CHM(e);const l=t.oxw(2).$implicit,s=t.oxw().$implicit;return t.oxw(3).switchOri(s[l.field])}),t._uU(1),t.ALo(2,"translate"),t._UZ(3,"i",86),t._uU(4),t.ALo(5,"translate"),t.qZA()}if(2&a){const e=t.oxw(2).$implicit,o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o[e.field].t?t.lcZ(2,3,"show_more"):""," "),t.xp6(2),t.Q6J("ngClass",t.VKq(7,T,o[e.field].t?"fa-angle-double-right mt-1":"fa-angle-double-left  mt-1 me-1")),t.xp6(1),t.hij(" ",o[e.field].t?"":t.lcZ(5,5,"show_less")," ")}}function ct(a,i){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,rt,6,9,"label",84),t.qZA()),2&a){const e=t.oxw().$implicit,o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o[e.field].ori&&!o[e.field].t?o[e.field].ori:o[e.field].val," "),t.xp6(1),t.Q6J("ngIf",o[e.field].ori)}}function pt(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"label",85),t.NdJ("click",function(){t.CHM(e);const l=t.oxw(2).$implicit,s=t.oxw().$implicit;return t.oxw(3).switchOri(s[l.field])}),t._uU(1),t.ALo(2,"translate"),t._UZ(3,"i",86),t._uU(4),t.ALo(5,"translate"),t.qZA()}if(2&a){const e=t.oxw(2).$implicit,o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o[e.field].t?t.lcZ(2,3,"show_more"):""," "),t.xp6(2),t.Q6J("ngClass",t.VKq(7,T,o[e.field].t?"fa-angle-double-right mt-1":"fa-angle-double-left  mt-1 me-1")),t.xp6(1),t.hij(" ",o[e.field].t?"":t.lcZ(5,5,"show_less")," ")}}function _t(a,i){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.YNc(2,pt,6,9,"label",84),t.qZA()),2&a){const e=t.oxw().$implicit,o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o[e.field].ori&&!o[e.field].t?o[e.field].ori:o[e.field].val," "),t.xp6(1),t.Q6J("ngIf",o[e.field].ori)}}function mt(a,i){1&a&&t._UZ(0,"img",91)}function dt(a,i){1&a&&t._UZ(0,"img",92)}function ut(a,i){1&a&&t._UZ(0,"img",93)}function gt(a,i){1&a&&t._UZ(0,"img",94)}function ft(a,i){if(1&a&&(t.TgZ(0,"span"),t.YNc(1,mt,1,0,"img",87),t.YNc(2,dt,1,0,"img",88),t.YNc(3,ut,1,0,"img",89),t.YNc(4,gt,1,0,"img",90),t.qZA()),2&a){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf","1"==e.jweFlag.v),t.xp6(1),t.Q6J("ngIf","2"==e.jweFlag.v),t.xp6(1),t.Q6J("ngIf","1"==e.jweFlagResp.v),t.xp6(1),t.Q6J("ngIf","2"==e.jweFlagResp.v)}}function ht(a,i){if(1&a&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&a){const e=t.oxw().$implicit,o=t.oxw().$implicit;t.xp6(1),t.hij(" ",o[e.field]," ")}}const vt=function(a){return{width:a}};function xt(a,i){if(1&a&&(t.TgZ(0,"td",81),t.YNc(1,lt,1,1,"img",82),t.YNc(2,nt,3,2,"span",1),t.YNc(3,st,2,1,"span",1),t.YNc(4,ct,3,2,"span",1),t.YNc(5,_t,3,2,"span",1),t.YNc(6,ft,5,4,"span",1),t.YNc(7,ht,2,1,"span",1),t.qZA()),2&a){const e=i.$implicit,o=t.oxw().$implicit;t.Q6J("ngStyle",t.VKq(8,vt,"apiStatus"===e.field?"70px":"auto")),t.xp6(1),t.Q6J("ngIf","apiStatus"===e.field),t.xp6(1),t.Q6J("ngIf","apiKey"===e.field),t.xp6(1),t.Q6J("ngIf","apiSrc"==e.field),t.xp6(1),t.Q6J("ngIf","moduleName"==e.field||"apiName"==e.field),t.xp6(1),t.Q6J("ngIf","apiDesc"==e.field&&o.apiDesc),t.xp6(1),t.Q6J("ngIf","jweFlag"==e.field),t.xp6(1),t.Q6J("ngIf","updateTime"==e.field)}}function yt(a,i){if(1&a&&(t.TgZ(0,"tr")(1,"td",74),t._UZ(2,"p-tableRadioButton",79),t.qZA(),t.YNc(3,xt,8,10,"td",80),t.qZA()),2&a){const e=i.$implicit,o=i.columns;t.xp6(2),t.Q6J("value",e),t.xp6(1),t.Q6J("ngForOf",o)}}function At(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"tr")(1,"td",95)(2,"span",96),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"button",97),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).moreData()}),t._uU(6),t.ALo(7,"translate"),t._UZ(8,"i",98),t.qZA()()()}if(2&a){const e=t.oxw().$implicit,o=t.oxw(3);t.xp6(1),t.uIk("colspan",e.length+2),t.xp6(2),t.AsE("",t.lcZ(4,4,"row_count"),": ",o.rowcount,""),t.xp6(3),t.hij("",t.lcZ(7,6,"button.more")," ")}}function bt(a,i){if(1&a&&t.YNc(0,At,9,8,"tr",1),2&a){const e=t.oxw(3);t.Q6J("ngIf",e.rowcount)}}function Zt(a,i){if(1&a&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&a){const e=i.$implicit;t.xp6(1),t.uIk("colspan",e.length+1),t.xp6(1),t.hij(" ",t.lcZ(3,2,"no_rec")," ")}}const wt=function(){return{"word-break":"break-word"}};function Nt(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"p-table",68),t.NdJ("selectionChange",function(l){return t.CHM(e),t.oxw(2).selected_page2=l}),t.YNc(1,et,3,1,"ng-template",69),t.YNc(2,at,3,1,"ng-template",70),t.YNc(3,yt,4,2,"ng-template",71),t.YNc(4,bt,1,1,"ng-template",72),t.YNc(5,Zt,4,4,"ng-template",73),t.qZA()}if(2&a){const e=t.oxw(2);t.Akn(t.DdM(5,wt)),t.Q6J("columns",e.apilist)("value",e.apilist_data)("selection",e.selected_page2)}}function Tt(a,i){if(1&a){const e=t.EpF();t.TgZ(0,"div")(1,"form",57),t.NdJ("ngSubmit",function(){return t.CHM(e),t.oxw().submit_form_page2()}),t.TgZ(2,"div",4)(3,"div",5)(4,"label"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t._UZ(7,"input",58),t.ALo(8,"translate"),t.ALo(9,"translate"),t.ALo(10,"translate"),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"div",59)(13,"label"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"label",60),t._uU(17),t.ALo(18,"translate"),t.qZA()()(),t.TgZ(19,"div",4)(20,"div",61)(21,"button",62),t._uU(22),t.ALo(23,"translate"),t.qZA()()()(),t._UZ(24,"hr"),t.YNc(25,Nt,6,6,"p-table",63),t.TgZ(26,"div",64)(27,"div",65)(28,"button",66),t.NdJ("click",function(){return t.CHM(e),t.oxw().choose_copy_api()}),t._uU(29),t.ALo(30,"translate"),t.qZA(),t.TgZ(31,"button",67),t.NdJ("click",function(){return t.CHM(e),t.oxw().return()}),t._uU(32),t.ALo(33,"translate"),t.qZA()()()()}if(2&a){const e=t.oxw();t.xp6(1),t.Q6J("formGroup",e.form_page2),t.xp6(4),t.Oqu(t.lcZ(6,12,"keyword_search")),t.xp6(2),t.FAE("placeholder","",t.lcZ(8,14,"api_key"),"\u3001",t.lcZ(9,16,"module_name"),"\u3001",t.lcZ(10,18,"api_name"),"\u3001",t.lcZ(11,20,"api_desc"),""),t.xp6(7),t.Oqu(t.lcZ(15,22,"api_src")),t.xp6(3),t.Oqu(t.lcZ(18,24,"composed")),t.xp6(5),t.Oqu(t.lcZ(23,26,"button.search")),t.xp6(3),t.Q6J("ngIf",e.apilist),t.xp6(4),t.Oqu(t.lcZ(30,28,"button.join")),t.xp6(3),t.Oqu(t.lcZ(33,30,"button.return_to_list"))}}const Ct=function(){return{marginTop:"60px"}};let Ut=(()=>{class a extends v.H{constructor(e,o,l,s,c,p,_,d,Z,m){super(e,o),this.apiService=l,this.tool=s,this.util=c,this.alert=p,this.list=_,this.fb=d,this.serverService=Z,this.messageService=m,this.pageNum=1,this.apilist=[],this.apilist_data=[],this.rowcount=0,this.httpmethods=[],this.dataFormats=[],this.jwtSettingFlags=[],this.maxLength255={value:255},this.form=this.fb.group({apiUUID:new r.NI(""),copy_target:new r.NI(""),moduleName:new r.NI("",x.np()),apiKey:new r.NI("",x.np()),urlRID:new r.NI(!1),no_oauth:new r.NI(!1),tokenPayload:new r.NI(!1),tsmpURL:new r.NI({value:"",disabled:!0}),methods:new r.NI("",[x.np()]),jwtSetting:new r.NI(!1),jweFlag:new r.NI({value:"0",disabled:!0}),jweFlagResp:new r.NI({value:"0",disabled:!0}),apiDesc:new r.NI(""),dataFormat:new r.NI("1"),apiSrc:new r.NI(""),protocol:new r.NI(""),srcUrl:new r.NI(""),regHostId:new r.NI("None"),labelList:new r.NI([])}),this.form_page2=this.fb.group({keyword:new r.NI("")})}ngOnInit(){var e=this;return(0,f.Z)(function*(){const l=yield e.tool.getDict(["api_key","module_name","api_name","api_desc","not_use"]);e.apilist=[{field:"apiKey",header:l.api_key,width:"25%"},{field:"moduleName",header:`${l.module_name}`,width:"25%"},{field:"apiName",header:l.api_name,width:"25%"},{field:"apiDesc",header:l.api_desc,width:"25%"}],e.httpmethods=b.K.methods,e.form.get("jwtSetting").valueChanges.subscribe(p=>{1==p?(e.form.get("jweFlag").enable(),e.form.get("jweFlag").setValue("0"),e.form.get("jweFlagResp").enable(),e.form.get("jweFlagResp").setValue("1")):(e.form.get("jweFlag").setValue("0"),e.form.get("jweFlag").disable(),e.form.get("jweFlagResp").setValue("0"),e.form.get("jweFlagResp").disable())});let s={encodeItemNo:e.tool.Base64Encoder(e.tool.BcryptEncoder("API_DATA_FORMAT"))+",30",isDefault:"N"};e.list.querySubItemsByItemNo(s).subscribe(p=>{let _=[];p.RespBody.subItems&&p.RespBody.subItems.forEach(d=>{_.push({label:d.subitemName,value:d.subitemNo})}),e.dataFormats=_});let c={encodeItemNo:e.tool.Base64Encoder(e.tool.BcryptEncoder("API_JWT_FLAG"))+",31",isDefault:"N"};e.list.querySubItemsByItemNo(c).subscribe(p=>{let _=[];p.RespBody.subItems&&p.RespBody.subItems.forEach(d=>{_.push({label:d.subitemName,value:d.subitemNo})}),e.jwtSettingFlags=_}),e.apiService.registerAPI_v3_before().subscribe(p=>{e.tool.checkDpSuccess(p.ResHeader)&&e.addFormValidator(e.form,p.RespBody.constraints)}),e.labelList.valueChanges.subscribe(p=>{e.labelList.setValue(Array.isArray(p)?p.map(_=>_.toLowerCase()):[],{emitEvent:!1})})})()}change_to_copy(){var e=this;return(0,f.Z)(function*(){const l=yield e.tool.getDict(["api_list"]);e.title=`${e.title} > ${l.api_list}`,e.pageNum=2,e.form_page2.get("keyword").setValue(""),e.selected_page2={},e.apilist_data=[];let s={keyword:e.form_page2.get("keyword").value,apiSrc:["C"],paging:"Y"};e.apiService.queryAPIList_v3_ignore1298(s).subscribe(c=>{e.tool.checkDpSuccess(c.ResHeader)&&(e.apilist_data=c.RespBody.dataList,e.rowcount=c.RespBody.dataList.length)})})()}submit_form_page2(){this.apilist_data=[];let e={keyword:this.form_page2.get("keyword").value,apiSrc:["C"],paging:"Y"};this.apiService.queryAPIList_v3(e).subscribe(o=>{this.tool.checkDpSuccess(o.ResHeader)&&(this.apilist_data=o.RespBody.dataList,this.rowcount=o.RespBody.dataList.length)})}moreData(){let e={keyword:this.form_page2.get("keyword").value,apiSrc:["C"],paging:"Y",moduleName:this.apilist_data[this.apilist_data.length-1].moduleName.t?this.apilist_data[this.apilist_data.length-1].moduleName.ori:this.apilist_data[this.apilist_data.length-1].moduleName.val,apiKey:this.apilist_data[this.apilist_data.length-1].apiKey.t?this.apilist_data[this.apilist_data.length-1].apiKey.ori:this.apilist_data[this.apilist_data.length-1].apiKey.val};this.apiService.queryAPIList_v3(e).subscribe(o=>{this.tool.checkDpSuccess(o.ResHeader)&&(this.apilist_data=this.apilist_data.concat(o.RespBody.dataList),this.rowcount=this.apilist_data.length)})}return(){this.title=`${this.title.split(">")[0]}`,this.pageNum=1}choose_copy_api(){this.copy_target=this.selected_page2,this.title=`${this.title.split(">")[0]}`,this.pageNum=1,this.form.get("copy_target").setValue(`${this.selected_page2.moduleName.val}-${this.selected_page2.apiName.val}(${this.selected_page2.apiKey.val})`)}setTsmpUrl(e){let o=this.form.get("moduleName").value,l=this.form.get("apiKey").value;o&&l&&this.form.get("tsmpURL").setValue(`/${o}/${l}`)}copy(){this.apiDetail={},this.clear(),this.apiService.queryAPIDetail_v3({moduleName:this.copy_target.moduleName.ori?this.copy_target.moduleName.ori:this.copy_target.moduleName.val,apiKey:this.copy_target.apiKey.ori?this.copy_target.apiKey.ori:this.copy_target.apiKey.val}).subscribe(o=>{if(this.tool.checkDpSuccess(o.ResHeader)){console.log(o.RespBody),this.apiDetail=o.RespBody;const l=o.RespBody.moduleName.o?o.RespBody.moduleName.o:o.RespBody.moduleName.v,s=o.RespBody.apiKey.o?o.RespBody.apiKey.o:o.RespBody.apiKey.v;this.form.get("apiUUID").setValue(o.RespBody.apiUUID),this.form.get("apiKey").setValue(s),this.form.get("moduleName").setValue(l),this.form.get("tsmpURL").setValue(`/${l}/${s}`),this.form.get("methods").setValue(o.RespBody.methodOfJson),this.form.get("apiDesc").setValue(o.RespBody.apiDesc),this.form.get("jweFlag").setValue(o.RespBody.jweFlag.v),this.form.get("jweFlagResp").setValue(o.RespBody.jweFlagResp.v),this.form.get("dataFormat").setValue(o.RespBody.dataFormat.v),this.form.get("urlRID").setValue("1"==o.RespBody.urlRID),this.form.get("no_oauth").setValue("1"==o.RespBody.noOAuth),this.form.get("tokenPayload").setValue(1==o.RespBody.funFlag),"0"!=o.RespBody.jweFlag.v&&null!=o.RespBody.jweFlag.v||"0"!=o.RespBody.jweFlagResp.v&&null!=o.RespBody.jweFlagResp.v?(this.form.get("jwtSetting").setValue(!0),this.form.get("jweFlag").enable(),this.form.get("jweFlag").setValue(o.RespBody.jweFlag.v),this.form.get("jweFlagResp").enable(),this.form.get("jweFlagResp").setValue(o.RespBody.jweFlagResp.v)):(this.form.get("jwtSetting").setValue(!1),this.form.get("jweFlag").setValue("0"),this.form.get("jweFlag").disable(),this.form.get("jweFlagResp").setValue("0"),this.form.get("jweFlagResp").disable()),this.labelList.setValue(o.RespBody.labelList)}})}composer(){var e=this;return(0,f.Z)(function*(){var o,l,s,c,p,_,d,Z;let m={apiId:e.form.get("apiKey").value,moduleName:e.form.get("moduleName").value,apiSrc:N.QV.Composed,srcUrl:e.form.get("tsmpURL").value,apiDesc:e.form.get("apiDesc").value,methods:[e.form.get("methods").value],urlRID:e.form.get("urlRID").value,noOAuth:e.form.get("no_oauth").value,funFlag:e.funFlagConvert(),dataFormat:e.translate(e.form.get("dataFormat").value),jweFlag:e.translate(e.form.get("jweFlag").value),jweFlagResp:e.translate(e.form.get("jweFlagResp").value),labelList:e.labelList.value};"{}"!=JSON.stringify(e.apiDetail)&&e.apiDetail&&(m.consumes=(null===(o=e.apiDetail.consumesOfJson)||void 0===o?void 0:o.t)?JSON.parse(null!==(l=e.apiDetail.consumesOfJson.o)&&void 0!==l?l:""):JSON.parse(e.apiDetail.consumesOfJson.v),m.produces=(null===(s=e.apiDetail.producesOfJson)||void 0===s?void 0:s.t)?JSON.parse(null!==(c=e.apiDetail.producesOfJson.o)&&void 0!==c?c:""):JSON.parse(e.apiDetail.producesOfJson.v),m.headers=(null===(p=e.apiDetail.headersOfJson)||void 0===p?void 0:p.t)?JSON.parse(null!==(_=e.apiDetail.headersOfJson.o)&&void 0!==_?_:""):JSON.parse(e.apiDetail.headersOfJson.v),m.params=(null===(d=e.apiDetail.paramsOfJson)||void 0===d?void 0:d.t)?JSON.parse(null!==(Z=e.apiDetail.paramsOfJson.o)&&void 0!==Z?Z:""):JSON.parse(e.apiDetail.paramsOfJson.v));const Lt=e.serverService.getACEntryTicket({resource:m.moduleName,subclass:m.apiId});e.apiService.registerAPI_v3(m).subscribe(Dt=>{e.tool.checkDpSuccess(Dt.ResHeader)&&Lt.subscribe(function(){var Ot=(0,f.Z)(function*(A){if(e.tool.checkDpSuccess(A.ResHeader)){let C=e.tool.composerUrl({port:A.RespBody.targetPort,path:A.RespBody.targetPath,apiUid:A.RespBody.apiUid,authCode:A.RespBody.authCode,moduleName:m.moduleName,apiKey:m.apiId});e.form.get("apiUUID").value&&(C+=`&copy=${e.form.get("apiUUID").value}`),C+=`&method=${m.methods[0]}`,window.open(C);const Bt=["message.create","message.success"],L=yield e.tool.getDict(Bt);e.moduleName.reset(),e.apiKey.reset(),e.form.get("tsmpURL").reset(),e.alert.ok("",`${L["message.create"]} ${L["message.success"]}`)}});return function(A){return Ot.apply(this,arguments)}}())})})()}translate(e){return this.tool.Base64Encoder(this.tool.BcryptEncoder(e))+","+e}clearCopyTarget(){this.copy_target=void 0,this.form.get("copy_target").setValue(""),this.clear()}clear(){this.form.get("apiUUID").setValue(null),this.form.get("apiKey").setValue(""),this.form.get("moduleName").setValue(""),this.form.get("tsmpURL").setValue(""),this.form.get("apiDesc").setValue(""),this.form.get("methods").setValue([]),this.form.get("urlRID").setValue(!1),this.form.get("no_oauth").setValue(!1),this.form.get("tokenPayload").setValue(!1),this.form.get("jwtSetting").setValue(!1),this.form.get("dataFormat").setValue("1"),this.form.get("jweFlag").setValue("0"),this.form.get("jweFlagResp").setValue("0"),this.form.get("labelList").setValue([]),this.apiDetail={}}jweFlagOnChange(e){"0"==this.form.get("jweFlag").value&&"0"==this.form.get("jweFlagResp").value&&this.form.get("jwtSetting").setValue(!1)}jweFlagRespOnChange(e){"0"==this.form.get("jweFlag").value&&"0"==this.form.get("jweFlagResp").value&&this.form.get("jwtSetting").setValue(!1)}funFlagConvert(){return{tokenPayload:!!this.form.get("tokenPayload").value}}copyData(e){var o=this;return(0,f.Z)(function*(){const s=yield o.tool.getDict(["copy","data","message.success"]);let c=document.createElement("textarea");c.style.position="fixed",c.style.left="0",c.style.top="0",c.style.opacity="0",c.value=e,document.body.appendChild(c),c.focus(),c.select(),document.execCommand("copy"),document.body.removeChild(c),o.messageService.add({severity:"success",summary:`${s.copy} ${s.data}`,detail:`${s.copy} ${s["message.success"]}`})})()}headerReturn(){this.return()}switchOri(e){e.t=!e.t||!e.t}checkChips(e){var o=this;return(0,f.Z)(function*(){if(e.value.length>20){const l=["validation.maxlength"],s=yield o.tool.getDict(l,{value:"20"});o.alert.ok(s["validation.maxlength"],""),o.labelList.value.pop()}})()}get apiSrc(){return this.form.get("apiSrc")}get protocol(){return this.form.get("protocol")}get srcUrl(){return this.form.get("srcUrl")}get moduleName(){return this.form.get("moduleName")}get apiKey(){return this.form.get("apiKey")}get methods(){return this.form.get("methods")}get regHostId(){return this.form.get("regHostId")}get labelList(){return this.form.get("labelList")}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(g.gz),t.Y36(D.W),t.Y36(w.s),t.Y36(O.g),t.Y36(h.f),t.Y36(S.c),t.Y36(B.X),t.Y36(r.qu),t.Y36($.N),t.Y36(R.ez))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-ac0315"]],features:[t._Bn([w.s,h.f]),t.qOj],decls:4,vars:7,consts:[[3,"title","isDefault","headerReturn"],[4,"ngIf"],["position","top-left"],[3,"formGroup"],[1,"form-group","row"],[1,"col-3","col-xl-3","col-lg-3"],[1,"ui-inputgroup"],["type","text","formControlName","copy_target","readonly","",1,"form-control",3,"placeholder"],["pButton","","type","button","icon","pi pi-search",1,"ms-1","tpi-night",3,"click"],[1,"col-1","col-xl-1","col-lg-1"],[1,"control-label"],["type","button",1,"form-control","btn","tpi-btn","tpi-primary",3,"disabled","click"],[1,"col-6","col-xl-6","col-lg-6"],["for","moduleName",1,"required","control-label"],["type","text","id","moduleName","formControlName","moduleName",1,"form-control",3,"blur"],["class","text-danger",4,"ngIf"],["for","apiKey",1,"required","control-label"],["type","text","id","apiKey","formControlName","apiKey",1,"form-control",3,"blur"],[1,"col-12","col-xl-8","col-lg-8"],[1,"d-flex","col-12","pe-0",2,"justify-content","space-between"],[1,"col-4"],["for","tsmpUrl",1,"fw-bold"],[1,"col-8","d-flex","pe-0",2,"justify-content","end"],["inputId","no_oauth","formControlName","no_oauth",3,"binary"],["for","no_oauth",1,"ms-2","mb-0"],["type","text","id","tsmpUrl","formControlName","tsmpURL","readonly","",1,"form-control"],[1,"col-6","col-md-4"],["for","httpMethod",1,"col-auto","col-xl-12","required","control-label"],[1,"col-auto","col-xl-12"],["formControlName","methods",3,"options","defaultLabel","panelStyle"],[1,"form-group","row","g-3"],[1,"col-6","col-md-2"],[1,"col-auto","col-xl-12","control-label"],[1,"col-xl-12"],["formControlName","dataFormat",3,"options","placeholder","panelStyle"],[1,"col-12","col-md-2"],[1,"d-flex","flex-row","align-items-center"],[1,"col-12","p-form-check-line","form-group","d-flex","flex-row","align-items-center"],[1,"p-form-check"],["formControlName","jwtSetting","inputId","jwtSettingY",3,"value"],["for","jwtSettingY",1,"ms-2","mb-0",2,"white-space","nowrap"],["formControlName","jwtSetting","inputId","jwtSettingN",3,"value"],["for","jwtSettingN",1,"ms-2","mb-0",2,"white-space","nowrap"],[1,"col-xl-2","control-label"],["formControlName","jweFlag",1,"jwt-req-dropdown",3,"options","onChange"],["formControlName","jweFlagResp",1,"jwt-resp-dropdown",3,"options","onChange"],[1,"form-group"],["for","apiDesc",1,"fw-bold"],[1,"col-12"],["rows","5","formControlName","apiDesc",1,"form-control",2,"resize","none"],["formControlName","labelList",3,"max","allowDuplicate","placeholder","onAdd"],["clas","row"],[1,"col-auto","d-flex","justify-content-center","mt-2","mb-4"],["type","button",1,"btn","tpi-btn","tpi-primary","float-start","text-center","me-2",3,"click"],["type","button",1,"btn","tpi-btn","tpi-primary","float-start","text-center",3,"click"],[1,"text-danger"],[1,"form-text"],[3,"formGroup","ngSubmit"],["type","text","formControlName","keyword",1,"form-control",3,"placeholder"],[1,"col-2","col-xl-2","col-lg-2"],[1,"form-control","border-line"],[1,"col-12","col-xl-12","col-lg-12"],["type","submit",1,"btn","tpi-btn","tpi-primary","float-start","me-3"],["selectionMode","single","styleClass","p-datatable-striped",3,"columns","value","style","selection","selectionChange",4,"ngIf"],[1,"form-group","row","mt-2"],[1,"col-12","col-lg-12"],["type","button",1,"btn","tpi-btn","tpi-primary","float-start","me-3",3,"click"],["type","button",1,"btn","tpi-btn","tpi-primary","float-start",3,"click"],["selectionMode","single","styleClass","p-datatable-striped",3,"columns","value","selection","selectionChange"],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["pTemplate","emptymessage"],[2,"width","2.25em"],[3,"width",4,"ngFor","ngForOf"],["scope","col",2,"width","2.25em"],["scope","col",4,"ngFor","ngForOf"],["scope","col"],[3,"value"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],["style","width: 20px;height: 20px;","alt","status",3,"src",4,"ngIf"],["alt","status",2,"width","20px","height","20px",3,"src"],["class","moreless",3,"click",4,"ngIf"],[1,"moreless",3,"click"],[1,"fas",3,"ngClass"],["src","assets/images/jwe_req_flag.png","alt","JWE",4,"ngIf"],["src","assets/images/jws_req_flag.png","alt","JWS",4,"ngIf"],["src","assets/images/jwe_resp_flag.png","alt","JWE",4,"ngIf"],["src","assets/images/jws_resp_flag.png","alt","JWS",4,"ngIf"],["src","assets/images/jwe_req_flag.png","alt","JWE"],["src","assets/images/jws_req_flag.png","alt","JWS"],["src","assets/images/jwe_resp_flag.png","alt","JWE"],["src","assets/images/jws_resp_flag.png","alt","JWS"],[2,"color","#b7b7b7"],[2,"vertical-align","middle"],["type","button",1,"btn","tpi-header-return",3,"click"],[1,"fas","fa-angle-double-right",2,"margin-left","5px"]],template:function(e,o){1&e&&(t.TgZ(0,"app-container",0),t.NdJ("headerReturn",function(){return o.headerReturn()}),t.YNc(1,X,112,95,"div",1),t.YNc(2,Tt,34,32,"div",1),t.qZA(),t._UZ(3,"p-toast",2)),2&e&&(t.Q6J("title",o.title)("isDefault",1==o.pageNum),t.xp6(1),t.Q6J("ngIf",1==o.pageNum),t.xp6(1),t.Q6J("ngIf",2==o.pageNum),t.xp6(1),t.Akn(t.DdM(6,Ct)))},directives:[k.e,u.O5,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,V.Hq,E.XZ,K.Lt,M.EU,Q.cL,q.iA,R.jx,u.sg,q.GE,u.PC,u.mk,Y.FN],pipes:[P.X$],styles:[""]}),a})();var J=n(86347);const Rt=[{path:"",component:Ut,canActivate:[J.u6]}];let qt=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[g.Bz.forChild(Rt)],g.Bz]}),a})();var It=n(31890),jt=n(48750);let Ft=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({providers:[J.u6],imports:[[u.ez,qt,jt.W,It.m,r.UX,r.u5]]}),a})()},10784:(U,y,n)=>{n.d(y,{K:()=>u});let u=(()=>{class g{}return g.methods=[{label:"GET",value:"GET"},{label:"POST",value:"POST"},{label:"PUT",value:"PUT"},{label:"DELETE",value:"DELETE"},{label:"PATCH",value:"PATCH"}],g.formats=[{label:"SOAP",value:"0"},{label:"JSON",value:"1"},{label:"XML",value:"2"}],g})()},46877:(U,y,n)=>{n.d(y,{X:()=>r});var u=n(92340),g=n(57553),f=n(87587),w=n(96614);let r=(()=>{class v{constructor(h){this.api=h,this.api.baseUrl=u.N.dpPath}get basePath(){return u.N.isv4?"dgrv4/11":"tsmpdpaa/11"}querySubItemsByItemNo(h){let b={ReqHeader:this.api.getReqHeader(g.Nx.querySubItemsByItemNo),ReqBody:h};return this.api.npPost(`${this.basePath}/DPB0047`,b)}queryNewsStatusList(h){let b={ReqHeader:this.api.getReqHeader(g.Nx.querySubItemsByItemNo),ReqBody:h};return this.api.npPost(`${this.basePath}/DPB0048`,b)}}return v.\u0275fac=function(h){return new(h||v)(f.LFG(w.K))},v.\u0275prov=f.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()}}]);