"use strict";(self.webpackChunksrcAngular=self.webpackChunksrcAngular||[]).push([[3176],{23176:(U,T,p)=>{p.r(T),p.d(T,{Lb0011Module:()=>Je});var u=p(99291),Z=p(86347),_=p(15861),x=p(14525),r=p(93075),b=p(59783),e=p(87587),v=p(56435),f=p(4516),y=p(46877),h=p(41313),A=p(86518),V=p(38441),O=p(63710),N=p(69808),D=p(49603),J=p(23099),M=p(40845),R=p(4119),B=p(14036),L=p(70655),q=p(1694);const j=function(){return{display:"flex",width:"100%","align-items":"center"}},S=function(l){return{required:l}};let w=(()=>{class l{constructor(t,n){this.fb=t,this.toolService=n,this.no=1,this._disabled=!1,this.required=!1,this.change=new e.vpe,this.remove=new e.vpe}ngOnInit(){var t,n;this.form=this.fb.group({key:new r.NI(this.data?this.data.key:""),value:new r.NI(this.data?this.data.value:"")}),this._disabled?this.form.disable():this.form.enable(),this.required&&(null===(t=this.value)||void 0===t||t.setValidators([q.np()]),null===(n=this.value)||void 0===n||n.updateValueAndValidity()),this.form.valueChanges.subscribe(i=>{i.no=this.no,this.required&&(i.valid=this.form.valid),this.change.emit(i)})}deleteItem(){this._ref.destroy(),this.remove.emit(this.no)}get value(){return this.form.get("value")}get key(){return this.form.get("key")}}return l.\u0275fac=function(t){return new(t||l)(e.Y36(r.qu),e.Y36(f.g))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-key-value-field"]],inputs:{_ref:"_ref",data:"data",no:"no",_disabled:"_disabled",required:"required"},outputs:{change:"change",remove:"remove"},decls:10,vars:11,consts:[[1,"form-group",3,"formGroup"],[1,"col-12","px-0"],[1,"pe-1","control-label",3,"ngClass"],["type","text","formControlName","key",1,"form-control"],[1,"ps-2","pe-1","control-label",3,"ngClass"],["type","text","formControlName","value",1,"form-control"],["type","button",1,"btn","tpi-primary","ms-1",2,"border-radius","50%",3,"hidden","click"],[1,"fa","fa-minus"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"label",2),e._uU(3,"Key"),e.qZA(),e._UZ(4,"input",3),e.TgZ(5,"label",4),e._uU(6,"Value"),e.qZA(),e._UZ(7,"input",5),e.TgZ(8,"button",6),e.NdJ("click",function(){return n.deleteItem()}),e._UZ(9,"i",7),e.qZA()()()),2&t&&(e.Q6J("formGroup",n.form),e.xp6(1),e.Akn(e.DdM(6,j)),e.xp6(1),e.Q6J("ngClass",e.VKq(7,S,n.required)),e.xp6(3),e.Q6J("ngClass",e.VKq(9,S,n.required)),e.xp6(3),e.Q6J("hidden",n._disabled))},directives:[r.JL,r.sg,N.mk,r.Fj,r.JJ,r.u],styles:[""]}),l})();var E=p(51062);const Q=["headerValue"],Y=["fieldValue"];function P(l,c){}function H(l,c){1&l&&(e.TgZ(0,"div",20)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"no_data_result"),""))}function G(l,c){}function z(l,c){1&l&&(e.TgZ(0,"div",20)(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.hij(" ",e.lcZ(3,1,"no_data_result"),""))}let W=(()=>{class l{constructor(t){this.fb=t,this.onChange=()=>{},this.no=0,this.disabled=!1,this.change=new e.vpe,this.remove=new e.vpe,this.headerValueList=[],this.headerNo=0,this.fieldValueList=[],this.fieldNo=0}ngOnInit(){this.form=this.fb.group({url:new r.NI(""),percent:new r.NI(0)}),this.disabled?this.form.disable():this.form.enable()}ngAfterViewInit(){setTimeout(()=>{var t;null===(t=this.data)||void 0===t||t.forEach(n=>{"1"==(null==n?void 0:n.type)?this.addHeaderValue(n):this.addFieldValue(n)}),this.form.valueChanges.subscribe(n=>{this.asyncData()})},0)}deleteItem(){this.ref.destroy(),this.remove.emit(this.no)}addHeaderValue(t){let n=this.headerValueRef.createComponent(w);this.headerValueList.push({key:t?t.key:"",value:t?t.value:"",no:this.headerNo}),n.instance._ref=n,n.instance.no=this.headerNo,n.instance.data=this.headerValueList[this.headerNo],n.instance._disabled=this.disabled,this.headerNo++,this.asyncData(),n.instance.change.subscribe(s=>{let o=this.headerValueList.findIndex(a=>a.no===s.no);this.headerValueList[o].key=s.key,this.headerValueList[o].value=s.value,null!=s.valid&&(this.headerValueList[o].valid=s.valid),this.asyncData()}),n.instance.remove.subscribe(s=>{let o=this.headerValueList.findIndex(a=>a.no===s);this.headerValueList.splice(o,1),this.asyncData()})}addFieldValue(t){var n,i;if("url"==(null==t?void 0:t.key))null===(n=this.url)||void 0===n||n.setValue(null==t?void 0:t.value),this.asyncData();else if("percent"==(null==t?void 0:t.key))null===(i=this.percent)||void 0===i||i.setValue(null==t?void 0:t.value),this.asyncData();else{let s=this.fieldValueRef.createComponent(w);this.fieldValueList.push({key:t?t.key:"",value:t?t.value:"",no:this.fieldNo}),s.instance._ref=s,s.instance.no=this.fieldNo,s.instance.data=this.fieldValueList[this.fieldNo],s.instance._disabled=this.disabled,this.fieldNo++,this.asyncData(),s.instance.change.subscribe(a=>{let m=this.fieldValueList.findIndex(d=>d.no===a.no);this.fieldValueList[m].key=a.key,this.fieldValueList[m].value=a.value,null!=a.valid&&(this.fieldValueList[m].valid=a.valid),this.asyncData()}),s.instance.remove.subscribe(a=>{let m=this.fieldValueList.findIndex(d=>d.no===a);this.fieldValueList.splice(m,1),this.asyncData()})}}asyncData(){const n=[...this.headerValueList.map(i=>Object.assign(Object.assign({},i),{type:"1",mappingUrl:this.url.value})),...this.fieldValueList.map(i=>Object.assign(Object.assign({},i),{type:"0",mappingUrl:this.url.value}))].map(i=>(0,L._T)(i,["no","valid","required"]));n.push({key:"url",value:this.url.value,type:"0",mappingUrl:this.url.value},{key:"percent",value:String(this.percent.value),type:"0",mappingUrl:this.url.value}),this.change.emit({no:this.no,fieldList:n})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}get url(){return this.form.get("url")}get percent(){return this.form.get("percent")}}return l.\u0275fac=function(t){return new(t||l)(e.Y36(r.qu))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-mapping-url-field"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Q,5,e.s_b),e.Gf(Y,5,e.s_b)),2&t){let i;e.iGM(i=e.CRH())&&(n.headerValueRef=i.first),e.iGM(i=e.CRH())&&(n.fieldValueRef=i.first)}},inputs:{data:"data",ref:"ref",no:"no",disabled:"disabled"},outputs:{change:"change",remove:"remove"},features:[e._Bn([{provide:r.JU,useExisting:(0,e.Gpc)(()=>l),multi:!0}])],decls:31,vars:6,consts:[[1,"p-2","mb-2",2,"background","#eaeaea","border-radius","10px",3,"formGroup"],[1,"col-12",2,"align-items","center","display","flex"],[1,"col"],[1,"form-group"],[1,"form-label","control-label","required"],[1,"d-flex","align-items-center"],["type","number","formControlName","percent","min","0","max","100","onkeyup","this.value=Math.round(this.value)","onafterpaste","this.value=Math.round(this.value)","pattern","[0-9]",1,"form-control",2,"width","80px"],[1,"me-1"],["type","text","formControlName","url",1,"form-control"],[1,"form-group","pe-2"],[1,"form-label","control-label"],["headerValue",""],["type","button",1,"btn","tpi-second",2,"border-radius","50%",3,"hidden","click"],[1,"fa","fa-plus"],["class","col-12","class","form-control border-line","style","background: inherit;",4,"ngIf"],[1,"col-12"],["id","Field_label",1,"control-label","fw-bold"],["fieldValue",""],["type","button",1,"btn","tpi-primary","ms-1",2,"border-radius","50%",3,"hidden","click"],[1,"fa","fa-minus"],[1,"form-control","border-line",2,"background","inherit"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),e._uU(5,"URL"),e.qZA(),e.TgZ(6,"div",5),e._UZ(7,"input",6),e.TgZ(8,"label",7),e._uU(9,"%"),e.qZA(),e._UZ(10,"input",8),e.qZA()(),e.TgZ(11,"div",9)(12,"label",10),e._uU(13,"Header"),e.qZA(),e.YNc(14,P,0,0,"ng-template",null,11,e.W1O),e.TgZ(16,"div")(17,"button",12),e.NdJ("click",function(){return n.addHeaderValue()}),e._UZ(18,"i",13),e.qZA()(),e.YNc(19,H,4,3,"div",14),e.qZA(),e.TgZ(20,"div",15)(21,"label",16),e._uU(22,"Body"),e.qZA(),e.YNc(23,G,0,0,"ng-template",null,17,e.W1O),e.TgZ(25,"div")(26,"button",12),e.NdJ("click",function(){return n.addFieldValue()}),e._UZ(27,"i",13),e.qZA()(),e.YNc(28,z,4,3,"div",14),e.qZA()(),e.TgZ(29,"button",18),e.NdJ("click",function(){return n.deleteItem()}),e._UZ(30,"i",19),e.qZA()()()),2&t&&(e.Q6J("formGroup",n.form),e.xp6(17),e.Q6J("hidden",n.disabled),e.xp6(2),e.Q6J("ngIf",0==n.headerValueList.length&&n.disabled),e.xp6(7),e.Q6J("hidden",n.disabled),e.xp6(2),e.Q6J("ngIf",0==n.fieldValueList.length&&n.disabled),e.xp6(1),e.Q6J("hidden",n.disabled))},directives:[r.JL,r.sg,r.wV,r.qQ,r.Fd,r.Fj,r.JJ,r.u,r.c5,N.O5],pipes:[E.X$],styles:[""]}),l})();const K=["mappingUrlField"];function X(l,c){if(1&l&&(e.TgZ(0,"div",21)(1,"small",22),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.url?null:t.url.errors.required))}}function ee(l,c){if(1&l&&(e.TgZ(0,"div",21)(1,"small",22),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.username?null:t.username.errors.required))}}function te(l,c){if(1&l&&(e.TgZ(0,"div",21)(1,"small",22),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.avatar_url?null:t.avatar_url.errors.required))}}function ie(l,c){if(1&l&&(e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"label",13),e._uU(4,"Url"),e.qZA(),e._UZ(5,"input",14),e.YNc(6,X,4,3,"div",15),e.qZA()(),e.TgZ(7,"div",11)(8,"div",16)(9,"label",17),e._uU(10,"User Name"),e.qZA(),e._UZ(11,"input",18),e.YNc(12,ee,4,3,"div",15),e.qZA(),e.TgZ(13,"div",16)(14,"label",19),e._uU(15,"Avatar url"),e.qZA(),e._UZ(16,"input",20),e.YNc(17,te,4,3,"div",15),e.qZA()()()),2&l){const t=e.oxw();e.xp6(6),e.Q6J("ngIf",(null==t.url?null:t.url.invalid)&&((null==t.url?null:t.url.dirty)||(null==t.url?null:t.url.touched))),e.xp6(6),e.Q6J("ngIf",(null==t.username?null:t.username.invalid)&&((null==t.username?null:t.username.dirty)||(null==t.username?null:t.username.touched))),e.xp6(5),e.Q6J("ngIf",(null==t.avatar_url?null:t.avatar_url.invalid)&&((null==t.avatar_url?null:t.avatar_url.dirty)||(null==t.avatar_url?null:t.avatar_url.touched)))}}function ne(l,c){if(1&l&&(e.TgZ(0,"div",21)(1,"small",22),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.url?null:t.url.errors.required))}}function le(l,c){if(1&l&&(e.TgZ(0,"div",21)(1,"small",22),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.username?null:t.username.errors.required))}}function oe(l,c){if(1&l&&(e.TgZ(0,"div",21)(1,"small",22),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.icon_emoji?null:t.icon_emoji.errors.required))}}function ae(l,c){if(1&l&&(e.TgZ(0,"div",21)(1,"small",22),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.channel?null:t.channel.errors.required))}}function re(l,c){if(1&l&&(e.TgZ(0,"div",10)(1,"div",11)(2,"div",23)(3,"label",13),e._uU(4,"Url"),e.qZA(),e._UZ(5,"input",14),e.YNc(6,ne,4,3,"div",15),e.qZA()(),e.TgZ(7,"div",11)(8,"div",16)(9,"label",17),e._uU(10,"User Name"),e.qZA(),e._UZ(11,"input",18),e.YNc(12,le,4,3,"div",15),e.qZA(),e.TgZ(13,"div",16)(14,"label",24),e._uU(15,"Icon emoji"),e.qZA(),e._UZ(16,"input",25),e.YNc(17,oe,4,3,"div",15),e.qZA(),e.TgZ(18,"div",16)(19,"label",26),e._uU(20,"Channel"),e.qZA(),e._UZ(21,"input",27),e.YNc(22,ae,4,3,"div",15),e.qZA()()()),2&l){const t=e.oxw();e.xp6(6),e.Q6J("ngIf",(null==t.url?null:t.url.invalid)&&((null==t.url?null:t.url.dirty)||(null==t.url?null:t.url.touched))),e.xp6(6),e.Q6J("ngIf",(null==t.username?null:t.username.invalid)&&((null==t.username?null:t.username.dirty)||(null==t.username?null:t.username.touched))),e.xp6(5),e.Q6J("ngIf",(null==t.icon_emoji?null:t.icon_emoji.invalid)&&((null==t.icon_emoji?null:t.icon_emoji.dirty)||(null==t.icon_emoji?null:t.icon_emoji.touched))),e.xp6(5),e.Q6J("ngIf",(null==t.channel?null:t.channel.invalid)&&((null==t.channel?null:t.channel.dirty)||(null==t.channel?null:t.channel.touched)))}}function se(l,c){if(1&l&&(e.TgZ(0,"div",21)(1,"small",22),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.subject?null:t.subject.errors.required))}}function ue(l,c){if(1&l&&(e.TgZ(0,"div",21)(1,"small",22),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.recipients?null:t.recipients.errors.required))}}function de(l,c){if(1&l&&(e.TgZ(0,"div",11)(1,"div",16)(2,"label",28),e._uU(3,"Subject"),e.qZA(),e._UZ(4,"input",29),e.YNc(5,se,4,3,"div",15),e.qZA(),e.TgZ(6,"div",16)(7,"label",30),e._uU(8,"Recipients"),e.qZA(),e._UZ(9,"input",31),e.YNc(10,ue,4,3,"div",15),e.qZA()()),2&l){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",(null==t.subject?null:t.subject.invalid)&&((null==t.subject?null:t.subject.dirty)||(null==t.subject?null:t.subject.touched))),e.xp6(5),e.Q6J("ngIf",(null==t.recipients?null:t.recipients.invalid)&&((null==t.recipients?null:t.recipients.dirty)||(null==t.recipients?null:t.recipients.touched)))}}function ce(l,c){if(1&l&&(e.TgZ(0,"div",21)(1,"small",22),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.authorization?null:t.authorization.errors.required))}}function pe(l,c){if(1&l&&(e.TgZ(0,"div",21)(1,"small",22),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.to?null:t.to.errors.required))}}function me(l,c){if(1&l&&(e.TgZ(0,"div",11)(1,"div",16)(2,"label",32),e._uU(3,"Authorization"),e.qZA(),e._UZ(4,"input",33),e.YNc(5,ce,4,3,"div",15),e.qZA(),e.TgZ(6,"div",16)(7,"label",34),e._uU(8,"To"),e.qZA(),e._UZ(9,"input",35),e.YNc(10,pe,4,3,"div",15),e.qZA(),e.TgZ(11,"div",16)(12,"label",36),e._uU(13,"NotificationDisabled"),e.qZA(),e.TgZ(14,"div",37),e.ynx(15),e.TgZ(16,"div",38),e._UZ(17,"p-radioButton",39),e.TgZ(18,"label",40),e._uU(19,"Y"),e.qZA()(),e.TgZ(20,"div",38),e._UZ(21,"p-radioButton",41),e.TgZ(22,"label",42),e._uU(23,"N"),e.qZA()(),e.BQk(),e.qZA()()()),2&l){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",(null==t.authorization?null:t.authorization.invalid)&&((null==t.authorization?null:t.authorization.dirty)||(null==t.authorization?null:t.authorization.touched))),e.xp6(5),e.Q6J("ngIf",(null==t.to?null:t.to.invalid)&&((null==t.to?null:t.to.dirty)||(null==t.to?null:t.to.touched)))}}function fe(l,c){}let he=(()=>{class l extends x.H{constructor(t,n,i){super(t,n),this.fb=i,this.onChange=()=>{},this.disabled=!1,this.groupDataList=[],this.groupDataNo=0,this._equal100=!1,this.percentValid=new e.vpe,this.formValid=new e.vpe,this._webhookType=""}set webhookType(t){this._webhookType=t,this.mappingUrlField.clear()}get webhookType(){return this._webhookType}ngOnInit(){this.form=this.fb.group({authorization:new r.NI,to:new r.NI,notificationDisabled:new r.NI,subject:new r.NI,recipients:new r.NI,url:new r.NI,username:new r.NI,icon_emoji:new r.NI,channel:new r.NI,avatar_url:new r.NI})}writeValue(t){setTimeout(()=>{if(this.formSubscription&&(this.formSubscription.unsubscribe(),this.formSubscription=void 0),this.resetFormValidator(this.form),this.groupDataList=[],this.groupDataNo=0,t)switch(this.webhookType){case"HTTP":let n=JSON.parse(t);this.groupByMappingUrl(n).forEach(s=>{this.addGroupData(s)});break;case"EMAIL":if(t){JSON.parse(t).forEach(o=>{var a;o.required&&(this.form.controls[o.key].setValidators([q.np()]),$(`#${o.key}_label`).addClass("required")),null===(a=this.form.controls[o.key])||void 0===a||a.setValue(o.value)}),this.form.updateValueAndValidity(),this.disabled?this.form.disable():this.form.enable();const s=JSON.parse(t).map(o=>(0,L._T)(o,["required"]));this.onChange(s),this.formSubscription=this.form.valueChanges.subscribe(o=>{var a,m;let d=[{key:"subject",value:null===(a=this.subject)||void 0===a?void 0:a.value,type:"0"},{key:"recipients",value:null===(m=this.recipients)||void 0===m?void 0:m.value,type:"0"}];this.onChange(d),this.formValid.emit(this.form.valid)}),this.formValid.emit(this.form.valid)}break;case"SLACK":if(t){JSON.parse(t).forEach(o=>{var a;o.required&&(this.form.controls[o.key].setValidators([q.np()]),$(`#${o.key}_label`).addClass("required")),null===(a=this.form.controls[o.key])||void 0===a||a.setValue(o.value)}),this.form.updateValueAndValidity(),this.disabled?this.form.disable():this.form.enable();const s=JSON.parse(t).map(o=>(0,L._T)(o,["required"]));this.onChange(s),this.formSubscription=this.form.valueChanges.subscribe(o=>{var a,m,d,g;let k=[{key:"url",value:null===(a=this.url)||void 0===a?void 0:a.value,type:"0"},{key:"username",value:null===(m=this.username)||void 0===m?void 0:m.value,type:"0"},{key:"icon_emoji",value:null===(d=this.icon_emoji)||void 0===d?void 0:d.value,type:"0"},{key:"channel",value:null===(g=this.channel)||void 0===g?void 0:g.value,type:"0"}];this.onChange(k),this.formValid.emit(this.form.valid)}),this.formValid.emit(this.form.valid)}break;case"DISCORD":if(t){JSON.parse(t).forEach(o=>{var a;o.required&&(this.form.controls[o.key].setValidators([q.np()]),$(`#${o.key}_label`).addClass("required")),null===(a=this.form.controls[o.key])||void 0===a||a.setValue(o.value)}),this.form.updateValueAndValidity(),this.disabled?this.form.disable():this.form.enable();const s=JSON.parse(t).map(o=>(0,L._T)(o,["required"]));this.onChange(s),this.formSubscription=this.form.valueChanges.subscribe(o=>{var a,m,d;let g=[{key:"url",value:null===(a=this.url)||void 0===a?void 0:a.value,type:"0"},{key:"username",value:null===(m=this.username)||void 0===m?void 0:m.value,type:"0"},{key:"avatar_url",value:null===(d=this.avatar_url)||void 0===d?void 0:d.value,type:"0"}];this.onChange(g),this.formValid.emit(this.form.valid)}),this.formValid.emit(this.form.valid)}break;case"LINE":if(t){JSON.parse(t).forEach(o=>{var a;o.required&&(this.form.controls[o.key].setValidators([q.np()]),$(`#${o.key}_label`).addClass("required")),null===(a=this.form.controls[o.key])||void 0===a||a.setValue(o.value)}),this.form.updateValueAndValidity(),this.disabled?this.form.disable():this.form.enable();const s=JSON.parse(t).map(o=>(0,L._T)(o,["required"]));this.onChange(s),this.formSubscription=this.form.valueChanges.subscribe(o=>{var a,m,d;let g=[{key:"authorization",value:null===(a=this.authorization)||void 0===a?void 0:a.value,type:"1"},{key:"to",value:null===(m=this.to)||void 0===m?void 0:m.value,type:"0"},{key:"notificationDisabled",value:null===(d=this.notificationDisabled)||void 0===d?void 0:d.value,type:"0"}];this.onChange(g),this.formValid.emit(this.form.valid)}),this.formValid.emit(this.form.valid)}}},0)}addGroupData(t){var n;let i=this.mappingUrlField.createComponent(W);t.no=this.groupDataNo,t.percent=null!==(n=Number(t.fieldList.filter(o=>"percent"==o.key)[0].value))&&void 0!==n?n:0,this.groupDataList.push(t),i.instance.ref=i,i.instance.data=this.groupDataList[this.groupDataNo].fieldList,i.instance.no=this.groupDataNo,i.instance.disabled=this.disabled,this.groupDataNo++,this.checkPercentValid();const s=[...this.groupDataList].flatMap(o=>o.fieldList);this.onChange(s),i.instance.change.subscribe(o=>{let a=this.groupDataList.findIndex(d=>d.no==o.no);this.groupDataList[a].fieldList=o.fieldList,this.groupDataList[a].url=o.fieldList.filter(d=>"url"==d.key)[0].value,this.groupDataList[a].percent=o.fieldList.filter(d=>"percent"==d.key)[0].value,this.checkPercentValid();const m=[...this.groupDataList].flatMap(d=>d.fieldList);this.onChange(m)}),i.instance.remove.subscribe(o=>{let a=this.groupDataList.findIndex(d=>d.no==o);this.groupDataList.splice(a,1),0==this.groupDataList.length&&(this.groupDataNo=0,this.addMappingUrlData()),this.checkPercentValid();const m=[...this.groupDataList].flatMap(d=>d.fieldList);this.onChange(m)})}checkPercentValid(){const n=this.groupDataList.map(i=>Number(i.percent)).reduce((i,s)=>i+s,0);this._equal100=100===n,this.percentValid.emit(this._equal100)}groupByMappingUrl(t){const n=t.reduce((i,s)=>{const o=s.mappingUrl;return i[o]||(i[o]={url:o,fieldList:[]}),i[o].fieldList.push(s),i},{});return Object.values(n)}addMappingUrlData(){const n=this.groupByMappingUrl([{key:"url",value:"",type:"0",mappingUrl:""},{key:"percent",value:"0",type:"0",mappingUrl:""}]);this.addGroupData(n[0])}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}get authorization(){return this.form.get("authorization")}get to(){return this.form.get("to")}get notificationDisabled(){return this.form.get("notificationDisabled")}get subject(){return this.form.get("subject")}get recipients(){return this.form.get("recipients")}get url(){return this.form.get("url")}get username(){return this.form.get("username")}get icon_emoji(){return this.form.get("icon_emoji")}get channel(){return this.form.get("channel")}get avatar_url(){return this.form.get("avatar_url")}}return l.\u0275fac=function(t){return new(t||l)(e.Y36(u.gz),e.Y36(v.W),e.Y36(r.qu))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-mapping-url-form"]],viewQuery:function(t,n){if(1&t&&e.Gf(K,7,e.s_b),2&t){let i;e.iGM(i=e.CRH())&&(n.mappingUrlField=i.first)}},inputs:{webhookType:"webhookType"},outputs:{percentValid:"percentValid",formValid:"formValid"},features:[e._Bn([{provide:r.JU,useExisting:(0,e.Gpc)(()=>l),multi:!0}]),e.qOj],decls:16,vars:11,consts:[[3,"formGroup"],["class","form-group",4,"ngIf"],["class","form-group row",4,"ngIf"],[3,"hidden"],[1,"row","col"],["mappingUrlField",""],[2,"color","red",3,"hidden"],[1,"field-flex-start",3,"hidden"],["type","button",1,"btn","tpi-second",2,"border-radius","50%",3,"click"],[1,"fa","fa-plus"],[1,"form-group"],[1,"form-group","row"],[1,"col-8"],["id","url_label",1,"control-label","fw-bold","required"],["type","text","id","url","formControlName","url",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"col-4"],["id","username_label",1,"control-label","fw-bold","required"],["type","text","id","username","formControlName","username",1,"form-control"],["id","avatar_url_label",1,"control-label","fw-bold"],["type","text","id","avatar_url","formControlName","avatar_url",1,"form-control"],[1,"text-danger"],[1,"form-text"],[1,"col-12"],["id","icon_emoji_label",1,"control-label","fw-bold"],["type","text","id","icon_emoji","formControlName","icon_emoji",1,"form-control"],["id","channel_label",1,"control-label","fw-bold"],["type","text","id","channel","formControlName","channel",1,"form-control"],["id","subject_label",1,"control-label","fw-bold","required"],["type","text","id","subject","formControlName","subject",1,"form-control"],["id","recipients_label",1,"control-label","fw-bold"],["type","text","id","recipients","formControlName","recipients",1,"form-control"],["id","authorization_label",1,"control-label","fw-bold","required"],["type","text","id","authorization","formControlName","authorization",1,"form-control"],["id","to_label",1,"control-label","fw-bold"],["type","text","id","to","formControlName","to",1,"form-control"],["id","notificationDisabled_label",1,"control-label","fw-bold"],[1,"p-form-check-line"],[1,"p-form-check"],["formControlName","notificationDisabled","value","Y","inputId","notificationDisabledY"],["for","notificationDisabledY",1,"ms-2","mb-0"],["formControlName","notificationDisabled","value","N","inputId","notificationDisabledN"],["for","notificationDisabledN",1,"ms-2","mb-0"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0),e.YNc(1,ie,18,3,"div",1),e.YNc(2,re,23,4,"div",1),e.YNc(3,de,11,2,"div",2),e.YNc(4,me,24,2,"div",2),e.qZA(),e.TgZ(5,"div",3)(6,"div",4),e.YNc(7,fe,0,0,"ng-template",null,5,e.W1O),e.TgZ(9,"div",6)(10,"small"),e._uU(11),e.ALo(12,"translate"),e.qZA()()(),e.TgZ(13,"div",7)(14,"button",8),e.NdJ("click",function(){return n.addMappingUrlData()}),e._UZ(15,"i",9),e.qZA()()()),2&t&&(e.Q6J("formGroup",n.form),e.xp6(1),e.Q6J("ngIf","DISCORD"==n.webhookType),e.xp6(1),e.Q6J("ngIf","SLACK"==n.webhookType),e.xp6(1),e.Q6J("ngIf","EMAIL"==n.webhookType),e.xp6(1),e.Q6J("ngIf","LINE"==n.webhookType),e.xp6(1),e.Q6J("hidden","HTTP"!=n.webhookType),e.xp6(4),e.Q6J("hidden",n._equal100),e.xp6(2),e.Oqu(e.lcZ(12,9,"equal100")),e.xp6(2),e.Q6J("hidden",n.disabled))},directives:[r._Y,r.JL,r.sg,N.O5,r.Fj,r.JJ,r.u,D.EU],pipes:[E.X$],styles:[""]}),l})();var ge=p(73407),ve=p(17773),be=p(19114);function _e(l,c){if(1&l&&(e.ynx(0),e.TgZ(1,"div",29),e._UZ(2,"p-radioButton",48),e.TgZ(3,"label",49),e._uU(4),e.qZA()(),e.BQk()),2&l){const t=c.$implicit;e.xp6(2),e.s9C("value",t.value),e.MGl("inputId","enable",t.value,""),e.xp6(1),e.MGl("for","enable",t.value,""),e.xp6(1),e.Oqu(t.label)}}function ye(l,c){1&l&&(e.TgZ(0,"tr")(1,"th",50),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"th"),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"th",51),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"th",52),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"th",53),e._uU(14),e.ALo(15,"translate"),e.qZA()()),2&l&&(e.xp6(2),e.Oqu(e.lcZ(3,5,"status")),e.xp6(3),e.Oqu(e.lcZ(6,7,"notify.name")),e.xp6(3),e.Oqu(e.lcZ(9,9,"notify.type")),e.xp6(3),e.Oqu(e.lcZ(12,11,"create_by")),e.xp6(3),e.hij("",e.lcZ(15,13,"action")," "))}function Ze(l,c){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td",54),e._UZ(2,"img",55),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",56)(10,"div")(11,"button",57),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().changePage("detail",s)}),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"button",58),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().changePage("update",s)}),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"button",59),e.NdJ("click",function(){const s=e.CHM(t).$implicit;return e.oxw().changePage("delete",s)}),e.ALo(16,"translate"),e.qZA()()()()}if(2&l){const t=c.$implicit;e.xp6(2),e.Q6J("alt",t.enable)("src","Y"===t.enable?"assets/images/icon_green.png":"assets/images/icon_red.png",e.LSH),e.xp6(2),e.Oqu(t.notifyName),e.xp6(2),e.Oqu(t.notifyType),e.xp6(2),e.Oqu(t.createUser),e.xp6(3),e.Q6J("pTooltip",e.lcZ(12,8,"button.detail")),e.xp6(2),e.Q6J("pTooltip",e.lcZ(14,10,"button.update")),e.xp6(2),e.Q6J("pTooltip",e.lcZ(16,12,"button.delete"))}}function Te(l,c){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td",61)(2,"span",62),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",63),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).getMoreData()}),e._uU(6),e.ALo(7,"translate"),e._UZ(8,"i",64),e.qZA()()()}if(2&l){const t=e.oxw(2);e.xp6(1),e.uIk("colspan",5),e.xp6(2),e.AsE("",e.lcZ(4,4,"row_count"),": ",t.tableData.length,""),e.xp6(3),e.hij("",e.lcZ(7,6,"button.more")," ")}}function Ne(l,c){if(1&l&&e.YNc(0,Te,9,8,"tr",60),2&l){const t=e.oxw();e.Q6J("ngIf",t.tableData.length>0)}}function xe(l,c){1&l&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(1),e.uIk("colspan",5),e.xp6(1),e.hij(" ",e.lcZ(3,2,"no_rec")," "))}function Ae(l,c){if(1&l&&(e.TgZ(0,"div",65)(1,"small",66),e._uU(2),e.qZA(),e.TgZ(3,"small",66),e._uU(4),e.ALo(5,"translate"),e.qZA()()),2&l){const t=e.oxw();e.xp6(2),e.Oqu(null==t.notifyNameE?null:t.notifyNameE.errors.isRequired),e.xp6(2),e.Oqu(e.lcZ(5,2,null==t.notifyNameE?null:t.notifyNameE.errors.maxlength))}}function Le(l,c){if(1&l&&(e.TgZ(0,"div",65)(1,"small",66),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.notifyType?null:t.notifyType.errors.isRequired))}}function qe(l,c){if(1&l&&(e.ynx(0),e.TgZ(1,"div",29),e._UZ(2,"p-radioButton",48),e.TgZ(3,"label",49),e._uU(4),e.qZA()(),e.BQk()),2&l){const t=c.$implicit;e.xp6(2),e.s9C("value",t.value),e.MGl("inputId","enableE",t.value,""),e.xp6(1),e.MGl("for","enableE",t.value,""),e.xp6(1),e.Oqu(t.label)}}function ke(l,c){if(1&l&&(e.TgZ(0,"div",65)(1,"small",66),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"small",66),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,null==t.enableE?null:t.enableE.errors.pattern)),e.xp6(3),e.Oqu(e.lcZ(6,4,null==t.enableE?null:t.enableE.errors.isRequired))}}const Ce=function(){return{backgroundColor:"var(--red-300)","border-color":"var(--red-300)"}};function Ue(l,c){if(1&l){const t=e.EpF();e.TgZ(0,"div",67)(1,"button",68),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(87).accept()}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",69),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(87).reject()}),e.ALo(4,"translate"),e.qZA()()}2&l&&(e.xp6(1),e.s9C("label",e.lcZ(2,3,"button.confirm")),e.Q6J("ngStyle",e.DdM(7,Ce)),e.xp6(2),e.s9C("label",e.lcZ(4,5,"button.cancel")))}const Ee=function(){return{width:"100%"}},Ie=function(l){return[l]},Ve=function(){return{marginTop:"60px"}},De=function(){return{width:"50vw"}},Se=[{path:"",component:(()=>{class l extends x.H{constructor(t,n,i,s,o,a,m,d,g,k){super(t,n),this.fb=i,this.toolService=s,this.listService=o,this.messageService=a,this.confirmationService=m,this.serverService=d,this.alertService=g,this.ngxSrvice=k,this.currentTitle=this.title,this.pageNum=1,this.tableData=[],this.statusList=[],this.statusListIgnoreAll=[],this.currentAction="",this.btnName="",this.notifyTypeList=[{label:"Line",value:"LINE"},{label:"Email",value:"EMAIL"},{label:"Slack",value:"SLACK"},{label:"Discord",value:"DISCORD"},{label:"Http",value:"HTTP"}],this._formValid=!1}ngOnInit(){this.form=this.fb.group({webhookNotifyId:new r.NI(""),keyword:new r.NI(""),enable:new r.NI("-1"),paging:new r.NI("")}),this.formE=this.fb.group({notifyName:new r.NI(""),notifyType:new r.NI(""),enable:new r.NI(""),message:new r.NI(""),payloadFlag:new r.NI("0"),fieldList:new r.NI(""),url:new r.NI("")}),this.notifyTypeE.valueChanges.subscribe(t=>{"HTTP"==t&&this.messageE.setValue("")}),this.getStatusList(),this.serverService.queryWebhookNotify_ignore1298({}).subscribe(t=>{this.toolService.checkDpSuccess(t.ResHeader)&&(this.tableData=t.RespBody.webhookNotifyList)})}queryWebhookNotify(){let t={keyword:this.keyword.value,enable:this.getStatusEncodeString(this.enable.value)};this.serverService.queryWebhookNotify(t).subscribe(n=>{this.tableData=this.toolService.checkDpSuccess(n.ResHeader)?n.RespBody.webhookNotifyList:[]})}getStatusEncodeString(t){return"-1"==t?t:this.toolService.Base64Encoder(this.toolService.BcryptEncoder(t))+","+this.statusList.findIndex(n=>n.value==t)}getStatusList(){let t={encodeItemNo:this.toolService.Base64Encoder(this.toolService.BcryptEncoder("ENABLE_FLAG"))+",9",isDefault:"N"};this.listService.querySubItemsByItemNo(t).subscribe(n=>{if(this.toolService.checkDpSuccess(n.ResHeader)){let i=[];n.RespBody.subItems&&n.RespBody.subItems.filter(s=>"2"!==s.subitemNo).map(s=>{i.push({label:s.subitemName,value:s.param2?s.param2:"-1"})}),this.statusList=i,this.statusListIgnoreAll=this.statusList.filter(s=>"-1"!=s.value)}})}getMoreData(){let t={keyword:this.keyword.value,enable:this.getStatusEncodeString(this.enable.value),webhookNotifyId:this.tableData[this.tableData.length-1].webhookNotifyId};this.serverService.queryWebhookNotify(t).subscribe(n=>{this.toolService.checkDpSuccess(n.ResHeader)&&(this.tableData=this.tableData.concat(n.RespBody.webhookNotifyList))})}changePage(t,n){var i=this;return(0,_.Z)(function*(){i.currentAction=t,i.notifyTypeSubscription&&(i.notifyTypeSubscription.unsubscribe(),i.notifyTypeSubscription=void 0);const o=yield i.toolService.getDict(["button.create","button.update","button.delete","button.detail","cfm_del"]);let a=i.enable.value,m=i.keyword.value;switch(i.resetFormValidator(i.form),i.resetFormValidator(i.formE),i.keyword.setValue(m),i.enable.setValue(a),i.formE.enable(),t){case"query":i.pageNum=1,i.currentTitle=i.title;break;case"create":i.currentTitle=`${i.title} > ${o["button.create"]}`,i.btnName=o["button.create"],i.pageNum=2,i.serverService.createWebhookNotify_before().subscribe(d=>{i.toolService.checkDpSuccess(d.ResHeader)&&(i.addFormValidator(i.formE,d.RespBody.constraints),i.fieldListE.setValue(""),i.enableE.setValue("N"),i.payloadFlagE.setValue("0"),i.notifyTypeE.setValue("HTTP"))}),i.notifyTypeSubscription=i.notifyTypeE.valueChanges.subscribe(d=>{i.urlE.setValue(""),i.payloadFlagE.setValue("0"),setTimeout(()=>{switch(d){case"LINE":i.fieldListE.setValue(JSON.stringify([{key:"authorization",value:"",required:!0},{key:"to",value:""},{key:"notificationDisabled",value:"N"}]));break;case"EMAIL":i.fieldListE.setValue(JSON.stringify([{key:"subject",value:"",required:!0},{key:"recipients",value:"",required:!0}]));break;case"HTTP":i._formValid=!1,i.fieldListE.setValue(JSON.stringify([{key:"url",value:"",type:"0",mappingUrl:""},{key:"percent",value:"100",type:"0",mappingUrl:""}]));break;case"SLACK":i.fieldListE.setValue(JSON.stringify([{key:"url",value:"",required:!0},{key:"username",value:""},{key:"icon_emoji",value:""},{key:"channel",value:""}]));break;case"DISCORD":i.fieldListE.setValue(JSON.stringify([{key:"url",value:"",required:!0},{key:"username",value:""},{key:"avatar_url",value:""}]));break;default:i.fieldListE.setValue("[]"),i.payloadFlagE.setValue("0")}},0)});break;case"detail":i.currentTitle=`${i.title} > ${o["button.detail"]}`,i.btnName=o["button.detail"],i.serverService.getWebhookNotify({webhookNotifyId:n.webhookNotifyId}).subscribe(d=>{i.toolService.checkDpSuccess(d.ResHeader)&&(i.formE.disable(),i.notifyNameE.setValue(d.RespBody.notifyName),i.notifyTypeE.setValue(d.RespBody.notifyType),i.fieldListE.setValue(JSON.stringify(d.RespBody.fieldList)),i.enableE.setValue(d.RespBody.enable),i.payloadFlagE.setValue(d.RespBody.payloadFlag),i.messageE.setValue(d.RespBody.message),i.pageNum=2)});break;case"update":i.currentTitle=`${i.title} > ${o["button.update"]}`,i.btnName=o["button.update"],i.serverService.updateWebhookNotify_before().subscribe(d=>{i.toolService.checkDpSuccess(d.ResHeader)&&(i.addFormValidator(i.formE,d.RespBody.constraints),i.serverService.getWebhookNotify({webhookNotifyId:n.webhookNotifyId}).subscribe(g=>{if(i.toolService.checkDpSuccess(g.ResHeader)){i.notifyNameE.setValue(g.RespBody.notifyName),i.notifyNameE.disable(),i.notifyTypeE.setValue(g.RespBody.notifyType),i.notifyTypeE.disable();let k=[...g.RespBody.fieldList],F=[],C=[];switch(g.RespBody.notifyType){case"LINE":C=["authorization"];break;case"EMAIL":C=["subject","recipients"];break;case"SLACK":case"DISCORD":C=["url"]}F=k.map(I=>C.includes(I.key)?Object.assign(Object.assign({},I),{required:!0}):I),i.fieldListE.setValue(JSON.stringify(F)),i.enableE.setValue(g.RespBody.enable),i.payloadFlagE.setValue(g.RespBody.payloadFlag),i.messageE.setValue(g.RespBody.message),i.tarData=g.RespBody,i.pageNum=2}}))});break;case"delete":i.selectedItem=n,i.confirmationService.confirm({header:" ",message:o.cfm_del,accept:()=>{i.deleteConfirm()}})}})()}deleteConfirm(){var n,t=this;this.messageService.clear();let i={webhookNotifyId:null===(n=this.selectedItem)||void 0===n?void 0:n.webhookNotifyId};this.serverService.deleteWebhookNotify(i).subscribe(function(){var s=(0,_.Z)(function*(o){if(t.toolService.checkDpSuccess(o.ResHeader)){const a=["message.delete","message.success"],m=yield t.toolService.getDict(a);t.messageService.add({severity:"success",summary:`${m["message.delete"]} `,detail:`${m["message.delete"]} ${m["message.success"]}!`}),t.changePage("query"),t.queryWebhookNotify()}});return function(o){return s.apply(this,arguments)}}())}headerReturn(){this.changePage("query")}procData(){var n,t=this;switch(this.currentAction){case"create":let i={notifyName:this.notifyNameE.value,notifyType:this.notifyTypeE.value,enable:this.getStatusEncodeString(this.enableE.value),message:"HTTP"!=this.notifyTypeE.value?this.messageE.value:null,payloadFlag:this.payloadFlagE.value,fieldList:this.fieldListE.value};this.serverService.createWebhookNotify(i).subscribe(function(){var o=(0,_.Z)(function*(a){if(t.toolService.checkDpSuccess(a.ResHeader)){const m=["message.create","message.success"],d=yield t.toolService.getDict(m);t.messageService.add({severity:"success",summary:`${d["message.create"]} `,detail:`${d["message.create"]} ${d["message.success"]}!`}),t.changePage("query"),t.queryWebhookNotify()}});return function(a){return o.apply(this,arguments)}}());break;case"update":let s={webhookNotifyId:null===(n=this.tarData)||void 0===n?void 0:n.webhookNotifyId,enable:this.getStatusEncodeString(this.enableE.value),message:"HTTP"!=this.notifyTypeE.value?this.messageE.value:null,payloadFlag:this.payloadFlagE.value,fieldList:this.fieldListE.value};this.serverService.updateWebhookNotify(s).subscribe(function(){var o=(0,_.Z)(function*(a){if(t.toolService.checkDpSuccess(a.ResHeader)){const m=["message.update","message.success"],d=yield t.toolService.getDict(m);t.messageService.add({severity:"success",summary:`${d["message.update"]} `,detail:`${d["message.update"]} ${d["message.success"]}!`}),t.changePage("query"),t.queryWebhookNotify()}});return function(a){return o.apply(this,arguments)}}())}}fieldFormator(t){let n=[];const i=JSON.parse(t);return Array.isArray(i)&&i.forEach(s=>{Object.keys(s).map(o=>{o&&""!=o&&n.push({key:o,value:s[o]})})}),n}set_formValid(t){this._formValid=t}get keyword(){return this.form.get("keyword")}get enable(){return this.form.get("enable")}get notifyNameE(){return this.formE.get("notifyName")}get notifyTypeE(){return this.formE.get("notifyType")}get enableE(){return this.formE.get("enable")}get messageE(){return this.formE.get("message")}get payloadFlagE(){return this.formE.get("payloadFlag")}get fieldListE(){return this.formE.get("fieldList")}get urlE(){return this.formE.get("url")}}return l.\u0275fac=function(t){return new(t||l)(e.Y36(u.gz),e.Y36(v.W),e.Y36(r.qu),e.Y36(f.g),e.Y36(y.X),e.Y36(b.ez),e.Y36(b.YP),e.Y36(h.N),e.Y36(A.c),e.Y36(V.LA))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-lb0011"]],features:[e._Bn([b.YP]),e.qOj],decls:89,vars:54,consts:[[3,"title","isDefault","headerReturn"],[3,"hidden"],[3,"formGroup"],[1,"form-group","row"],[1,"col-6"],[1,"control-label"],[1,"p-input-icon-right",2,"width","100%"],[1,"pi","pi-search","tpi-i-search",3,"click"],["type","search","id","keyword","formControlName","keyword","placeholder","",1,"form-control","tpi-i-input",3,"keydown.enter"],[1,"col-4"],[1,"p-form-check-line","form-group"],[4,"ngFor","ngForOf"],[1,"col"],["type","button",1,"btn","tpi-btn","tpi-second","float-end",3,"click"],["styleClass","p-datatable-striped","responsiveLayout","scroll",3,"value"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["pTemplate","emptymessage"],["id","notifyName_label","for","notifyName",1,"control-label"],["type","text","id","notifyName","formControlName","notifyName",1,"form-control"],["class","text-danger",4,"ngIf"],["id","notifyType_label","for","notifyType",1,"control-label"],["formControlName","notifyType",3,"options","placeholder"],["id","enableE_label",1,"control-label"],[1,"form-group","row",3,"hidden"],[1,"col-lg-6","col-md-12"],["id","payloadFlag_label",1,"control-label","required"],[1,"p-form-check-line"],[1,"p-form-check"],["formControlName","payloadFlag","value","0","inputId","payloadFlag0"],["for","payloadFlag0",1,"ms-2","mb-0"],["formControlName","payloadFlag","value","1","inputId","payloadFlag1"],["for","payloadFlag1",1,"ms-2","mb-0"],["formControlName","payloadFlag","value","2","inputId","payloadFlag2"],["for","payloadFlag2",1,"ms-2","mb-0"],[1,"col-12"],["formControlName","fieldList",3,"webhookType","percentValid"],[1,"d-flex"],["id","message_label",1,"control-label","fw-bold"],[2,"display","block"],["rows","2","id","message","formControlName","message","pInputTextarea","",2,"width","100%"],[1,"col-12","col-lg-12"],["type","button",1,"btn","tpi-btn","float-start","me-3",3,"hidden","ngClass","disabled","click"],["type","button",1,"btn","tpi-btn","tpi-primary","float-start",3,"click"],["position","top-left"],["icon","pi pi-exclamation-triangle","styleClass","cHeader cContent cIcon"],["cd",""],["formControlName","enable",3,"value","inputId"],[1,"ms-2","mb-0",3,"for"],[2,"width","50px"],[2,"width","150px"],[2,"width","100px"],["scope","col",2,"width","150px"],[2,"text-align","center"],[2,"width","20px","height","20px",3,"alt","src"],[2,"text-align","center","width","150px"],["pButton","","pRipple","","type","button","icon","pi pi-eye","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],["pButton","","pRipple","","type","button","icon","fa fa-edit","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],["pButton","","pRipple","","type","button","icon","fa fa-trash-alt","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],[4,"ngIf"],[2,"color","#b7b7b7"],[2,"vertical-align","middle"],["type","button",1,"btn","tpi-header-return",3,"click"],[1,"fas","fa-angle-double-right",2,"margin-left","5px"],[1,"text-danger"],[1,"form-text"],[1,"row",2,"justify-content","center"],["type","button","pButton","","icon","pi pi-check",3,"ngStyle","label","click"],["type","button","pButton","","icon","pi pi-times",1,"p-button-secondary",3,"label","click"]],template:function(t,n){1&t&&(e.TgZ(0,"app-container",0),e.NdJ("headerReturn",function(){return n.headerReturn()}),e.TgZ(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"label",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"span",6)(9,"i",7),e.NdJ("click",function(){return n.queryWebhookNotify()}),e.qZA(),e.TgZ(10,"input",8),e.NdJ("keydown.enter",function(){return n.queryWebhookNotify()}),e.qZA()()(),e.TgZ(11,"div",9)(12,"label",5),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"div",10),e.YNc(16,_e,5,4,"ng-container",11),e.qZA()(),e.TgZ(17,"div",12)(18,"button",13),e.NdJ("click",function(){return n.changePage("create")}),e._uU(19),e.ALo(20,"translate"),e.qZA()()()(),e._UZ(21,"hr"),e.TgZ(22,"p-table",14),e.YNc(23,ye,16,15,"ng-template",15),e.YNc(24,Ze,17,14,"ng-template",16),e.YNc(25,Ne,1,1,"ng-template",17),e.YNc(26,xe,4,4,"ng-template",18),e.qZA()(),e.TgZ(27,"div",1)(28,"form",2)(29,"div",3)(30,"div",9)(31,"label",19),e._uU(32),e.ALo(33,"translate"),e.qZA(),e._UZ(34,"input",20),e.YNc(35,Ae,6,4,"div",21),e.qZA(),e.TgZ(36,"div",9)(37,"label",22),e._uU(38),e.ALo(39,"translate"),e.qZA(),e._UZ(40,"p-dropdown",23),e.ALo(41,"translate"),e.YNc(42,Le,4,3,"div",21),e.qZA(),e.TgZ(43,"div",9)(44,"label",24),e._uU(45,"Enable"),e.qZA(),e.TgZ(46,"div",10),e.YNc(47,qe,5,4,"ng-container",11),e.qZA(),e.YNc(48,ke,7,6,"div",21),e.qZA()(),e.TgZ(49,"div",25)(50,"div",26)(51,"label",27),e._uU(52,"Mode"),e.qZA(),e.TgZ(53,"div",28),e.ynx(54),e.TgZ(55,"div",29),e._UZ(56,"p-radioButton",30),e.TgZ(57,"label",31),e._uU(58,"form-data"),e.qZA()(),e.TgZ(59,"div",29),e._UZ(60,"p-radioButton",32),e.TgZ(61,"label",33),e._uU(62,"raw"),e.qZA()(),e.TgZ(63,"div",29),e._UZ(64,"p-radioButton",34),e.TgZ(65,"label",35),e._uU(66,"x-www-form-urlencoded"),e.qZA()(),e.BQk(),e.qZA()()(),e.TgZ(67,"div",3)(68,"div",36)(69,"app-mapping-url-form",37),e.NdJ("percentValid",function(s){return n.set_formValid(s)}),e.qZA()()(),e.TgZ(70,"div",25)(71,"div",4)(72,"div",38)(73,"label",39),e._uU(74,"Message"),e.qZA()(),e.TgZ(75,"div",40),e._UZ(76,"textarea",41),e.qZA()()(),e.TgZ(77,"div",3)(78,"div",42)(79,"button",43),e.NdJ("click",function(){return n.procData()}),e.ALo(80,"translate"),e._uU(81),e.qZA(),e.TgZ(82,"button",44),e.NdJ("click",function(){return n.changePage("query")}),e._uU(83),e.ALo(84,"translate"),e.qZA()()()()()(),e._UZ(85,"p-toast",45),e.TgZ(86,"p-confirmDialog",46,47),e.YNc(88,Ue,5,8,"ng-template",17),e.qZA()),2&t&&(e.Q6J("title",n.currentTitle)("isDefault",1==n.pageNum),e.xp6(1),e.Q6J("hidden",1!=n.pageNum),e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(4),e.Oqu(e.lcZ(7,33,"keyword_search")),e.xp6(7),e.Oqu(e.lcZ(14,35,"status")),e.xp6(3),e.Q6J("ngForOf",n.statusList),e.xp6(3),e.Oqu(e.lcZ(20,37,"button.create")),e.xp6(3),e.Q6J("value",n.tableData),e.xp6(5),e.Q6J("hidden",2!=n.pageNum),e.xp6(1),e.Q6J("formGroup",n.formE),e.xp6(4),e.Oqu(e.lcZ(33,39,"notify.name")),e.xp6(3),e.Q6J("ngIf",n.notifyNameE.invalid&&(n.notifyNameE.dirty||n.notifyNameE.touched)),e.xp6(3),e.Oqu(e.lcZ(39,41,"notify.type")),e.xp6(2),e.Akn(e.DdM(49,Ee)),e.s9C("placeholder",e.lcZ(41,43,"plz_chs")),e.Q6J("options",n.notifyTypeList),e.xp6(2),e.Q6J("ngIf",(null==n.notifyTypeE?null:n.notifyTypeE.invalid)&&((null==n.notifyTypeE?null:n.notifyTypeE.dirty)||(null==n.notifyTypeE?null:n.notifyTypeE.touched))),e.xp6(5),e.Q6J("ngForOf",n.statusListIgnoreAll),e.xp6(1),e.Q6J("ngIf",(null==n.enableE?null:n.enableE.invalid)&&((null==n.enableE?null:n.enableE.dirty)||(null==n.enableE?null:n.enableE.touched))),e.xp6(1),e.Q6J("hidden","HTTP"!=n.notifyTypeE.value),e.xp6(20),e.Q6J("webhookType",n.notifyTypeE.value),e.xp6(1),e.Q6J("hidden","HTTP"==n.notifyTypeE.value),e.xp6(9),e.Q6J("hidden","detail"==n.currentAction)("ngClass",e.VKq(50,Ie,n.btnName==e.lcZ(80,45,"button.create")?"tpi-second":"tpi-primary"))("disabled",!n.formE.valid||!n._formValid),e.xp6(2),e.Oqu(n.btnName),e.xp6(2),e.Oqu(e.lcZ(84,47,"button.return_to_list")),e.xp6(2),e.Akn(e.DdM(52,Ve)),e.xp6(1),e.Akn(e.DdM(53,De)))},directives:[O.e,r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,N.sg,D.EU,J.iA,b.jx,M.Hq,R.u,N.O5,B.Lt,he,ge.g,N.mk,ve.FN,be.Q,N.PC],pipes:[E.X$],styles:[""]}),l})(),canActivate:[Z.u6]}];let we=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[[u.Bz.forChild(Se)],u.Bz]}),l})();var Fe=p(78555),Oe=p(31890);let Je=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({providers:[Z.u6],imports:[[N.ez,we,Fe.W,Oe.m,Z.DL,r.UX,r.u5]]}),l})()},63710:(U,T,p)=>{p.d(T,{e:()=>v});var u=p(87587),Z=p(69808),_=p(51062);function x(f,y){if(1&f&&(u.TgZ(0,"div")(1,"h3",9),u._uU(2),u.ALo(3,"translate"),u.qZA()()),2&f){const h=u.oxw();u.xp6(2),u.Oqu(u.lcZ(3,1,h.title))}}function r(f,y){if(1&f){const h=u.EpF();u.TgZ(0,"div",10)(1,"button",11),u.NdJ("click",function(){return u.CHM(h),u.oxw().return()}),u._UZ(2,"i",12),u._uU(3),u.ALo(4,"translate"),u.qZA(),u.TgZ(5,"span",13),u._uU(6),u.qZA(),u.TgZ(7,"span",14),u._uU(8),u.qZA()()}if(2&f){const h=u.oxw();u.xp6(3),u.hij(" ",u.lcZ(4,3,"button.return_to_list")," "),u.xp6(3),u.hij("",h.getHead()," /"),u.xp6(2),u.Oqu(h.getTail())}}const b=[[["","center-view","center"]],"*"],e=["[center-view=center]","*"];let v=(()=>{class f{constructor(){this.title="",this.isDefault=!0,this.headerReturn=new u.vpe}ngOnInit(){}return(){this.headerReturn.emit(null)}getHead(){const h=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return h.pop(),h.join(" / ")}getTail(){const h=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return h[h.length-1]}}return f.\u0275fac=function(h){return new(h||f)},f.\u0275cmp=u.Xpm({type:f,selectors:[["app-container"]],inputs:{title:"title",isDefault:"isDefault"},outputs:{headerReturn:"headerReturn"},ngContentSelectors:e,decls:11,vars:2,consts:[[1,"container-fluid","h-100"],[1,"row","position-relative",2,"height","calc(100% - 40px - 0.5rem)"],[1,"col"],[2,"margin-bottom","0.5rem"],[4,"ngIf"],["style","text-align: right",4,"ngIf"],[1,"col","d-flex","justify-content-center"],[1,"my-0","mb-2"],[1,"p-2"],["id","content",1,"page-title"],[2,"text-align","right"],["type","button","icon","",1,"btn","float-start","tpi-header-return",3,"click"],[1,"fas","fa-arrow-left",2,"margin-right","5px"],[1,"mb-0",2,"font-size","0.8rem","color","#666464"],[1,"mb-0",2,"font-size","0.8rem","color","#ff6e38","font-weight","bold"]],template:function(h,A){1&h&&(u.F$t(b),u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),u.YNc(4,x,4,3,"div",4),u.YNc(5,r,9,5,"div",5),u.TgZ(6,"div",6),u.Hsn(7),u.qZA()(),u._UZ(8,"hr",7),u.Hsn(9,1),u._UZ(10,"div",8),u.qZA()()()),2&h&&(u.xp6(4),u.Q6J("ngIf",A.isDefault),u.xp6(1),u.Q6J("ngIf",!A.isDefault))},directives:[Z.O5],pipes:[_.X$],styles:[".card.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:400;color:#5a5541}"]}),f})()},86347:(U,T,p)=>{p.d(T,{DL:()=>u.D,u6:()=>_.u});var u=p(81233),_=(p(45240),p(92718));p(4516)},46877:(U,T,p)=>{p.d(T,{X:()=>r});var u=p(92340),Z=p(57553),_=p(87587),x=p(30424);let r=(()=>{class b{constructor(v){this.api=v,this.api.baseUrl=u.N.dpPath}get basePath(){return u.N.isv4?"dgrv4/11":"tsmpdpaa/11"}querySubItemsByItemNo(v){let f={ReqHeader:this.api.getReqHeader(Z.Nx.querySubItemsByItemNo),ReqBody:v};return this.api.npPost(`${this.basePath}/DPB0047`,f)}queryNewsStatusList(v){let f={ReqHeader:this.api.getReqHeader(Z.Nx.querySubItemsByItemNo),ReqBody:v};return this.api.npPost(`${this.basePath}/DPB0048`,f)}}return b.\u0275fac=function(v){return new(v||b)(_.LFG(x.K))},b.\u0275prov=_.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})()}}]);