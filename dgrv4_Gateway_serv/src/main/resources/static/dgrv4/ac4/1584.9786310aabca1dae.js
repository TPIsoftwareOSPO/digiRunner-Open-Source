"use strict";(self.webpackChunksrcAngular=self.webpackChunksrcAngular||[]).push([[1584],{21584:(_o,q,_)=>{_.r(q),_.d(q,{Ac0311Module:()=>po});var Q=_(78555),A=_(69808),F=_(99291),b=_(15861),I=_(58348),H=_(14525),x=_(59783),r=_(93075),Y=_(10784),E=_(50727),G=_(68675),K=_(11520),z=_(44471),e=_(87587),W=_(56435),U=_(4516),X=_(46877),ee=_(22734),L=_(20563),te=_(38441),oe=_(41313),R=_(86518),P=_(45330),ie=_(63710),D=_(33725),ae=_(80422),le=_(49603);let se=(()=>{class i{constructor(t,o){this.element=t,this.render=o}_handleInput(t){this.onChange(t.files[0])}writeValue(t){this.render.setProperty(this.element.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){}nOnDestroy(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.SBq),e.Y36(e.Qsj))},i.\u0275dir=e.lG2({type:i,selectors:[["input","type","file"]],hostBindings:function(t,o){1&t&&e.NdJ("change",function(l){return o._handleInput(l.target)})},features:[e._Bn([{provide:r.JU,useExisting:i,multi:!0}])]}),i})();var S=_(23099),ne=_(40845),re=_(4119),ce=_(14036),M=_(61208),C=_(78231),pe=_(98373),w=_(51062);function ue(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",10),e.NdJ("click",function(){return e.CHM(t),e.oxw().procAiApikey()}),e._UZ(1,"i",11),e.TgZ(2,"span",12),e._uU(3,"AI APIKEY"),e.qZA()()}if(2&i){const t=e.oxw();e.Q6J("hidden",t.disabled)}}function _e(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().testApi()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",""==t.url.value),e.xp6(1),e.hij(" ",e.lcZ(2,2,"button.validate_url")," ")}}let de=(()=>{class i{constructor(t,o,a){this.fb=t,this.dialogService=o,this.toolService=a,this.disabled=!1,this.apiTpye="",this.pathTpye="",this.change=new e.vpe,this.remove=new e.vpe,this.testApiEvt=new e.vpe,this._uuid="",this._uuid=this.toolService.generate_uuid()}ngOnInit(){var t,o;this.form=this.fb.group({percent:new r.NI(this.data?this.data.percent:0),url:new r.NI(this.data?this.data.url:""),isMtls:new r.NI(!(!this.data||null===(o=null===(t=this.data)||void 0===t?void 0:t.isMtls)||void 0===o)&&o)}),this.disabled?this.form.disable():this.form.enable();const a=this.toolService.dgrProtocol_match(this.url.value);let l=!1;a.length>0&&(l=a.some(c=>c.includes("mtls"))),l&&this.url.value.startsWith("dgr+mtls##")&&this.url.setValue(this.url.value.replace("dgr+mtls##",""),{onlySelf:!1,emitEvent:!1}),this.form.valueChanges.subscribe(c=>{"HTTP_API"!=this.apiTpye&&this.url.setValue(this.toolService.toggleMtlsFlag(c.url,c.isMtls),{emitEvent:!1}),this.change.emit({percent:c.percent,url:this.toolService.toggleMtlsFlag(c.url,c.isMtls),no:this.no,isMtls:c.isMtls})})}delete(t){this._ref.destroy(),this.remove.emit(this.no)}testApi(){this.testApiEvt.emit(this.url.value)}procAiApikey(){this.dialogService.open(pe.c,{data:{},header:"AI APIKEY",width:"700px"}).onClose.subscribe(o=>{this.url.setValue(o?`dgr+ai-gateway##dgrv4/ai/prompt/${o.id}`:"")})}get percent(){return this.form.get("percent")}get url(){return this.form.get("url")}get isMtls(){return this.form.get("isMtls")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.qu),e.Y36(P.xA),e.Y36(U.g))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-src-url-reg-detail"]],inputs:{data:"data",_ref:"_ref",no:"no",disabled:"disabled",apiTpye:"apiTpye",pathTpye:"pathTpye"},outputs:{change:"change",remove:"remove",testApiEvt:"testApiEvt"},decls:12,vars:11,consts:[[1,"mb-1","col-12","px-0",2,"align-items","center","display","flex",3,"formGroup"],["type","number","formControlName","percent","min","0","max","100","onkeyup","this.value=Math.round(this.value)","onafterpaste","this.value=Math.round(this.value)","pattern","[0-9]",1,"form-control",2,"width","80px",3,"readOnly"],[1,"me-1"],["type","text","name","url","formControlName","url",1,"form-control","col",3,"readOnly"],["type","button","class","btn tpi-primary ms-1",3,"hidden","click",4,"ngIf"],["formControlName","isMtls",1,"ms-2",3,"binary","inputId","hidden"],[1,"mx-1",3,"for","hidden"],["type","button",1,"btn","tpi-primary","ms-1",2,"border-radius","50%",3,"hidden","click"],[1,"fa","fa-minus"],["type","button","class","btn tpi-btn tpi-primary mx-1",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","tpi-primary","ms-1",3,"hidden","click"],[1,"fa","fa-plus"],[1,"ps-1"],["type","button",1,"btn","tpi-btn","tpi-primary","mx-1",3,"disabled","click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"input",1),e.TgZ(2,"label",2),e._uU(3,"%"),e.qZA(),e._UZ(4,"input",3),e.YNc(5,ue,4,1,"button",4),e._UZ(6,"p-checkbox",5),e.TgZ(7,"label",6),e._uU(8,"mtls"),e.qZA(),e.TgZ(9,"button",7),e.NdJ("click",function(l){return o.delete(l)}),e._UZ(10,"i",8),e.qZA(),e.YNc(11,_e,3,4,"button",9),e.qZA()),2&t&&(e.Q6J("formGroup",o.form),e.xp6(1),e.Q6J("readOnly","WEBHOOK"==o.apiTpye),e.xp6(3),e.Q6J("readOnly","AI_GATEWAY"==o.apiTpye||"WEBHOOK"==o.apiTpye),e.xp6(1),e.Q6J("ngIf","AI_GATEWAY"==o.apiTpye),e.xp6(1),e.Q6J("binary",!0)("inputId","isMtls_"+o._uuid)("hidden","tsmpc"==o.pathTpye),e.xp6(1),e.Q6J("for","isMtls_"+o._uuid)("hidden","tsmpc"==o.pathTpye),e.xp6(2),e.Q6J("hidden",o.disabled),e.xp6(2),e.Q6J("ngIf","AI_GATEWAY"!==o.apiTpye))},directives:[r.JL,r.sg,r.wV,r.qQ,r.Fd,r.Fj,r.JJ,r.u,r.c5,A.O5,M.XZ],pipes:[w.X$],styles:[".input-box[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:400;line-height:1.5;color:var(--bs-body-color);appearance:none;background-color:var(--bs-body-bg);background-clip:padding-box;border:var(--bs-border-width) solid var(--bs-border-color);border-radius:var(--bs-border-radius);transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;outline:none}.no-focus[_ngcontent-%COMP%]:focus{box-shadow:none!important;outline:none!important}.cus-focus[_ngcontent-%COMP%]:focus{border-color:#ffac00;box-shadow:0 0 0 .2rem #ffac0061}.input-box[_ngcontent-%COMP%]:focus-within{border-color:#ffac00;box-shadow:0 0 0 .2rem #ffac0061}.prefix_cus[_ngcontent-%COMP%]{flex:0 0 auto;padding:.3rem .5rem;background-color:#ffac0080;border-right:1px solid #ccc;border-top-left-radius:var(--bs-border-radius);border-bottom-left-radius:var(--bs-border-radius);border-top-right-radius:0;border-bottom-right-radius:0}"]}),i})();const me=["srcUrlReg"];function he(i,s){}let B=(()=>{class i{constructor(t){this.toolService=t,this._srcUrl="",this._srcUrlList=[],this.hostnums=0,this._equal100=!1,this.disabled=!1,this.testApiEvt=new e.vpe,this._apiType="",this._pathType=""}set apiType(t){this._apiType=t}get apiType(){return this._apiType}set pathType(t){this._pathType=t}get pathType(){return this._pathType}ngOnInit(){}writeValue(t){this._srcUrl=t||"",setTimeout(()=>this.generateSrcUrlReg())}generateSrcUrlReg(){var t;if(this.hostnums=0,this._srcUrlList=[],this.srcUrlRegRef.clear(),this._srcUrl.includes("b64.")){if("b64"==(null===(t=this._srcUrl)||void 0===t?void 0:t.substring(0,3))){let o=this._srcUrl.split(".");o.shift();let a=[];for(let l=0;l<o.length;l++)l%2==0&&a.push({percent:o[l],url:C.DS.decode(o[l+1])});if(a.length>0){let l=0;a.forEach(c=>{l+=Number(c.percent),this.addSrcUrlReg(c)}),this._equal100=100==l}else this.addSrcUrlReg()}}else this.addSrcUrlReg({percent:"100",url:this._srcUrl}),this._equal100=!0}addSrcUrlReg(t){let o=this.srcUrlRegRef.createComponent(de);if(t){const a=this.toolService.dgrProtocol_match(t.url);let l=!1;a.length>0&&(l=a.some(c=>c.includes("mtls"))),this._srcUrlList.push({percent:t.percent,url:t.url,no:this.hostnums,isMtls:l})}else this._srcUrlList.push({percent:"0",url:"",no:this.hostnums,isMtls:!1});o.instance._ref=o,o.instance.no=this.hostnums,o.instance.data=this._srcUrlList[this.hostnums],o.instance.disabled=this.disabled,o.instance.apiTpye=this.apiType,o.instance.pathTpye="0"==this.pathType?"tsmpc":"",this.hostnums++,o.instance.change.subscribe(a=>{if(this._srcUrlList.findIndex(u=>u.no===a.no)||0!=this._srcUrlList.length){let u=this._srcUrlList.findIndex(d=>d.no===a.no);this._srcUrlList[u].percent=a.percent,this._srcUrlList[u].url=a.url,this._srcUrlList[u].no=a.no,this._srcUrlList[u].isMtls=a.isMtls}else this._srcUrlList.push({percent:"100",url:"",no:this.hostnums,isMtls:!1});if(1==this._srcUrlList.length)this.onChange(this._srcUrlList[0].isMtls?`b64.${this._srcUrlList[0].percent}.${C.DS.encodeURL(this._srcUrlList[0].url)}`:this._srcUrlList[0].url);else{let d="b64."+this._srcUrlList.map(n=>n.percent+"."+C.DS.encodeURL(n.url)).join(".");this.onChange(d)}let c=0;this._srcUrlList.forEach(u=>{c+=Number(u.percent)}),this._equal100=100==c}),o.instance.remove.subscribe(a=>{let l=this._srcUrlList.findIndex(c=>c.no===a);if(this._srcUrlList.splice(l,1),0==this._srcUrlList.length)this.hostnums=0,this.onChange(""),this.addSrcUrlReg();else if(1==this._srcUrlList.length)this._srcUrlList[0].url.startsWith("dgr+mtls##")?this.onChange(`b64.${this._srcUrlList[0].percent}.${C.DS.encodeURL(this._srcUrlList[0].url)}`):this.onChange(this._srcUrlList[0].url);else{let c=this._srcUrlList.map(n=>n.percent+"."+C.DS.encodeURL(n.url)),u=this._srcUrlList.length>0&&this._srcUrlList[0].percent+this._srcUrlList[0].percent!=""?"b64."+c.join("."):"",d=0;this._srcUrlList.forEach(n=>{d+=Number(n.percent)}),this._equal100=100==d,this.onChange(u)}}),o.instance.testApiEvt.subscribe(a=>{this.testApiEvt.emit(a)})}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t,this.generateSrcUrlReg()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(U.g))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-src-url-reg"]],viewQuery:function(t,o){if(1&t&&e.Gf(me,7,e.s_b),2&t){let a;e.iGM(a=e.CRH())&&(o.srcUrlRegRef=a.first)}},inputs:{apiType:"apiType",pathType:"pathType"},outputs:{testApiEvt:"testApiEvt"},features:[e._Bn([{provide:r.JU,useExisting:(0,e.Gpc)(()=>i),multi:!0}])],decls:11,vars:5,consts:[[1,"row"],["content",""],[1,"col-12"],[3,"testApiEvt"],["srcUrlReg",""],[2,"color","red",3,"hidden"],["type","button",1,"btn","tpi-second",2,"border-radius","50%",3,"hidden","click"],[1,"fa","fa-plus"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0,1)(2,"div",2),e.YNc(3,he,0,0,"ng-template",3,4,e.W1O),e.NdJ("testApiEvt",function(l){return o.test(l)}),e.TgZ(5,"div",5)(6,"small"),e._uU(7),e.ALo(8,"translate"),e.qZA()(),e.TgZ(9,"button",6),e.NdJ("click",function(){return o.addSrcUrlReg()}),e._UZ(10,"i",7),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("hidden",o._equal100),e.xp6(2),e.Oqu(e.lcZ(8,3,"equal100")),e.xp6(2),e.Q6J("hidden",o.disabled))},pipes:[w.X$],styles:[""]}),i})(),ge=(()=>{class i{constructor(t){this.fb=t,this.no=0,this.disabled=!1,this.change=new e.vpe,this.remove=new e.vpe,this.testApiEvt=new e.vpe}ngOnInit(){var t,o;this.form=this.fb.group({ipForRedirect:new r.NI({value:this.data?this.data.ipForRedirect:"",disabled:null!==(o=null===(t=null==this?void 0:this.data)||void 0===t?void 0:t.allowAll)&&void 0!==o&&o}),ipSrcUrl:new r.NI(this.data?this.data.ipSrcUrl:"")}),this.form.valueChanges.subscribe(a=>{var l;this.change.emit({ipForRedirect:(null===(l=null==this?void 0:this.data)||void 0===l?void 0:l.allowAll)?"0.0.0.0/0":a.ipForRedirect,ipSrcUrl:a.ipSrcUrl,no:this.no})})}procTestApiEvt(t){this.testApiEvt.emit(t)}deleteItem(){this.ref.destroy(),this.remove.emit(this.no)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-hostname-config-form"]],inputs:{data:"data",ref:"ref",no:"no",disabled:"disabled"},outputs:{change:"change",remove:"remove",testApiEvt:"testApiEvt"},decls:11,vars:5,consts:[[1,"form-group","row",3,"formGroup"],[1,"col-12",2,"align-items","center","display","flex"],[1,"col"],[1,"form-label","control-label","required"],["type","text","formControlName","ipForRedirect",1,"form-control",3,"placeholder"],[1,"p-3","mt-1",2,"background-color","#eaeaea","border-radius","15px"],["formControlName","ipSrcUrl",3,"testApiEvt"],["type","button",1,"btn","tpi-primary","ms-1",2,"border-radius","50%",3,"disabled","click"],[1,"fa","fa-minus"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),e._uU(4,"Source IP"),e.qZA(),e._UZ(5,"input",4),e.ALo(6,"translate"),e.TgZ(7,"div",5)(8,"app-src-url-reg",6),e.NdJ("testApiEvt",function(l){return o.procTestApiEvt(l)}),e.qZA()()(),e.TgZ(9,"button",7),e.NdJ("click",function(){return o.deleteItem()}),e._UZ(10,"i",8),e.qZA()()()),2&t&&(e.Q6J("formGroup",o.form),e.xp6(5),e.s9C("placeholder",e.lcZ(6,3,"input_example.text")),e.xp6(4),e.Q6J("disabled",o.disabled))},directives:[r.JL,r.sg,r.Fj,r.JJ,r.u,B],pipes:[w.X$],styles:[""]}),i})();const fe=["ipDataList"];function ve(i,s){}let be=(()=>{class i{constructor(t,o,a){this.alertService=t,this.translate=o,this.toolService=a,this.disabled=!1,this.listNum=0,this.redirectByIpDataList=[],this.testApiEvt=new e.vpe,this.isAllowAll=!1}ngOnInit(){}writeValue(t){this.generateHostNameForm(t)}addIdData(t){var o=this;return(0,b.Z)(function*(a,l=!1){if(5==o.redirectByIpDataList.length){const u=["rowCountLimit"],d=yield o.toolService.getDict(u,{num:5});return void o.alertService.ok(d.rowCountLimit,"")}let c=o.ipDataListRef.createComponent(ge);a?o.redirectByIpDataList.push({ipForRedirect:a.ipForRedirect,ipSrcUrl:a.ipSrcUrl,listNum:o.listNum}):l?(o.redirectByIpDataList.push({ipForRedirect:"0.0.0.0/0",ipSrcUrl:"",listNum:o.listNum,allowAll:!0}),o.isAllowAll=!0):o.redirectByIpDataList.push({ipForRedirect:"",ipSrcUrl:"",listNum:o.listNum}),c.instance.ref=c,c.instance.no=o.listNum,c.instance.data=o.redirectByIpDataList[o.listNum],c.instance.disabled=o.disabled,o.listNum++,o.onChange&&o.onChange(o.redirectByIpDataList.map(u=>({ipForRedirect:u.ipForRedirect,ipSrcUrl:u.ipSrcUrl}))),c.instance.change.subscribe(u=>{let d=o.redirectByIpDataList.findIndex(n=>n.listNum===u.no);o.redirectByIpDataList[d].ipForRedirect=u.ipForRedirect,o.redirectByIpDataList[d].ipSrcUrl=u.ipSrcUrl,o.redirectByIpDataList[d].listNum=u.no,o.isAllowAll=o.redirectByIpDataList.some(n=>n.ipForRedirect.includes("0.0.0.0/0")||n.ipForRedirect.includes("::/0")),o.onChange(o.redirectByIpDataList.map(n=>({ipForRedirect:n.ipForRedirect,ipSrcUrl:n.ipSrcUrl})))}),c.instance.remove.subscribe(u=>{let d=o.redirectByIpDataList.findIndex(n=>n.listNum===u);o.redirectByIpDataList.splice(d,1),o.listNum=o.redirectByIpDataList.length,0==o.redirectByIpDataList.length?(o.listNum=0,o.onChange([]),o.addIdData()):o.onChange(o.redirectByIpDataList.map(n=>({ipForRedirect:n.ipForRedirect,ipSrcUrl:n.ipSrcUrl}))),o.isAllowAll=o.redirectByIpDataList.some(n=>n.ipForRedirect.includes("0.0.0.0/0")||n.ipForRedirect.includes("::/0"))}),c.instance.testApiEvt.subscribe(u=>{o.testApiEvt.emit(u)})}).apply(this,arguments)}generateHostNameForm(t){this.redirectByIpDataList=[],this.listNum=0,this.ipDataListRef.clear(),t&&t.length>0?t.forEach(o=>{this.addIdData(o)}):this.addIdData()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(R.c),e.Y36(w.sK),e.Y36(U.g))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-hostname-config"]],viewQuery:function(t,o){if(1&t&&e.Gf(fe,7,e.s_b),2&t){let a;e.iGM(a=e.CRH())&&(o.ipDataListRef=a.first)}},outputs:{testApiEvt:"testApiEvt"},features:[e._Bn([{provide:r.JU,useExisting:(0,e.Gpc)(()=>i),multi:!0}])],decls:12,vars:5,consts:[[1,"row"],["content",""],[1,"col-12"],["ipDataList",""],[1,"field-flex-start"],["type","button",1,"btn","tpi-second",2,"border-radius","50%",3,"hidden","click"],[1,"fa","fa-plus"],["type","button",1,"btn","tpi-second",2,"border-radius","15px",3,"hidden","click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0,1)(2,"div",2),e.YNc(3,ve,0,0,"ng-template",null,3,e.W1O),e.TgZ(5,"div",4)(6,"button",5),e.NdJ("click",function(){return o.addIdData()}),e._UZ(7,"i",6),e.qZA(),e.TgZ(8,"button",7),e.NdJ("click",function(){return o.addIdData(void 0,!0)}),e._UZ(9,"i",6),e._uU(10),e.ALo(11,"translate"),e.qZA()()()()),2&t&&(e.xp6(6),e.Q6J("hidden",o.disabled||o.isAllowAll),e.xp6(2),e.Q6J("hidden",o.disabled||o.isAllowAll),e.xp6(2),e.hij(" ",e.lcZ(11,3,"allow_all")," "))},pipes:[w.X$],styles:[""]}),i})();var ye=_(75923),Ae=_(86526),Ze=_(42939),xe=_(52347),we=_(17773),Te=_(19114);const Ce=["upload_file"],Ue=["keyValueForm"],Ne=["keyValueRequest"];function Fe(i,s){1&i&&e._UZ(0,"img",154)}function ke(i,s){if(1&i&&(e.TgZ(0,"div",165)(1,"small",166),e._uU(2),e.qZA(),e.TgZ(3,"small",166),e._uU(4),e.qZA()()),2&i){const t=e.oxw(4);e.xp6(2),e.Oqu(t.o_tarUrl.errors.isRequired),e.xp6(2),e.Oqu(t.o_tarUrl.errors.pattern)}}function qe(i,s){if(1&i&&(e.TgZ(0,"div",4)(1,"div",31)(2,"label",163),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",164),e.YNc(6,ke,5,2,"div",134),e.qZA(),e.TgZ(7,"div",31)(8,"label",32),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"label",34),e._uU(12),e.qZA()()()),2&i){const t=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,4,"src_url")),e.xp6(3),e.Q6J("ngIf",t.o_tarUrl.invalid&&(t.o_tarUrl.dirty||t.o_tarUrl.touched)),e.xp6(3),e.Oqu(e.lcZ(10,6,"base_path")),e.xp6(3),e.Oqu(t.openApiDocData.basePath)}}function Ie(i,s){if(1&i&&(e.TgZ(0,"div",165)(1,"small",166),e._uU(2),e.qZA(),e.TgZ(3,"small",166),e._uU(4),e.qZA()()),2&i){const t=e.oxw(4);e.xp6(2),e.Oqu(t.o_tarUrl.errors.isRequired),e.xp6(2),e.Oqu(t.o_tarUrl.errors.pattern)}}function Le(i,s){if(1&i&&(e.TgZ(0,"div",4)(1,"div",125)(2,"label",163),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",164),e.YNc(6,Ie,5,2,"div",134),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,2,"tar_url")),e.xp6(3),e.Q6J("ngIf",t.o_tarUrl.invalid&&(t.o_tarUrl.dirty||t.o_tarUrl.touched))}}function Re(i,s){if(1&i&&(e.TgZ(0,"div",165)(1,"small",166),e._uU(2),e.qZA(),e.TgZ(3,"small",166),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"small",166),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"small",166),e._uU(10),e.qZA()()),2&i){const t=e.oxw(4);e.xp6(2),e.Oqu(t.o_moduleName.errors.isRequired),e.xp6(2),e.Oqu(e.lcZ(5,4,t.o_moduleName.errors.maxlength)),e.xp6(3),e.Oqu(e.lcZ(8,6,t.o_moduleName.errors.minlength)),e.xp6(3),e.Oqu(t.o_moduleName.errors.pattern)}}function Pe(i,s){if(1&i&&(e.TgZ(0,"div",4)(1,"div",31)(2,"label",167),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",168),e.YNc(6,Re,11,8,"div",134),e.qZA(),e.TgZ(7,"div",137)(8,"label",169),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"label",34),e._uU(12),e.qZA()()()),2&i){const t=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,4,"module_name")),e.xp6(3),e.Q6J("ngIf",t.o_moduleName.invalid&&(t.o_moduleName.dirty||t.o_moduleName.touched)),e.xp6(3),e.Oqu(e.lcZ(10,6,"module_version")),e.xp6(3),e.Oqu(t.openApiDocData.moduleVersion)}}function De(i,s){1&i&&e._UZ(0,"col"),2&i&&e.Udp("width",s.$implicit.width)}function Se(i,s){if(1&i&&(e.TgZ(0,"colgroup"),e.YNc(1,De,1,2,"col",173),e.qZA(),e.TgZ(2,"colgroup",174),e._uU(3),e.ALo(4,"translate"),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngForOf",t),e.xp6(2),e.Oqu(e.lcZ(4,2,"action"))}}function Me(i,s){if(1&i&&(e.TgZ(0,"th",177),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.header," ")}}function Be(i,s){if(1&i&&(e.TgZ(0,"tr"),e.YNc(1,Me,2,1,"th",175),e.TgZ(2,"th",176),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngForOf",t),e.xp6(2),e.hij(" ",e.lcZ(4,2,"action")," ")}}function je(i,s){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit,o=e.oxw().$implicit,a=e.oxw(4);e.xp6(1),e.AsE(" ",a.o_moduleName.value,"/",o[t.field]," ")}}function Je(i,s){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit,o=e.oxw().$implicit;e.xp6(1),e.hij(" ",o[t.field]," ")}}function Oe(i,s){if(1&i&&(e.TgZ(0,"td"),e.YNc(1,je,2,2,"span",1),e.YNc(2,Je,2,1,"span",1),e.qZA()),2&i){const t=s.$implicit;e.Udp("width",t.width),e.xp6(1),e.Q6J("ngIf","rearPath"==t.field),e.xp6(1),e.Q6J("ngIf","rearPath"!=t.field)}}function Ve(i,s){if(1&i&&e._UZ(0,"input",201),2&i){const t=e.oxw().rowIndex;e.MGl("formControlName","apiId_",t,"")}}function $e(i,s){if(1&i&&e._UZ(0,"input",201),2&i){const t=e.oxw().rowIndex;e.MGl("formControlName","summary_",t,"")}}function Qe(i,s){if(1&i&&(e.TgZ(0,"div",4),e._UZ(1,"div",137),e.TgZ(2,"div",64)(3,"label",32),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"input",201),e.qZA()()),2&i){const t=e.oxw().rowIndex;e.xp6(4),e.hij(" ",e.lcZ(5,2,"src_url"),"\uff1a "),e.xp6(2),e.MGl("formControlName","srcUrl_",t,"")}}function He(i,s){if(1&i&&(e.TgZ(0,"div",16)(1,"div",130)(2,"div",49),e._UZ(3,"p-checkbox",195),e.TgZ(4,"label",196),e._uU(5),e.ALo(6,"translate"),e.qZA()()()()),2&i){const t=e.oxw().rowIndex;e.xp6(3),e.MGl("inputId","urlRID_",t,"")("formControlName","urlRID_",t,""),e.Q6J("binary",!0),e.xp6(1),e.MGl("for","urlRID_",t,""),e.xp6(1),e.Oqu(e.lcZ(6,5,"path_param"))}}function Ye(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1,","),e.qZA())}function Ee(i,s){if(1&i&&(e.TgZ(0,"label"),e._uU(1),e.YNc(2,Ye,2,0,"span",1),e.qZA()),2&i){const t=s.$implicit,o=s.index,a=e.oxw(2).$implicit;e.xp6(1),e.hij(' "',t,'" '),e.xp6(1),e.Q6J("ngIf",o+1<a.params.length)}}function Ge(i,s){if(1&i&&(e.TgZ(0,"div",64)(1,"label",32),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," ["),e.YNc(5,Ee,3,2,"label",200),e._uU(6,"] "),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.hij("",e.lcZ(3,2,"params"),"\uff1a"),e.xp6(3),e.Q6J("ngForOf",t.params)}}function Ke(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1,","),e.qZA())}function ze(i,s){if(1&i&&(e.TgZ(0,"label"),e._uU(1),e.YNc(2,Ke,2,0,"span",1),e.qZA()),2&i){const t=s.$implicit,o=s.index,a=e.oxw().$implicit;e.xp6(1),e.hij(' "',t,'" '),e.xp6(1),e.Q6J("ngIf",o+1<a.produces.length)}}function We(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1,","),e.qZA())}function Xe(i,s){if(1&i&&(e.TgZ(0,"label"),e._uU(1),e.YNc(2,We,2,0,"span",1),e.qZA()),2&i){const t=s.$implicit,o=s.index,a=e.oxw(2).$implicit;e.xp6(1),e.hij(' "',t,'" '),e.xp6(1),e.Q6J("ngIf",o+1<a.consumes.length)}}function et(i,s){if(1&i&&(e.TgZ(0,"div",64)(1,"label",32),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._uU(4," ["),e.YNc(5,Xe,3,2,"label",200),e._uU(6,"] "),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.hij("",e.lcZ(3,2,"content_type"),"\uff1a"),e.xp6(3),e.Q6J("ngForOf",t.consumes)}}function tt(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1,","),e.qZA())}function ot(i,s){if(1&i&&(e.TgZ(0,"label"),e._uU(1),e.YNc(2,tt,2,0,"span",1),e.qZA()),2&i){const t=s.$implicit,o=s.index,a=e.oxw(2).$implicit;e.xp6(1),e.hij(' "',t,'" '),e.xp6(1),e.Q6J("ngIf",o+1<a.headers.length)}}function it(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1,","),e.qZA())}function at(i,s){if(1&i&&(e.TgZ(0,"label"),e._uU(1),e.YNc(2,it,2,0,"span",1),e.qZA()),2&i){const t=s.$implicit,o=s.index,a=e.oxw(2).$implicit;e.xp6(1),e.hij(' "',t,'" '),e.xp6(1),e.Q6J("ngIf",o+1<a.consumes.length)}}function lt(i,s){if(1&i&&(e.TgZ(0,"div",4),e._UZ(1,"div",137),e.TgZ(2,"div",64)(3,"label",32),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._uU(6," ["),e.YNc(7,ot,3,2,"label",200),e._uU(8,"] "),e.qZA(),e.TgZ(9,"div",64)(10,"label",32),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._uU(13," ["),e.YNc(14,at,3,2,"label",200),e._uU(15,"] "),e.qZA(),e._UZ(16,"div",137),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(4),e.hij("",e.lcZ(5,4,"headers"),"\uff1a"),e.xp6(3),e.Q6J("ngForOf",t.headers),e.xp6(4),e.hij("",e.lcZ(12,6,"content_type"),"\uff1a"),e.xp6(3),e.Q6J("ngForOf",t.consumes)}}const T=function(){return{width:"100%"}};function st(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr"),e.YNc(1,Oe,3,4,"td",173),e.TgZ(2,"td",178)(3,"button",179),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw(4).changePage("test_api",l)}),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",180),e.NdJ("click",function(){const l=e.CHM(t).rowIndex;return e.oxw(4).openTableExpandByIndex(l)}),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",181),e.NdJ("click",function(){const l=e.CHM(t).rowIndex;return e.oxw(4).closeTableExpandByIndex(l)}),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"button",182),e.NdJ("click",function(){const l=e.CHM(t).rowIndex;return e.oxw(4).cloneConfirm(l)}),e.ALo(10,"translate"),e.qZA()()(),e.TgZ(11,"tr",183)(12,"td")(13,"form",3)(14,"div",4),e._UZ(15,"div",137),e.TgZ(16,"div",64)(17,"label",32),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.YNc(20,Ve,1,1,"input",184),e.YNc(21,$e,1,1,"input",184),e.qZA(),e.TgZ(22,"div",185)(23,"div",16)(24,"div",137)(25,"label",186),e._uU(26),e.ALo(27,"translate"),e.qZA()(),e.TgZ(28,"div",187)(29,"div",140)(30,"div",141),e.ynx(31),e.TgZ(32,"div",49)(33,"p-radioButton",188),e.NdJ("onClick",function(a){const c=e.CHM(t).rowIndex;return e.oxw(4).jwtSettingClick(a,c)}),e.qZA(),e.TgZ(34,"label",189),e._uU(35),e.ALo(36,"translate"),e.qZA()(),e.TgZ(37,"div",49)(38,"p-radioButton",188),e.NdJ("onClick",function(a){const c=e.CHM(t).rowIndex;return e.oxw(4).jwtSettingClick(a,c)}),e.qZA(),e.TgZ(39,"label",189),e._uU(40),e.ALo(41,"translate"),e.qZA()(),e.BQk(),e.qZA()()()(),e.TgZ(42,"div",190)(43,"div",31)(44,"label",32),e._uU(45,"Request\uff1a"),e.qZA(),e.TgZ(46,"p-dropdown",191),e.NdJ("onChange",function(a){const c=e.CHM(t).rowIndex;return e.oxw(4).jweFlagOnChange(a,c)}),e.qZA()(),e.TgZ(47,"div",31)(48,"label",32),e._uU(49,"Response\uff1a"),e.qZA(),e.TgZ(50,"p-dropdown",192),e.NdJ("onChange",function(a){const c=e.CHM(t).rowIndex;return e.oxw(4).jweFlagRespOnChange(a,c)}),e.qZA()()()(),e._UZ(51,"div",137),e.qZA(),e.YNc(52,Qe,7,4,"div",90),e.TgZ(53,"div",4),e._UZ(54,"div",137),e.TgZ(55,"div",64)(56,"div",193)(57,"div",137)(58,"label",32),e._uU(59),e.ALo(60,"translate"),e.qZA()(),e.TgZ(61,"div",31)(62,"div",193),e.YNc(63,He,7,7,"div",194),e.TgZ(64,"div",16)(65,"div",130)(66,"div",49),e._UZ(67,"p-checkbox",195),e.TgZ(68,"label",196),e._uU(69),e.ALo(70,"translate"),e.qZA()()()(),e.TgZ(71,"div",16)(72,"div",130)(73,"div",49),e._UZ(74,"p-checkbox",195),e.TgZ(75,"label",196),e._uU(76),e.ALo(77,"translate"),e.qZA()()()()()()()(),e.TgZ(78,"div",64)(79,"div",193)(80,"div",16)(81,"label",138),e._uU(82),e.ALo(83,"translate"),e.qZA(),e._UZ(84,"p-dropdown",197),e.ALo(85,"translate"),e.qZA(),e.TgZ(86,"div",16)(87,"label",32),e._uU(88),e.ALo(89,"translate"),e.qZA(),e._UZ(90,"textarea",198),e.qZA()()(),e._UZ(91,"div",137),e.qZA(),e.TgZ(92,"div",4),e._UZ(93,"div",137),e.YNc(94,Ge,7,4,"div",199),e.TgZ(95,"div",64)(96,"label",32),e._uU(97),e.ALo(98,"translate"),e.qZA(),e._uU(99," ["),e.YNc(100,ze,3,2,"label",200),e._uU(101,"] "),e.qZA(),e.YNc(102,et,7,4,"div",199),e._UZ(103,"div",137),e.qZA(),e.YNc(104,lt,17,8,"div",90),e.qZA()()()}if(2&i){const t=s.$implicit,o=s.columns,a=s.rowIndex,l=e.oxw(4);e.Udp("background-color",l.chechDuplicateColor(t)),e.xp6(1),e.Q6J("ngForOf",o),e.xp6(2),e.Q6J("pTooltip",e.lcZ(4,57,"button.validate_url")),e.xp6(2),e.Q6J("pTooltip",e.lcZ(6,59,"button.expansion")),e.xp6(2),e.Q6J("pTooltip",e.lcZ(8,61,"button.collapse")),e.xp6(2),e.Q6J("pTooltip",e.lcZ(10,63,"button.all_use"))("hidden","1"==l.o_type.value),e.xp6(2),e.MGl("id","expanded_",a,""),e.xp6(1),e.uIk("colspan",o.length+1),e.xp6(1),e.Q6J("formGroup",l.oasForm),e.xp6(5),e.hij(" ","0"==l.o_type.value?e.lcZ(19,65,"api_key"):"Summary"," "),e.xp6(2),e.Q6J("ngIf","0"==l.o_type.value),e.xp6(1),e.Q6J("ngIf","1"==l.o_type.value),e.xp6(5),e.hij(" ",e.lcZ(27,67,"jwt_setting")," "),e.xp6(7),e.MGl("formControlName","jwtSetting_",a,"")("inputId","jwtSetting_",a,"_Y"),e.Q6J("value",!0),e.xp6(1),e.MGl("for","jwtSetting_",a,"_Y"),e.xp6(1),e.Oqu(e.lcZ(36,69,"button.enable")),e.xp6(3),e.MGl("formControlName","jwtSetting_",a,"")("inputId","jwtSetting_",a,"_N"),e.Q6J("value",!1),e.xp6(1),e.MGl("for","jwtSetting_",a,"_N"),e.xp6(1),e.Oqu(e.lcZ(41,71,"button.disable")),e.xp6(6),e.Akn(e.DdM(87,T)),e.MGl("formControlName","jweFlag_",a,""),e.Q6J("options",l.jwtSettingFlags),e.xp6(4),e.Akn(e.DdM(88,T)),e.MGl("formControlName","jweFlagResp_",a,""),e.Q6J("options",l.jwtSettingFlags),e.xp6(2),e.Q6J("ngIf","0"==l.o_type.value),e.xp6(7),e.Oqu(e.lcZ(60,73,"feature_setting")),e.xp6(4),e.Q6J("ngIf","0"==l.o_type.value),e.xp6(4),e.MGl("inputId","noOAuth_",a,"")("formControlName","noOAuth_",a,""),e.Q6J("binary",!0),e.xp6(1),e.MGl("for","noOAuth_",a,""),e.xp6(1),e.Oqu(e.lcZ(70,75,"no_auth")),e.xp6(5),e.MGl("inputId","tokenPayload_",a,"")("formControlName","tokenPayload_",a,""),e.Q6J("binary",!0),e.xp6(1),e.MGl("for","tokenPayload_",a,""),e.xp6(1),e.Oqu(e.lcZ(77,77,"token_payload")),e.xp6(6),e.Oqu(e.lcZ(83,79,"data_format")),e.xp6(2),e.MGl("formControlName","dataFormat_",a,""),e.s9C("placeholder",e.lcZ(85,81,"plz_chs")),e.Q6J("options",l.apiDataFormats),e.xp6(4),e.Oqu(e.lcZ(89,83,"api_desc")),e.xp6(2),e.MGl("formControlName","apiDesc_",a,""),e.xp6(4),e.Q6J("ngIf","0"==l.o_type.value),e.xp6(3),e.hij("",e.lcZ(98,85,"produces"),"\uff1a"),e.xp6(3),e.Q6J("ngForOf",t.produces),e.xp6(2),e.Q6J("ngIf","1"==l.o_type.value),e.xp6(2),e.Q6J("ngIf","0"==l.o_type.value)}}const j=function(){return{"word-break":"break-word"}};function nt(i,s){if(1&i&&(e.TgZ(0,"p-table",170),e.YNc(1,Se,5,4,"ng-template",171),e.YNc(2,Be,5,4,"ng-template",45),e.YNc(3,st,105,89,"ng-template",172),e.qZA()),2&i){const t=e.oxw(3);e.Akn(e.DdM(4,j)),e.Q6J("columns",t.openApiCols)("value",t.openApiList)}}function rt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"p-fieldset",null,155)(2,"p-header"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.YNc(5,qe,13,8,"div",90),e.YNc(6,Le,7,4,"div",90),e.YNc(7,Pe,13,8,"div",90),e._UZ(8,"br"),e.TgZ(9,"div",156)(10,"span"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"div",157)(14,"button",158),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).closeTableAllExpand()}),e.TgZ(15,"span",159),e._uU(16),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"button",160),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).openTableAllExpand()}),e.TgZ(19,"span",161),e._uU(20),e.ALo(21,"translate"),e.qZA()()()(),e.YNc(22,nt,4,5,"p-table",162),e._UZ(23,"br"),e.TgZ(24,"div",4)(25,"div",151)(26,"button",76),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).registerOpenApi()}),e._uU(27),e.ALo(28,"translate"),e.qZA()()()()}if(2&i){const t=e.oxw(2);e.xp6(3),e.hij("2.",e.lcZ(4,11,"chs_reg_api"),""),e.xp6(2),e.Q6J("ngIf","0"==t.o_type.value),e.xp6(1),e.Q6J("ngIf","1"==t.o_type.value),e.xp6(1),e.Q6J("ngIf","0"==t.o_type.value),e.xp6(4),e.AsE("",e.lcZ(12,13,"row_count"),": ",t.openApiListRowcount,""),e.xp6(5),e.Oqu(e.lcZ(17,15,"button.collapse_all")),e.xp6(4),e.Oqu(e.lcZ(21,17,"button.expansion_all")),e.xp6(2),e.Q6J("ngIf",t.openApiCols),e.xp6(4),e.Q6J("disabled",t.oasForm.invalid),e.xp6(1),e.Oqu(e.lcZ(28,19,"button.register"))}}function ct(i,s){1&i&&e._UZ(0,"img",202)}function pt(i,s){if(1&i&&e._UZ(0,"p-dropdown",203),2&i){const t=e.oxw(2);e.Akn(e.DdM(3,T)),e.Q6J("options",t.apiTypeList)}}function ut(i,s){1&i&&(e.TgZ(0,"div",17),e._UZ(1,"p-checkbox",204),e.TgZ(2,"label",205),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i&&(e.xp6(1),e.Q6J("binary",!0),e.xp6(2),e.Oqu(e.lcZ(4,2,"diversionSrcIP")))}function _t(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",31)(2,"label",91),e._uU(3,"Webhook Notify Name"),e.qZA(),e.TgZ(4,"div",71),e._UZ(5,"input",206),e.TgZ(6,"button",207),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).queryNotifyNameList()}),e.qZA()()()()}}function dt(i,s){1&i&&(e.TgZ(0,"div",4)(1,"div",16)(2,"label",208),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",92)(6,"div",49),e._UZ(7,"p-radioButton",209),e.TgZ(8,"label",210),e._uU(9),e.ALo(10,"translate"),e.qZA()()()()()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,2,"fail_discovery_policy.label")),e.xp6(6),e.hij("Policy 0: ",e.lcZ(10,4,"fail_discovery_policy.policy_0"),""))}function mt(i,s){1&i&&(e.TgZ(0,"div",4)(1,"div",16)(2,"label",208),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",92),e.ynx(6),e.TgZ(7,"div",93),e._UZ(8,"p-radioButton",211),e.TgZ(9,"label",212),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",93),e._UZ(13,"p-radioButton",213),e.TgZ(14,"label",214),e._uU(15),e.ALo(16,"translate"),e.qZA()(),e.BQk(),e.qZA()()()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,3,"fail_handle_policy.label")),e.xp6(7),e.hij("Policy 0: ",e.lcZ(11,5,"fail_handle_policy.policy_0"),""),e.xp6(5),e.hij("Policy 1: ",e.lcZ(16,7,"fail_handle_policy.policy_1"),""))}function ht(i,s){if(1&i&&(e.TgZ(0,"div",165)(1,"small",166),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(2),e.Oqu(e.lcZ(3,1,t.c_moduleName.errors.required))}}function gt(i,s){if(1&i&&(e.TgZ(0,"div",165)(1,"small",166),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(2),e.Oqu(e.lcZ(3,1,t.c_apiId.errors.required))}}function ft(i,s){if(1&i&&(e.TgZ(0,"div",4)(1,"div",31)(2,"label",167),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",168),e.YNc(6,ht,4,3,"div",134),e.qZA(),e.TgZ(7,"div",31)(8,"label",215),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",216),e.YNc(12,gt,4,3,"div",134),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,4,"module_name")),e.xp6(3),e.Q6J("ngIf",t.c_moduleName.invalid&&(t.c_moduleName.dirty||t.c_moduleName.touched)),e.xp6(3),e.Oqu(e.lcZ(10,6,"api_key")),e.xp6(3),e.Q6J("ngIf",t.c_apiId.invalid&&(t.c_apiId.dirty||t.c_apiId.touched))}}function vt(i,s){if(1&i&&(e.TgZ(0,"div",165)(1,"small",166),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw(3);e.xp6(2),e.Oqu(e.lcZ(3,1,t.c_apiName.errors.required))}}function bt(i,s){if(1&i&&(e.TgZ(0,"div",4)(1,"div",16)(2,"label",217),e._uU(3),e.ALo(4,"translate"),e.qZA(),e._UZ(5,"input",218),e.YNc(6,vt,4,3,"div",134),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,2,"api_name")),e.xp6(3),e.Q6J("ngIf",t.c_apiName.invalid&&(t.c_apiName.dirty||t.c_apiName.touched))}}function yt(i,s){1&i&&(e.TgZ(0,"label",219),e._uU(1,"*"),e.qZA())}function At(i,s){1&i&&(e._UZ(0,"i",220),e.ALo(1,"translate")),2&i&&(e.s9C("pTooltip",e.lcZ(1,2,"proxy_path_tip")),e.Q6J("escape",!1))}function Zt(i,s){if(1&i&&(e.TgZ(0,"div",49),e._UZ(1,"p-checkbox",221),e.TgZ(2,"label",222),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("binary",!0),e.xp6(2),e.Oqu("0"==t.c_type.value?e.lcZ(4,2,"path_param"):"")}}function xt(i,s){1&i&&(e.TgZ(0,"div",49),e._UZ(1,"p-checkbox",223),e.TgZ(2,"label",224),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i&&(e.xp6(1),e.Q6J("binary",!0),e.xp6(2),e.Oqu(e.lcZ(4,2,"no_auth")))}function wt(i,s){1&i&&e._UZ(0,"input",225)}function Tt(i,s){1&i&&e._UZ(0,"input",226)}function Ct(i,s){if(1&i&&(e.TgZ(0,"div",165)(1,"small",166),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,1,t.c_dgrPath.errors.required))}}function Ut(i,s){if(1&i&&(e.TgZ(0,"div",165)(1,"small",166),e._uU(2),e.qZA(),e.TgZ(3,"small",166),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"small",166),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"small",166),e._uU(10),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.Oqu(t.c_methods.errors.isRequired),e.xp6(2),e.Oqu(e.lcZ(5,4,t.c_methods.errors.maxlength)),e.xp6(3),e.Oqu(e.lcZ(8,6,t.c_methods.errors.minlength)),e.xp6(3),e.Oqu(t.c_methods.errors.pattern)}}const Z=function(i,s){return{num:i,mask:s}},J=function(){return{width:"100%",height:"36px"}},O=function(){return{width:"100%",minWidth:"150px"}},Nt=function(){return{value:5}};function Ft(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"p-tabView",43),e.NdJ("onChange",function(a){return e.CHM(t),e.oxw().changeTab(a)}),e.TgZ(2,"p-tabPanel",44),e.YNc(3,Fe,1,0,"ng-template",45),e.TgZ(4,"form",3)(5,"p-fieldset")(6,"p-header"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"div",46)(10,"div",47)(11,"div",48),e.ynx(12),e.TgZ(13,"div",49),e._UZ(14,"p-radioButton",50),e.TgZ(15,"label",51),e._uU(16),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",49),e._UZ(19,"p-radioButton",52),e.TgZ(20,"label",53),e._uU(21),e.ALo(22,"translate"),e.qZA()(),e.BQk(),e.qZA()()(),e._UZ(23,"hr",2),e.TgZ(24,"div",54)(25,"div",55)(26,"div",56)(27,"div",49),e._UZ(28,"p-radioButton",57),e.TgZ(29,"label",58),e._uU(30),e.ALo(31,"translate"),e.qZA()()(),e.TgZ(32,"div",31)(33,"input",59),e.NdJ("click",function(a){return e.CHM(t),e.oxw().callUploadDialogHandler(a)}),e.ALo(34,"translate"),e.qZA(),e.TgZ(35,"input",60,61),e.NdJ("change",function(a){return e.CHM(t),e.oxw().fileChangeHandler(a)}),e.qZA()(),e.TgZ(37,"div",62)(38,"button",63),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return a.uploadClickHandler(a.uploadfile.value)}),e._uU(39),e.ALo(40,"translate"),e.qZA()()()(),e.TgZ(41,"div",54)(42,"div",55)(43,"div",64)(44,"div",49),e._UZ(45,"p-radioButton",65),e.TgZ(46,"label",66),e._uU(47),e.ALo(48,"translate"),e.qZA()()(),e.TgZ(49,"div",31),e._UZ(50,"input",67),e.qZA(),e.TgZ(51,"div",62)(52,"button",63),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return a.uploadClickHandler(a.docUrl.value)}),e._uU(53),e.ALo(54,"translate"),e.qZA()()()(),e.TgZ(55,"div",46)(56,"div",55)(57,"div",64)(58,"label",68),e._uU(59),e.ALo(60,"translate"),e.qZA()(),e.TgZ(61,"div",31),e._UZ(62,"input",69),e.qZA()()()(),e.YNc(63,rt,29,21,"p-fieldset",1),e.qZA()(),e.TgZ(64,"p-tabPanel",70),e.YNc(65,ct,1,0,"ng-template",45),e.TgZ(66,"form",3)(67,"div",4)(68,"div",64)(69,"label",32),e._uU(70),e.ALo(71,"translate"),e.qZA(),e.TgZ(72,"div",71),e._UZ(73,"input",72),e.ALo(74,"translate"),e.ALo(75,"translate"),e.ALo(76,"translate"),e.TgZ(77,"button",73),e.NdJ("click",function(){return e.CHM(t),e.oxw().changePage("api_list")}),e.qZA()()(),e.TgZ(78,"div",74)(79,"label",75),e._uU(80,"\xa0"),e.qZA(),e.TgZ(81,"button",76),e.NdJ("click",function(){return e.CHM(t),e.oxw().copyApiDetail()}),e._uU(82),e.ALo(83,"translate"),e.qZA()()(),e.TgZ(84,"div",77)(85,"div",78)(86,"div",79),e.ynx(87),e.TgZ(88,"div",80),e._UZ(89,"p-radioButton",81),e.TgZ(90,"label",82),e._uU(91),e.ALo(92,"translate"),e.qZA(),e.YNc(93,pt,1,4,"p-dropdown",83),e.qZA(),e.TgZ(94,"div",49),e._UZ(95,"p-radioButton",84),e.TgZ(96,"label",85),e._uU(97),e.ALo(98,"translate"),e.qZA()(),e.BQk(),e.qZA()()(),e.TgZ(99,"div",4)(100,"div",16)(101,"label",86),e._uU(102),e.ALo(103,"translate"),e.qZA(),e.YNc(104,ut,5,4,"div",87),e.TgZ(105,"div",2)(106,"app-src-url-reg",88),e.NdJ("testApiEvt",function(a){return e.CHM(t),e.oxw().testApiEvt(a)}),e.qZA()(),e.TgZ(107,"div",2)(108,"app-hostname-config",89),e.NdJ("testApiEvt",function(a){return e.CHM(t),e.oxw().testApiEvt(a)}),e.qZA()()()(),e.YNc(109,_t,7,0,"div",90),e.TgZ(110,"div",4)(111,"div",16)(112,"label",91),e._uU(113,"API Log Header Mask"),e.qZA(),e.TgZ(114,"div",92),e.ynx(115),e.TgZ(116,"div",93),e._UZ(117,"p-radioButton",94),e.TgZ(118,"label",95),e._uU(119),e.ALo(120,"translate"),e.qZA()(),e.TgZ(121,"div",93),e._UZ(122,"p-radioButton",96),e.TgZ(123,"label",97),e._uU(124),e.ALo(125,"translate"),e.qZA()(),e.TgZ(126,"div",93),e._UZ(127,"p-radioButton",98),e.TgZ(128,"label",99),e._uU(129),e.ALo(130,"translate"),e.qZA()(),e.TgZ(131,"div",93),e._UZ(132,"p-radioButton",100),e.TgZ(133,"label",101),e._uU(134),e.ALo(135,"translate"),e.qZA()(),e.TgZ(136,"div",102)(137,"label",103),e._uU(138),e.ALo(139,"translate"),e.qZA(),e._UZ(140,"input",104),e.TgZ(141,"label",105),e._uU(142),e.ALo(143,"translate"),e.qZA(),e.TgZ(144,"input",106),e.NdJ("focusout",function(){return e.CHM(t),e.oxw().checkheaderMaskPolicySymbol()}),e.qZA()(),e.BQk(),e.qZA(),e.TgZ(145,"div",107),e._UZ(146,"app-fields-form",108),e.qZA()()(),e.TgZ(147,"div",4)(148,"div",16)(149,"label",91),e._uU(150,"API Log Body Mask Policy"),e.qZA(),e.TgZ(151,"div",92)(152,"div",93),e._UZ(153,"p-radioButton",109),e.TgZ(154,"label",110),e._uU(155),e.ALo(156,"translate"),e.qZA()(),e.TgZ(157,"div",93),e._UZ(158,"p-radioButton",111),e.TgZ(159,"label",112),e._uU(160),e.ALo(161,"translate"),e.qZA()(),e.TgZ(162,"div",93),e._UZ(163,"p-radioButton",113),e.TgZ(164,"label",114),e._uU(165),e.ALo(166,"translate"),e.qZA()(),e.TgZ(167,"div",93),e._UZ(168,"p-radioButton",115),e.TgZ(169,"label",116),e._uU(170),e.ALo(171,"translate"),e.qZA()(),e.TgZ(172,"div",93),e._UZ(173,"p-radioButton",117),e.TgZ(174,"label",118),e._uU(175),e.ALo(176,"translate"),e.qZA()(),e.TgZ(177,"div",102)(178,"label",103),e._uU(179),e.ALo(180,"translate"),e.qZA(),e._UZ(181,"input",119),e.TgZ(182,"label",105),e._uU(183),e.ALo(184,"translate"),e.qZA(),e.TgZ(185,"input",120),e.NdJ("focusout",function(){return e.CHM(t),e.oxw().checkbodyMaskPolicySymbol()}),e.qZA()()(),e.TgZ(186,"div",121)(187,"div",122)(188,"label",123),e._uU(189),e.ALo(190,"translate"),e.qZA(),e._UZ(191,"input",124),e.ALo(192,"translate"),e.qZA(),e.TgZ(193,"div",78)(194,"label",32),e._uU(195),e.ALo(196,"translate"),e.ALo(197,"translate"),e.qZA()()()()(),e.YNc(198,dt,11,6,"div",90),e.YNc(199,mt,17,9,"div",90),e.YNc(200,ft,13,8,"div",90),e.YNc(201,bt,7,4,"div",90),e.TgZ(202,"div",4)(203,"div",125)(204,"label",126),e._uU(205),e.ALo(206,"translate"),e.YNc(207,yt,2,0,"label",127),e.YNc(208,At,2,4,"i",128),e.qZA(),e.TgZ(209,"div",129)(210,"div",130),e.YNc(211,Zt,5,4,"div",131),e.YNc(212,xt,5,4,"div",131),e.qZA()(),e.YNc(213,wt,1,0,"input",132),e.YNc(214,Tt,1,0,"input",133),e.YNc(215,Ct,4,3,"div",134),e.qZA(),e.TgZ(216,"div",64)(217,"label",135),e._uU(218),e.ALo(219,"translate"),e.qZA(),e.TgZ(220,"div",7),e._UZ(221,"p-multiSelect",136),e.ALo(222,"translate"),e.YNc(223,Ut,11,8,"div",134),e.qZA()()(),e.TgZ(224,"div",4)(225,"div",137)(226,"label",138),e._uU(227),e.ALo(228,"translate"),e.qZA(),e.TgZ(229,"div",7),e._UZ(230,"p-dropdown",139),e.ALo(231,"translate"),e.qZA()(),e.TgZ(232,"div",137)(233,"label",32),e._uU(234),e.ALo(235,"translate"),e.qZA(),e.TgZ(236,"div",140)(237,"div",141),e.ynx(238),e.TgZ(239,"div",49),e._UZ(240,"p-radioButton",142),e.TgZ(241,"label",143),e._uU(242),e.ALo(243,"translate"),e.qZA()(),e.TgZ(244,"div",49),e._UZ(245,"p-radioButton",144),e.TgZ(246,"label",145),e._uU(247),e.ALo(248,"translate"),e.qZA()(),e.BQk(),e.qZA()()(),e.TgZ(249,"div",137)(250,"label",32),e._uU(251,"Request\uff1a"),e.qZA(),e.TgZ(252,"div",7)(253,"p-dropdown",146),e.NdJ("onChange",function(a){return e.CHM(t),e.oxw().jweFlagOnChange(a)}),e.qZA()()(),e.TgZ(254,"div",137)(255,"label",32),e._uU(256,"Response\uff1a"),e.qZA(),e.TgZ(257,"div",7)(258,"p-dropdown",147),e.NdJ("onChange",function(a){return e.CHM(t),e.oxw().jweFlagRespOnChange(a)}),e.qZA()()()(),e.TgZ(259,"div",4)(260,"div",16)(261,"label",148),e._uU(262),e.ALo(263,"translate"),e.qZA(),e.TgZ(264,"div",7),e._UZ(265,"textarea",149),e.qZA()()(),e.TgZ(266,"div",4)(267,"div",16)(268,"label",32),e._uU(269),e.ALo(270,"translate"),e.qZA(),e.TgZ(271,"div")(272,"p-chips",150),e.NdJ("onAdd",function(a){return e.CHM(t),e.oxw().checkChips(a)}),e.ALo(273,"translate"),e.qZA()()()(),e.TgZ(274,"div",4)(275,"div",151)(276,"button",152),e.NdJ("click",function(){return e.CHM(t),e.oxw().registerCustomApi()}),e._uU(277),e.ALo(278,"translate"),e.qZA(),e.TgZ(279,"button",153),e.NdJ("click",function(){return e.CHM(t),e.oxw().clearCustomizePageData()}),e._uU(280),e.ALo(281,"translate"),e.qZA()()()()()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("selected",t.oasTab),e.xp6(2),e.Q6J("formGroup",t.oasForm),e.xp6(3),e.Oqu(e.lcZ(8,110,"import_exn_spec")),e.xp6(2),e.Q6J("hidden","2"!=t.pathType),e.xp6(7),e.hij("",e.lcZ(17,112,"api_reg_new"),"(dgrc)"),e.xp6(5),e.hij("",e.lcZ(22,114,"api_reg_v3"),"(tsmpc)"),e.xp6(2),e.Q6J("hidden","2"!=t.pathType),e.xp6(7),e.Oqu(e.lcZ(31,116,"upload_doc")),e.xp6(3),e.s9C("placeholder",e.lcZ(34,118,"chs_file")),e.xp6(5),e.Q6J("disabled","1"===t.uploadDoc.value),e.xp6(1),e.Oqu(e.lcZ(40,120,"button.upload")),e.xp6(8),e.Oqu(e.lcZ(48,122,"doc_url")),e.xp6(5),e.Q6J("disabled","0"===t.uploadDoc.value),e.xp6(1),e.Oqu(e.lcZ(54,124,"button.upload")),e.xp6(2),e.Q6J("hidden",!t.showHostUrl),e.xp6(4),e.Oqu(e.lcZ(60,126,"host_url")),e.xp6(4),e.Q6J("ngIf",t.openApiDocData&&t.openApiList.length>0),e.xp6(1),e.Q6J("selected",t.customTab),e.xp6(2),e.Q6J("formGroup",t.customForm),e.xp6(4),e.Oqu(e.lcZ(71,128,"copy_from_existing_api")),e.xp6(3),e.cQ8("placeholder","",e.lcZ(74,130,"module_name"),"-",e.lcZ(75,132,"api_name"),"(",e.lcZ(76,134,"api_key"),")"),e.xp6(8),e.Q6J("disabled",null==t.apiAlias.value||""==t.apiAlias.value),e.xp6(1),e.hij(" ",e.lcZ(83,136,"copy")," "),e.xp6(2),e.Q6J("hidden","2"!=t.pathType),e.xp6(7),e.hij("",e.lcZ(92,138,"api_reg_new"),"(dgrc)"),e.xp6(2),e.Q6J("ngIf","1"===t.c_type.value),e.xp6(4),e.hij("",e.lcZ(98,140,"api_reg_v3"),"(tsmpc)"),e.xp6(5),e.Oqu(e.lcZ(103,142,"tar_url")),e.xp6(2),e.Q6J("ngIf","1"==t.c_type.value&&"HTTP_API"==t.c_apiType.value),e.xp6(1),e.Q6J("hidden",t.redirectByIp.value),e.xp6(1),e.Q6J("apiType",t.c_apiType.value)("pathType",t.c_type.value),e.xp6(1),e.Q6J("hidden",!t.redirectByIp.value),e.xp6(2),e.Q6J("ngIf","WEBHOOK"==t.c_apiType.value),e.xp6(10),e.hij("Policy 0: ",e.lcZ(120,144,"mask.none"),""),e.xp6(5),e.hij("Policy 1: ",e.xi3(125,146,"mask.before_after",e.WLB(212,Z,t.headerMaskPolicyNum.value,t.headerMaskPolicySymbol.value?t.headerMaskPolicySymbol.value:"*")),""),e.xp6(5),e.hij("Policy 2: ",e.xi3(130,149,"mask.before",e.WLB(215,Z,t.headerMaskPolicyNum.value,t.headerMaskPolicySymbol.value?t.headerMaskPolicySymbol.value:"*")),""),e.xp6(5),e.hij("Policy 3: ",e.xi3(135,152,"mask.after",e.WLB(218,Z,t.headerMaskPolicyNum.value,t.headerMaskPolicySymbol.value?t.headerMaskPolicySymbol.value:"*")),""),e.xp6(2),e.Q6J("hidden","0"==t.headerMaskPolicy.value),e.xp6(2),e.Oqu(e.lcZ(139,155,"mask.word")),e.xp6(2),e.Q6J("min",1)("max",9999),e.xp6(2),e.Oqu(e.lcZ(143,157,"mask.mask")),e.xp6(2),e.Q6J("maxlength",10)("minlength",1),e.xp6(1),e.Q6J("hidden","0"==t.headerMaskPolicy.value),e.xp6(1),e.Q6J("headerPolicy",t.headerMaskPolicy.value)("headerPolicyNum",t.headerMaskPolicyNum.value)("headerPolicyMask",t.headerMaskPolicySymbol.value),e.xp6(9),e.hij("Policy 0: ",e.lcZ(156,159,"mask.none"),""),e.xp6(5),e.hij("Policy 1: ",e.xi3(161,161,"mask.body_before_after",e.WLB(221,Z,t.bodyMaskPolicyNum.value,t.bodyMaskPolicySymbol.value?t.bodyMaskPolicySymbol.value:"*")),""),e.xp6(5),e.hij("Policy 2: ",e.xi3(166,164,"mask.body_before",e.WLB(224,Z,t.bodyMaskPolicyNum.value,t.bodyMaskPolicySymbol.value?t.bodyMaskPolicySymbol.value:"*")),""),e.xp6(5),e.hij("Policy 3: ",e.xi3(171,167,"mask.body_after",e.WLB(227,Z,t.bodyMaskPolicyNum.value,t.bodyMaskPolicySymbol.value?t.bodyMaskPolicySymbol.value:"*")),""),e.xp6(5),e.hij("Policy 4: ",e.xi3(176,170,"mask.body_after_regex",e.WLB(230,Z,t.bodyMaskPolicyNum.value,t.bodyMaskPolicySymbol.value?t.bodyMaskPolicySymbol.value:"*")),""),e.xp6(2),e.Q6J("hidden","0"==t.bodyMaskPolicy.value),e.xp6(2),e.Oqu(e.lcZ(180,173,"mask.word")),e.xp6(2),e.Q6J("min",1)("max",9999),e.xp6(2),e.Oqu(e.lcZ(184,175,"mask.mask")),e.xp6(2),e.Q6J("minlength",1)("maxlength",10),e.xp6(1),e.Q6J("hidden","0"==t.bodyMaskPolicy.value),e.xp6(3),e.Oqu("4"==t.bodyMaskPolicy.value?"Regular expression":e.lcZ(190,177,"keyword")),e.xp6(2),e.Q6J("placeholder","4"==t.bodyMaskPolicy.value?"":e.lcZ(192,179,"input_example.text")),e.xp6(4),e.hij("Example: ","4"==t.bodyMaskPolicy.value?e.lcZ(196,181,"mask.body_example_regex"):e.lcZ(197,183,"mask.body_example"),""),e.xp6(3),e.Q6J("ngIf","1"==t.c_type.value),e.xp6(1),e.Q6J("ngIf","1"==t.c_type.value),e.xp6(1),e.Q6J("ngIf","0"==t.c_type.value),e.xp6(1),e.Q6J("ngIf","1"==t.c_type.value),e.xp6(4),e.Oqu("0"==t.c_type.value?e.lcZ(206,185,"digirunner_url"):"digiRunner Proxy Path"),e.xp6(2),e.Q6J("ngIf","1"==t.c_type.value),e.xp6(1),e.Q6J("ngIf","1"==t.c_type.value),e.xp6(3),e.Q6J("ngIf","0"==t.c_type.value),e.xp6(1),e.Q6J("ngIf","AI_GATEWAY"!==t.c_apiType.value),e.xp6(1),e.Q6J("ngIf","0"==t.c_type.value),e.xp6(1),e.Q6J("ngIf","1"==t.c_type.value),e.xp6(1),e.Q6J("ngIf",t.c_dgrPath.invalid&&(t.c_dgrPath.dirty||t.c_dgrPath.touched)),e.xp6(3),e.Oqu(e.lcZ(219,187,"http_method")),e.xp6(3),e.Akn(e.DdM(233,J)),e.s9C("defaultLabel",e.lcZ(222,189,"chs_methods")),e.Q6J("options",t.httpmethods)("panelStyle",e.DdM(234,O)),e.xp6(2),e.Q6J("ngIf",t.c_methods.invalid&&(t.c_methods.dirty||t.c_methods.touched)),e.xp6(4),e.Oqu(e.lcZ(228,191,"data_format")),e.xp6(3),e.Akn(e.DdM(235,J)),e.s9C("placeholder",e.lcZ(231,193,"plz_chs")),e.Q6J("options",t.apiDataFormats)("panelStyle",e.DdM(236,O)),e.xp6(4),e.Oqu(e.lcZ(235,195,"jwt_setting")),e.xp6(6),e.Q6J("value",!0),e.xp6(2),e.Oqu(e.lcZ(243,197,"button.enable")),e.xp6(3),e.Q6J("value",!1),e.xp6(2),e.Oqu(e.lcZ(248,199,"button.disable")),e.xp6(6),e.Akn(e.DdM(237,T)),e.Q6J("options",t.jwtSettingFlags),e.xp6(5),e.Akn(e.DdM(238,T)),e.Q6J("options",t.jwtSettingFlags),e.xp6(4),e.Oqu(e.lcZ(263,201,"api_desc")),e.xp6(7),e.Oqu(e.lcZ(270,203,"label_tag")),e.xp6(3),e.Q6J("max",5)("allowDuplicate",!1)("placeholder",e.xi3(273,205,"label_tag_max",e.DdM(239,Nt))),e.xp6(5),e.Oqu(e.lcZ(278,208,"button.register")),e.xp6(3),e.Oqu(e.lcZ(281,210,"button.clear"))}}function kt(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"small",227),e._uU(2),e.qZA(),e.TgZ(3,"small",227),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"small",227),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"small",227),e._uU(10),e.qZA(),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.t_method.errors.isRequired),e.xp6(2),e.Oqu(e.lcZ(5,4,t.t_method.errors.maxlength)),e.xp6(3),e.Oqu(e.lcZ(8,6,t.t_method.errors.minlength)),e.xp6(3),e.Oqu(t.t_method.errors.pattern)}}function qt(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"small",227),e._uU(2),e.qZA(),e.TgZ(3,"small",227),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"small",227),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"small",227),e._uU(10),e.qZA(),e.BQk()),2&i){const t=e.oxw();e.xp6(2),e.Oqu(t.t_testURL.errors.isRequired),e.xp6(2),e.Oqu(e.lcZ(5,4,t.t_testURL.errors.maxlength)),e.xp6(3),e.Oqu(e.lcZ(8,6,t.t_testURL.errors.minlength)),e.xp6(3),e.Oqu(t.t_testURL.errors.pattern)}}function It(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",228)(1,"div",125)(2,"div",229),e._UZ(3,"app-key-value",230,231),e.ALo(5,"translate"),e.ALo(6,"translate"),e.TgZ(7,"button",232),e.NdJ("click",function(){return e.CHM(t),e.oxw().add("request")}),e._UZ(8,"i",233),e.qZA()()(),e.TgZ(9,"div",64)(10,"label",32),e._uU(11,"Request Header Example"),e.qZA(),e._UZ(12,"pre",234),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.s9C("keyLabel",e.lcZ(5,4,"key")),e.s9C("valueLabel",e.lcZ(6,6,"value")),e.xp6(4),e.Q6J("disabled",!t.requestHeader.value),e.xp6(5),e.Q6J("innerText",t.reqheaderExp)}}function Lt(i,s){1&i&&(e.ynx(0),e._UZ(1,"textarea",235),e.BQk())}function Rt(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",236),e._UZ(2,"app-key-value",237,238),e.ALo(4,"translate"),e.ALo(5,"translate"),e.TgZ(6,"button",239),e.NdJ("click",function(){return e.CHM(t),e.oxw().add("form")}),e._UZ(7,"i",233),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw();e.xp6(2),e.s9C("keyLabel",e.lcZ(4,3,"key")),e.s9C("valueLabel",e.lcZ(5,5,"value")),e.xp6(4),e.Q6J("disabled",t.disabledReqBody)}}function Pt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",153),e.NdJ("click",function(){return e.CHM(t),e.oxw().changePage("regist")}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"button.return_to_list")))}function Dt(i,s){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.AsE(" ",t.key,"\uff1a",t.value," ")}}function St(i,s){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Dt,2,2,"span",200),e.ALo(2,"keyvalue"),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngForOf",e.lcZ(2,1,t))}}function Mt(i,s){if(1&i&&(e.TgZ(0,"div",240)(1,"table",241),e._UZ(2,"caption"),e.TgZ(3,"thead")(4,"tr",242)(5,"th",243),e._uU(6),e.ALo(7,"translate"),e.qZA()()(),e.TgZ(8,"tbody")(9,"tr")(10,"th",244),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA()(),e.TgZ(15,"tr")(16,"th",244),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"td"),e.YNc(20,St,3,3,"div",200),e.qZA()(),e.TgZ(21,"tr")(22,"th",244),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"td"),e._UZ(26,"span",245),e.qZA()()()()()),2&i){const t=e.oxw();e.xp6(6),e.Oqu(e.lcZ(7,7,"response")),e.xp6(5),e.Oqu(e.lcZ(12,9,"status")),e.xp6(3),e.Oqu(t.testResult.resStatus),e.xp6(3),e.Oqu(e.lcZ(18,11,"headers")),e.xp6(3),e.Q6J("ngForOf",t.testResult.headerList),e.xp6(3),e.Oqu(e.lcZ(24,13,"body")),e.xp6(3),e.Q6J("innerHtml",t.testResult.resBody,e.oJD)}}function Bt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",25)(1,"div",16)(2,"button",153),e.NdJ("click",function(){return e.CHM(t),e.oxw().changePage("regist")}),e._uU(3),e.ALo(4,"translate"),e.qZA()()()}2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"button.return_to_list")))}function jt(i,s){1&i&&e._UZ(0,"col",251)}function Jt(i,s){if(1&i&&(e.TgZ(0,"colgroup"),e._UZ(1,"col",249),e.YNc(2,jt,1,0,"col",250),e.qZA()),2&i){const t=s.$implicit;e.xp6(2),e.Q6J("ngForOf",t)}}function Ot(i,s){if(1&i&&(e.TgZ(0,"th",255),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.header," ")}}function Vt(i,s){if(1&i&&(e.TgZ(0,"tr",252),e._UZ(1,"th",253),e.YNc(2,Ot,2,1,"th",254),e.qZA()),2&i){const t=s.$implicit;e.xp6(2),e.Q6J("ngForOf",t)}}const k=function(i){return[i]};function $t(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"label",260),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2).$implicit,l=e.oxw().$implicit;return e.oxw(2).switchOri(l[a.field])}),e._uU(1),e.ALo(2,"translate"),e._UZ(3,"i",261),e._uU(4),e.ALo(5,"translate"),e.qZA()}if(2&i){const t=e.oxw(2).$implicit,o=e.oxw().$implicit;e.xp6(1),e.hij(" ",o[t.field].t?e.lcZ(2,3,"show_more"):""," "),e.xp6(2),e.Q6J("ngClass",e.VKq(7,k,o[t.field].t?"fa-angle-double-right":"fa-angle-double-left")),e.xp6(1),e.hij(" ",o[t.field].t?"":e.lcZ(5,5,"show_less")," ")}}function Qt(i,s){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.YNc(2,$t,6,9,"label",259),e.qZA()),2&i){const t=e.oxw().$implicit,o=e.oxw().$implicit;e.xp6(1),e.hij(" ",o[t.field].ori&&!o[t.field].t?o[t.field].ori:o[t.field].val," "),e.xp6(1),e.Q6J("ngIf",o[t.field].ori)}}function Ht(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"label",260),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2).$implicit,l=e.oxw().$implicit;return e.oxw(2).switchOri(l[a.field])}),e._uU(1),e.ALo(2,"translate"),e._UZ(3,"i",261),e._uU(4),e.ALo(5,"translate"),e.qZA()}if(2&i){const t=e.oxw(2).$implicit,o=e.oxw().$implicit;e.xp6(1),e.hij(" ",o[t.field].t?e.lcZ(2,3,"show_more"):""," "),e.xp6(2),e.Q6J("ngClass",e.VKq(7,k,o[t.field].t?"fa-angle-double-right":"fa-angle-double-left")),e.xp6(1),e.hij(" ",o[t.field].t?"":e.lcZ(5,5,"show_less")," ")}}function Yt(i,s){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.YNc(2,Ht,6,9,"label",259),e.qZA()),2&i){const t=e.oxw().$implicit,o=e.oxw().$implicit;e.xp6(1),e.hij(" ",o[t.field].ori&&!o[t.field].t?o[t.field].ori:o[t.field].val," "),e.xp6(1),e.Q6J("ngIf",o[t.field].ori)}}function Et(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"label",260),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2).$implicit,l=e.oxw().$implicit;return e.oxw(2).switchOri(l[a.field])}),e._uU(1),e.ALo(2,"translate"),e._UZ(3,"i",261),e._uU(4),e.ALo(5,"translate"),e.qZA()}if(2&i){const t=e.oxw(2).$implicit,o=e.oxw().$implicit;e.xp6(1),e.hij(" ",o[t.field].t?e.lcZ(2,3,"show_more"):""," "),e.xp6(2),e.Q6J("ngClass",e.VKq(7,k,o[t.field].t?"fa-angle-double-right":"fa-angle-double-left")),e.xp6(1),e.hij(" ",o[t.field].t?"":e.lcZ(5,5,"show_less")," ")}}function Gt(i,s){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.YNc(2,Et,6,9,"label",259),e.qZA()),2&i){const t=e.oxw().$implicit,o=e.oxw().$implicit;e.xp6(1),e.hij(" ",o[t.field].ori&&!o[t.field].t?o[t.field].ori:o[t.field].val," "),e.xp6(1),e.Q6J("ngIf",o[t.field].ori)}}function Kt(i,s){if(1&i&&(e.TgZ(0,"td",258),e.YNc(1,Qt,3,2,"span",1),e.YNc(2,Yt,3,2,"span",1),e.YNc(3,Gt,3,2,"span",1),e.qZA()),2&i){const t=s.$implicit,o=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf","apiKey"===t.field),e.xp6(1),e.Q6J("ngIf","moduleName"==t.field||"apiName"==t.field),e.xp6(1),e.Q6J("ngIf","apiDesc"==t.field&&o.apiDesc)}}function zt(i,s){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableRadioButton",256),e.qZA(),e.YNc(3,Kt,4,3,"td",257),e.qZA()),2&i){const t=s.$implicit,o=s.columns;e.xp6(2),e.Q6J("value",t),e.xp6(1),e.Q6J("ngForOf",o)}}function Wt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr")(1,"td",262)(2,"span",263),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",264),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).moreApiList()}),e._uU(6),e.ALo(7,"translate"),e._UZ(8,"i",265),e.qZA()()()}if(2&i){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(1),e.uIk("colspan",t.length+1),e.xp6(2),e.AsE("",e.lcZ(4,4,"row_count"),": ",o.apiListRowcount," "),e.xp6(3),e.hij("",e.lcZ(7,6,"button.more")," ")}}function Xt(i,s){if(1&i&&e.YNc(0,Wt,9,8,"tr",1),2&i){const t=e.oxw(2);e.Q6J("ngIf",t.apiListRowcount)}}function eo(i,s){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i){const t=s.$implicit;e.xp6(1),e.uIk("colspan",t.length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"no_rec")," ")}}function to(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"p-table",246),e.NdJ("selectionChange",function(a){return e.CHM(t),e.oxw().selectedApi=a})("onRowSelect",function(a){return e.CHM(t),e.oxw().onRowSelect(a)})("onRowUnselect",function(a){return e.CHM(t),e.oxw().onRowUnselect(a)}),e.YNc(1,Jt,3,1,"ng-template",171),e.YNc(2,Vt,3,1,"ng-template",247),e.YNc(3,zt,4,2,"ng-template",172),e.YNc(4,Xt,1,1,"ng-template",42),e.YNc(5,eo,4,4,"ng-template",248),e.qZA()}if(2&i){const t=e.oxw();e.Akn(e.DdM(5,j)),e.Q6J("columns",t.apiListCols)("value",t.apiList)("selection",t.selectedApi)}}const oo=function(){return{backgroundColor:"var(--red-300)","border-color":"var(--red-300)"}};function io(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",266)(1,"button",267),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(92).accept()}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",268),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(92).reject()}),e.ALo(4,"translate"),e.qZA()()}2&i&&(e.xp6(1),e.s9C("label",e.lcZ(2,3,"button.confirm")),e.Q6J("ngStyle",e.DdM(7,oo)),e.xp6(2),e.s9C("label",e.lcZ(4,5,"button.cancel")))}const ao=function(){return{marginTop:"60px"}},lo=function(){return{width:"50vw"}};let so=(()=>{class i extends H.H{constructor(t,o,a,l,c,u,d,n,p,g,h,m,f,v){var y;super(t,o),this.apiService=a,this.tool=l,this.messageService=c,this.fb=u,this.list=d,this.fileService=n,this.regHostService=p,this.ngxService=g,this.serverService=h,this.confirmationService=m,this.alertService=f,this.dialogService=v,this.pageNum=1,this.currentTitle=this.title,this.openApiCols=[],this.openApiList=[],this.openApiListRowcount=0,this.tabList=[],this.currentTabIdx=0,this.regHostIdList=[],this.apiDataFormats=[],this.jwtSettingFlags=[],this.rowDataIdx=0,this.oasTab=!0,this.customTab=!1,this.httpmethods=[],this.disabledReqBody=!0,this.apiListCols=[],this.apiList=[],this.apiListRowcount=0,this.protocols=[],this.joinBtnFlag=!0,this.showResult=!1,this.showHostUrl=!1,this.pathType="",this.tarUrlSubscription=new E.w0,this.reqheaderExp='{\n    "Authorization":"Bearer xxxxxx.yyyyy.zzzz",\n    "Authorization":"Basic xxxxxxxx",\n    "Accept":"application/json",\n    "Accept-encoding":"hzip, deflate,br"\n}',this.apiTypeList=[{label:"Http API",value:"HTTP_API"},{label:"AI Gateway",value:"AI_GATEWAY"},{label:"Webhook",value:"WEBHOOK"}],this.oasForm=this.fb.group({apiSrc:new r.NI(""),moduleSrc:new r.NI(""),uploadDoc:new r.NI("0"),filename:new r.NI({value:"",disabled:!1}),docUrl:new r.NI({value:"",disabled:!0}),uploadfile:new r.NI(""),moduleName:new r.NI(""),regHostId:new r.NI(""),moduleVersion:new r.NI(""),regApiList:new r.NI([]),tempFileName:new r.NI(""),hostUrl:new r.NI(""),type:new r.NI(""),targetUrl:new r.NI("")}),this.customForm=this.fb.group({apiSrc:new r.NI(""),apiId:new r.NI(""),apiAlias:new r.NI(""),protocol:new r.NI("https"),srcUrl:new r.NI(""),moduleName:new r.NI(""),tsmpUrl:new r.NI(""),urlRID:new r.NI(!1),noOAuth:new r.NI(!1),tokenPayload:new r.NI(!1),methods:new r.NI([]),dataFormat:new r.NI("1"),jwtSetting:new r.NI(!1),jweFlag:new r.NI({value:"0",disabled:!0}),jweFlagResp:new r.NI({value:"0",disabled:!0}),apiDesc:new r.NI(""),type:new r.NI(""),apiName:new r.NI(""),dgrPath:new r.NI(""),redirectByIp:new r.NI(!1),redirectByIpDataList:new r.NI([]),headerMaskPolicy:new r.NI(0),headerMaskPolicyNum:new r.NI(1),headerMaskPolicySymbol:new r.NI("*"),headerMaskKey:new r.NI(""),bodyMaskPolicy:new r.NI(0),bodyMaskPolicyNum:new r.NI(1),bodyMaskPolicySymbol:new r.NI("*"),bodyMaskKeyword:new r.NI(""),labelList:new r.NI([]),failDiscoveryPolicy:new r.NI("0"),failHandlePolicy:new r.NI("0"),apiType:new r.NI("HTTP_API"),notifyNameList:new r.NI([])}),this.testForm=this.fb.group({method:new r.NI("POST"),testURL:new r.NI(""),basicAuth:new r.NI(!1),userName:new r.NI({value:"",disabled:!0}),passwd:new r.NI({value:"",disabled:!0}),requestHeader:new r.NI(!1),keyValueRequest:new r.NI({value:"",disabled:!0}),requestBodyCheck:new r.NI(!1),requestBody:new r.NI({value:"",disabled:!0}),bodyText:new r.NI(""),keyValueForm:new r.NI({value:"",disabled:!0})}),this.apiForm=this.fb.group({keyword:new r.NI("")}),this.labelList.valueChanges.subscribe(N=>{this.labelList.setValue(Array.isArray(N)?N.map(uo=>uo.toLowerCase()):[],{emitEvent:!1})}),null===(y=this.uploadDoc)||void 0===y||y.valueChanges.subscribe(N=>{this.showHostUrl=!1,"0"==N?(this.filename.enable(),this.docUrl.disable(),this.docUrl.reset()):(this.filename.disable(),this.docUrl.enable(),this.filename.reset())})}ngOnInit(){var t,o;this.serverService.queryTsmpSettingDetail({id:"DGR_PATHS_COMPATIBILITY"}).subscribe(n=>{var p,g;this.tool.checkDpSuccess(n.ResHeader)&&(this.pathType=n.RespBody.value,null===(p=this.oasForm.get("type"))||void 0===p||p.setValue("2"==this.pathType?"1":this.pathType),null===(g=this.customForm.get("type"))||void 0===g||g.setValue("2"==this.pathType?"1":this.pathType))}),this.httpmethods=Y.K.methods;let l={encodeItemNo:this.tool.Base64Encoder(this.tool.BcryptEncoder("REG_SRC"))+",28",isDefault:"N"};this.list.querySubItemsByItemNo(l).subscribe(n=>{if(this.tool.checkDpSuccess(n.ResHeader)){let p=[];if(n.RespBody.subItems)for(let g of n.RespBody.subItems)p.push({label:g.subitemName,value:g.subitemNo});this.tabList=p}});let c={encodeItemNo:this.tool.Base64Encoder(this.tool.BcryptEncoder("API_DATA_FORMAT"))+",30",isDefault:"N"};this.list.querySubItemsByItemNo(c).subscribe(n=>{if(this.tool.checkDpSuccess(n.ResHeader)){let p=[];n.RespBody.subItems&&n.RespBody.subItems.map(g=>{p.push({label:g.subitemName,value:g.subitemNo})}),this.apiDataFormats=p}});let u={encodeItemNo:this.tool.Base64Encoder(this.tool.BcryptEncoder("API_JWT_FLAG"))+",31",isDefault:"N"};this.list.querySubItemsByItemNo(u).subscribe(n=>{if(this.tool.checkDpSuccess(n.ResHeader)){let p=[];n.RespBody.subItems&&n.RespBody.subItems.map(g=>{p.push({label:g.subitemName,value:g.subitemNo})}),this.jwtSettingFlags=p}}),this.protocols=[{label:"https://",value:"https"},{label:"http://",value:"http"}],this.regHostService.queryRegHostList_1_ignore1298({paging:"false"}).subscribe(n=>{if(this.tool.checkDpSuccess(n.ResHeader)){let p=[];n.RespBody.hostInfoList.map(g=>{p.push({label:g.regHost,value:g.regHostID})}),this.regHostIdList=p}}),this.c_moduleName.valueChanges.subscribe(n=>{this.c_tsmpUrl.setValue(n?this.c_apiId.value?`/${n}/${this.c_apiId.value}`:`/${n}`:this.c_apiId.value?`/${this.c_apiId.value}`:"")}),this.c_apiId.valueChanges.subscribe(n=>{this.c_tsmpUrl.setValue(n?this.c_moduleName.value?`/${this.c_moduleName.value}/${n}`:`/${n}`:this.c_moduleName.value?`/${this.c_moduleName.value}`:"")}),this.o_type.valueChanges.subscribe(()=>{this.tarUrlSubscription.unsubscribe(),this.openApiDocData=void 0}),this.init(),this.headerMaskPolicyNum.valueChanges.subscribe(n=>{Number(n)<=0?this.headerMaskPolicyNum.setValue(1):Number(n)>9999&&this.headerMaskPolicyNum.setValue(9999)}),this.bodyMaskPolicyNum.valueChanges.subscribe(n=>{Number(n)<=0?this.bodyMaskPolicyNum.setValue(1):Number(n)>9999&&this.bodyMaskPolicyNum.setValue(9999)}),null===(t=this.requestHeader)||void 0===t||t.valueChanges.subscribe(n=>{this.keyValueRequest.reset()}),null===(o=this.requestBodyCheck)||void 0===o||o.valueChanges.subscribe(n=>{n?this.requestBody.enable():(this.requestBody.setValue("none"),this.requestBody.disable())}),this.requestBody.valueChanges.subscribe(n=>{switch(this.bodyText.disable(),this.bodyText.reset(),this.keyValueForm.disable(),this.keyValueForm.reset(),this.disabledReqBody=!0,n){case"body":this.bodyText.enable();break;case"form":this.disabledReqBody=!1,this.keyValueForm.enable()}}),this.c_apiType.valueChanges.subscribe(n=>{var p,g,h;this.clearCustomizePageData(!1),"WEBHOOK"==n?null===(p=this.srcUrl)||void 0===p||p.setValue("dgr+webhook##dgrv4/webhook"):"AI_GATEWAY"==n&&(this.redirectByIp.setValue(!1),null===(g=this.c_methods)||void 0===g||g.setValue(["POST"]),null===(h=this.c_methods)||void 0===h||h.disable())}),this.c_type.valueChanges.pipe((0,G.O)(this.c_type.value),(0,K.G)()).subscribe(([n,p])=>{["0","1"].includes(n)&&["0","1"].includes(p)&&n!=p&&this.clearCustomizePageData(!1)})}init(){var t=this;return(0,b.Z)(function*(){const a=yield t.tool.getDict(["digirunner_url","http_method","src_complete_url","api_key","api_desc","api_name","module_name"]);t.openApiCols=[{field:"rearPath",header:a.digirunner_url},{field:"methods",header:a.http_method},{field:"srcUrl",header:a.src_complete_url}],t.apiListCols=[{field:"apiKey",header:a.api_key},{field:"moduleName",header:a.module_name},{field:"apiName",header:a.api_name},{field:"apiDesc",header:a.api_desc}]})()}setOpenApiCols(){var t=this;return(0,b.Z)(function*(){const a=yield t.tool.getDict(["digirunner_url","http_method","src_complete_url","tar_complete_url"]);t.openApiCols="0"==t.o_type.value?[{field:"rearPath",header:a.digirunner_url},{field:"methods",header:a.http_method},{field:"srcUrl",header:a.src_complete_url}]:[{field:"summary",header:"Summary"},{field:"methods",header:a.http_method},{field:"srcUrl",header:a.tar_complete_url}]})()}uploadClickHandler(t){var o=this;return(0,b.Z)(function*(){if(t)if("object"==typeof t)o.fileService.uploadFile2(t).subscribe(a=>{o.tool.checkDpSuccess(a.ResHeader)&&(o.getOpenApiDocData(a.RespBody.tempFileName),o.tempFileName.setValue(a.RespBody.tempFileName))});else{if("string"!=typeof t)return;{let a=yield o.getUploadFile(t);o.fileService.uploadFile2(a).subscribe(l=>{o.tool.checkDpSuccess(l.ResHeader)&&(o.getOpenApiDocData(l.RespBody.tempFileName),o.tempFileName.setValue(l.RespBody.tempFileName))})}}})()}getOpenApiDocData(t){this.setOpenApiCols(),this.openApiList&&this.openApiList.map((l,c)=>{this.oasForm.removeControl(`apiDesc_${c}`),this.oasForm.removeControl(`dataFormat_${c}`),this.oasForm.removeControl(`tokenPayload_${c}`),this.oasForm.removeControl(`noOAuth_${c}`),this.oasForm.removeControl(`urlRID_${c}`),this.oasForm.removeControl(`jweFlagResp_${c}`),this.oasForm.removeControl(`jweFlag_${c}`),this.oasForm.removeControl(`jwtSetting_${c}`),this.oasForm.removeControl(`apiId_${c}`),this.oasForm.removeControl(`srcUrl_${c}`),this.oasForm.removeControl(`summary_${c}`)}),this.openApiList=[],this.openApiListRowcount=this.openApiList.length,this.ngxService.start();let o={tempFileName:t,type:this.o_type.value};this.showHostUrl&&(o.optionHost=this.hostUrl.value),this.apiService.uploadOpenApiDoc_v3(o).subscribe(l=>{if(this.tool.checkDpSuccess(l.ResHeader)){this.showHostUrl=!1,this.ngxService.stop(),this.openApiDocData=l.RespBody,this.o_apiSrc.setValue("R"),this.o_moduleSrc.setValue(this.openApiDocData.moduleSrc),this.o_moduleName.setValue(this.openApiDocData.moduleName),this.o_moduleVersion.setValue(this.openApiDocData.moduleVersion),this.o_regApiList.setValue(this.openApiDocData.openApiList),this.openApiList=l.RespBody.openApiList,this.openApiListRowcount=this.openApiList.length,this.o_tarUrl.setValue("0"==this.o_type.value?this.openApiDocData.protocol+this.openApiDocData.host:this.openApiDocData.protocol+this.openApiDocData.host+this.openApiDocData.basePath),this.openApiList.map((n,p)=>{var g,h,m,f;if(this.oasForm.addControl(`jwtSetting_${p}`,new r.NI(!1)),this.oasForm.addControl(`jweFlag_${p}`,new r.NI({value:"0",disabled:!0})),this.oasForm.addControl(`jweFlagResp_${p}`,new r.NI({value:"0",disabled:!0})),this.oasForm.addControl(`urlRID_${p}`,new r.NI(!1)),this.oasForm.addControl(`noOAuth_${p}`,new r.NI(!1)),this.oasForm.addControl(`tokenPayload_${p}`,new r.NI(!1)),this.oasForm.addControl(`dataFormat_${p}`,new r.NI("")),"1"==(null===(g=this.openApiDocData)||void 0===g?void 0:g.moduleSrc)?this.oasForm.get(`dataFormat_${p}`).setValue("0"):this.oasForm.get(`dataFormat_${p}`).setValue("1"),this.oasForm.addControl(`apiDesc_${p}`,new r.NI("")),this.oasForm.addControl(`apiId_${p}`,new r.NI(n.rearPath)),"0"==this.o_type.value&&(null===(h=this.oasForm.get(`apiId_${p}`))||void 0===h||h.valueChanges.subscribe(v=>{n.rearPath=v})),"0"==this.o_type.value)this.oasForm.addControl(`srcUrl_${p}`,new r.NI(n.srcUrl));else{const v="/"==this.o_tarUrl.value.charAt(this.o_tarUrl.value.length-1)?this.o_tarUrl.value.substr(0,this.o_tarUrl.value.length-1)+n.path:this.o_tarUrl.value+n.path;this.oasForm.addControl(`srcUrl_${p}`,new r.NI(v))}null===(m=this.oasForm.get(`srcUrl_${p}`))||void 0===m||m.valueChanges.subscribe(v=>{n.srcUrl=v}),this.oasForm.addControl(`summary_${p}`,new r.NI(n.summary)),"1"==this.o_type.value&&(null===(f=this.oasForm.get(`summary_${p}`))||void 0===f||f.valueChanges.subscribe(v=>{n.summary=v})),"0"==this.o_type.value&&(n.srcUrl.indexOf("{")>-1||n.srcUrl.indexOf("}")>-1)&&(n.duplicateFlag=!0)}),this.tarUrlSubscription=this.o_tarUrl.valueChanges.subscribe(()=>{var n;const p="0"==this.o_type.value?this.o_tarUrl.value+(null===(n=this.openApiDocData)||void 0===n?void 0:n.basePath):this.o_tarUrl.value;this.openApiList.map((g,h)=>{var m;const f="/"==p.charAt(p.length-1)?p.substr(0,p.length-1)+g.path:p+g.path;null===(m=this.oasForm.get(`srcUrl_${h}`))||void 0===m||m.setValue(f),g.srcUrl=f})});const u=this;this.openApiList.filter((n,p)=>u.openApiList.some((g,h)=>n.rearPath===g.rearPath&&h!==p)).forEach(n=>{n.duplicateFlag=!0}),this.apiService.registerAPIList_v3_before().subscribe(n=>{this.tool.checkDpSuccess(n.ResHeader)&&this.addFormValidator(this.oasForm,n.RespBody.constraints)}),this.o_moduleName.markAsTouched(),"1"==this.o_type.value&&this.o_tarUrl.markAsTouched()}else"1424"==l.ResHeader.rtnCode&&(this.showHostUrl=!0)})}getUploadFile(t){return new Promise((o,a)=>{$.get(t,l=>{let c=this.getFilename(t),u=JSON.stringify(l),d=new Blob([u],{type:"application/json"}),n=new File([d],c);o(n)})})}getFilename(t){return(t=(t=t.split("/").pop().replace(/\#(.*?)$/,"").replace(/\?(.*?)$/,"")).split("."))+".json"}registerOpenApi(){var t=this;return(0,b.Z)(function*(){var o;const l=yield t.tool.getDict(["message.reg_api","message.register","message.success"]);let c={apiSrc:"R",moduleSrc:t.openApiDocData.moduleSrc,tempFileName:t.tempFileName.value,moduleName:t.o_moduleName.value,moduleVersion:t.openApiDocData.moduleVersion,regHostId:t.o_regHostId.value,type:null===(o=t.openApiDocData)||void 0===o?void 0:o.type,targetUrl:t.o_tarUrl.value},u=Array();t.openApiList.map((d,n)=>{d.rearPath=t.oasForm.get(`apiId_${n}`).value,u.push({methods:d.methods,srcUrl:t.oasForm.get(`srcUrl_${n}`).value,apiId:t.oasForm.get(`apiId_${n}`).value,dataFormat:t.tool.Base64Encoder(t.tool.BcryptEncoder(t.oasForm.get(`dataFormat_${n}`).value))+","+t.apiDataFormats.findIndex(p=>p.value==t.oasForm.get(`dataFormat_${n}`).value),apiDesc:t.oasForm.get(`apiDesc_${n}`).value,jweFlag:t.tool.Base64Encoder(t.tool.BcryptEncoder(t.oasForm.get(`jweFlag_${n}`).value))+","+t.jwtSettingFlags.findIndex(p=>p.value==t.oasForm.get(`jweFlag_${n}`).value),jweFlagResp:t.tool.Base64Encoder(t.tool.BcryptEncoder(t.oasForm.get(`jweFlagResp_${n}`).value))+","+t.jwtSettingFlags.findIndex(p=>p.value==t.oasForm.get(`jweFlagResp_${n}`).value),urlRID:t.oasForm.get(`urlRID_${n}`).value,noOAuth:t.oasForm.get(`noOAuth_${n}`).value,funFlag:{tokenPayload:t.oasForm.get(`tokenPayload_${n}`).value},consumes:d.consumes,produces:d.produces,headers:d.headers,params:d.params,moduleName:d.moduleName,summary:d.summary})}),c.regApiList=u,t.setDuplicateData(),t.ngxService.start(),t.apiService.registerAPIList_v3(c).subscribe(d=>{t.ngxService.stop(),t.tool.checkDpSuccess(d.ResHeader)&&t.messageService.add({severity:"success",summary:l["message.reg_api"],detail:`${l["message.register"]} ${l["message.success"]}!`}),t.ngxService.stop()})})()}callUploadDialogHandler(t){this.upload_file.nativeElement.click()}fileChangeHandler(t){this.filename.setValue(this.uploadfile.value?this.uploadfile.value.name:"")}uploadDocChangeHandler(t){this.showHostUrl=!1,"0"==this.uploadDoc.value?(this.filename.enable(),this.docUrl.disable(),this.docUrl.reset()):(this.filename.disable(),this.docUrl.enable(),this.filename.reset())}openTableAllExpand(){for(let t=0;t<this.openApiListRowcount;t++)document.getElementById(`expanded_${t}`).style.display=""}closeTableAllExpand(){for(let t=0;t<this.openApiListRowcount;t++)document.getElementById(`expanded_${t}`).style.display="none"}openTableExpandByIndex(t){document.getElementById(`expanded_${t}`).style.display=""}closeTableExpandByIndex(t){document.getElementById(`expanded_${t}`).style.display="none"}jwtSettingClick(t,o){this.oasForm.get(`jwtSetting_${o}`).value?(this.oasForm.get(`jweFlag_${o}`).enable(),this.oasForm.get(`jweFlag_${o}`).setValue("0"),this.oasForm.get(`jweFlagResp_${o}`).enable(),this.oasForm.get(`jweFlagResp_${o}`).setValue("1")):(this.oasForm.get(`jweFlag_${o}`).setValue("0"),this.oasForm.get(`jweFlag_${o}`).disable(),this.oasForm.get(`jweFlagResp_${o}`).setValue("0"),this.oasForm.get(`jweFlagResp_${o}`).disable())}jwtSettingOnChange(t,o){switch(this.currentTabIdx){case 0:1==t.checked?(this.oasForm.get(`jweFlag_${o}`).enable(),this.oasForm.get(`jweFlag_${o}`).setValue("0"),this.oasForm.get(`jweFlagResp_${o}`).enable(),this.oasForm.get(`jweFlagResp_${o}`).setValue("1")):(this.oasForm.get(`jweFlag_${o}`).setValue("0"),this.oasForm.get(`jweFlag_${o}`).disable(),this.oasForm.get(`jweFlagResp_${o}`).setValue("0"),this.oasForm.get(`jweFlagResp_${o}`).disable());break;case 1:1==t.checked?(this.c_jweFlag.enable(),this.c_jweFlag.setValue("0"),this.c_jweFlagResp.enable(),this.c_jweFlagResp.setValue("1")):(this.c_jweFlag.setValue("0"),this.c_jweFlag.disable(),this.c_jweFlagResp.setValue("0"),this.c_jweFlagResp.disable())}}jweFlagOnChange(t,o){switch(this.currentTabIdx){case 0:"0"==t.value&&"0"==this.oasForm.get(`jweFlagResp_${o}`).value&&(this.oasForm.get(`jwtSetting_${o}`).setValue(!1),this.oasForm.get(`jweFlag_${o}`).setValue("0"),this.oasForm.get(`jweFlag_${o}`).disable(),this.oasForm.get(`jweFlagResp_${o}`).setValue("0"),this.oasForm.get(`jweFlagResp_${o}`).disable());break;case 1:"0"==t.value&&"0"==this.c_jweFlagResp.value&&(this.c_jwtSetting.setValue(!1),this.c_jweFlag.setValue("0"),this.c_jweFlag.disable(),this.c_jweFlagResp.setValue("0"),this.c_jweFlagResp.disable())}}jweFlagRespOnChange(t,o){switch(this.currentTabIdx){case 0:"0"==t.value&&"0"==this.oasForm.get(`jweFlag_${o}`).value&&(this.oasForm.get(`jwtSetting_${o}`).setValue(!1),this.oasForm.get(`jweFlag_${o}`).setValue("0"),this.oasForm.get(`jweFlag_${o}`).disable(),this.oasForm.get(`jweFlagResp_${o}`).setValue("0"),this.oasForm.get(`jweFlagResp_${o}`).disable());break;case 1:"0"==t.value&&"0"==this.c_jweFlag.value&&(this.c_jwtSetting.setValue(!1),this.c_jweFlag.setValue("0"),this.c_jweFlag.disable(),this.c_jweFlagResp.setValue("0"),this.c_jweFlagResp.disable())}}cloneConfirm(t){var o=this;return(0,b.Z)(function*(){o.rowDataIdx=t;const l=yield o.tool.getDict(["cfm_oas_setting"]);o.confirmationService.confirm({header:" ",message:l.cfm_oas_setting,accept:()=>{o.cloneAllSetting()}})})()}cloneAllSetting(){this.messageService.clear();let t=this.oasForm.get(`jwtSetting_${this.rowDataIdx}`).value,o=this.oasForm.get(`jweFlag_${this.rowDataIdx}`).value,a=this.oasForm.get(`jweFlagResp_${this.rowDataIdx}`).value,l=this.oasForm.get(`dataFormat_${this.rowDataIdx}`).value,c=this.oasForm.get(`apiDesc_${this.rowDataIdx}`).value,u=this.oasForm.get(`urlRID_${this.rowDataIdx}`).value,d=this.oasForm.get(`noOAuth_${this.rowDataIdx}`).value,n=this.oasForm.get(`tokenPayload_${this.rowDataIdx}`).value,p=this.oasForm.get(`apiId_${this.rowDataIdx}`).value,g=this.oasForm.get(`srcUrl_${this.rowDataIdx}`).value;this.openApiList.map((h,m)=>{this.oasForm.get(`jwtSetting_${m}`).setValue(t),this.oasForm.get(`jweFlag_${m}`).setValue(o),this.oasForm.get(`jweFlagResp_${m}`).setValue(a),1==this.oasForm.get(`jwtSetting_${m}`).value?(this.oasForm.get(`jweFlag_${m}`).enable(),this.oasForm.get(`jweFlagResp_${m}`).enable()):(this.oasForm.get(`jweFlag_${m}`).disable(),this.oasForm.get(`jweFlagResp_${m}`).disable()),this.oasForm.get(`dataFormat_${m}`).setValue(l),this.oasForm.get(`apiDesc_${m}`).setValue(c),this.oasForm.get(`urlRID_${m}`).setValue(u),this.oasForm.get(`noOAuth_${m}`).setValue(d),this.oasForm.get(`tokenPayload_${m}`).setValue(n),this.oasForm.get(`apiId_${m}`).setValue(p),this.oasForm.get(`srcUrl_${m}`).setValue(g),this.openTableExpandByIndex(m)})}onReject(){this.messageService.clear()}basicAuthChangeHandler(t){t.target.checked?(this.userName.enable(),this.passwd.enable()):(this.userName.disable(),this.userName.reset(),this.passwd.disable(),this.passwd.reset())}add(t){"request"===t?this.kv_request.add():this.kv_form.add()}queryApiList(){this.apiList=[],this.apiListRowcount=this.apiList.length,this.selectedApi={},this.apiService.queryAPIList_v3({keyword:this.keyword.value,apiSrc:["R"],paging:"Y"}).subscribe(o=>{this.tool.checkDpSuccess(o.ResHeader)&&(this.apiList=o.RespBody.dataList,this.apiListRowcount=this.apiList.length)})}moreApiList(){let t=this.apiList[this.apiList.length-1].moduleName,o=this.apiList[this.apiList.length-1].apiKey;this.apiService.queryAPIList_v3({moduleName:t.t?t.ori:t.val,apiKey:o.t?o.ori:o.val,keyword:this.keyword.value,apiSrc:["R"],paging:"Y"}).subscribe(l=>{this.tool.checkDpSuccess(l.ResHeader)&&(this.apiList=this.apiList.concat(l.RespBody.dataList),this.apiListRowcount=this.apiList.length)})}chooseApi(){this.changePage("regist");let t=this.selectedApi.moduleName,o=this.selectedApi.apiName,a=this.selectedApi.apiKey;this.apiAlias.setValue(`${t.t?t.ori:t.val}-${o.t?o.ori:o.val}(${a.t?a.ori:a.val})`)}copyApiDetail(){this.apiDetail={};let t=this.selectedApi.moduleName,o=this.selectedApi.apiKey;this.apiService.queryAPIDetail_v3({moduleName:t.t?t.ori:t.val,apiKey:o.t?o.ori:o.val}).subscribe(l=>{var c,u,d,n;if(this.tool.checkDpSuccess(l.ResHeader)){this.apiDetail=l.RespBody;const p=(null===(c=l.RespBody.srcUrl)||void 0===c?void 0:c.o)?null===(u=l.RespBody.srcUrl)||void 0===u?void 0:u.o:null!==(n=null===(d=l.RespBody.srcUrl)||void 0===d?void 0:d.v)&&void 0!==n?n:"";let g=this.tool.checkSrcUrlisAiGateway(p),h=this.tool.checkSrcUrlisWebhook(p);g?this.c_apiType.setValue("AI_GATEWAY"):h?this.c_apiType.setValue("WEBHOOK"):this.clearCustomizePageData(),this.srcUrl.setValue(p),this.c_moduleName.setValue(l.RespBody.moduleName.t?l.RespBody.moduleName.o:l.RespBody.moduleName.v),this.c_apiId.setValue(l.RespBody.apiKey.t?l.RespBody.apiKey.o:l.RespBody.apiKey.v),this.c_tsmpUrl.setValue(`/${this.c_moduleName.value}/${this.c_apiId.value}`),this.c_urlRID.setValue("1"==l.RespBody.urlRID),this.c_noOAuth.setValue("1"==l.RespBody.noOAuth),this.c_tokenPayload.setValue(1==l.RespBody.funFlag);let m=l.RespBody.methodOfJson.toLocaleUpperCase().split(",");this.c_methods.setValue(m),this.c_dataFormat.setValue(l.RespBody.dataFormat.v),this.c_jweFlag.setValue(l.RespBody.jweFlag.v),this.c_jweFlagResp.setValue(l.RespBody.jweFlagResp.v),this.c_jwtSetting.setValue("0"!=this.c_jweFlag.value&&null!=this.c_jweFlag.value||"0"!=this.c_jweFlagResp.value&&null!=this.c_jweFlagResp.value),"0"!=this.c_jweFlag.value&&null!=this.c_jweFlag.value||"0"!=this.c_jweFlagResp.value&&null!=this.c_jweFlagResp.value?this.c_jweFlag.enable():this.c_jweFlag.disable(),"0"!=this.c_jweFlag.value&&null!=this.c_jweFlag.value||"0"!=this.c_jweFlagResp.value&&null!=this.c_jweFlagResp.value?this.c_jweFlagResp.enable():this.c_jweFlagResp.disable(),this.c_apiDesc.setValue(l.RespBody.apiDesc),"1"==this.c_type.value&&(this.c_apiName.setValue(l.RespBody.apiName.o?l.RespBody.apiName.o:l.RespBody.apiName.v),this.c_dgrPath.setValue(l.RespBody.apiKey.o?l.RespBody.apiKey.o:l.RespBody.apiKey.v)),this.redirectByIp.setValue(l.RespBody.isRedirectByIp),this.redirectByIpDataList.setValue(l.RespBody.redirectByIpDataList?l.RespBody.redirectByIpDataList.map(f=>({ipForRedirect:f.ipForRedirect,ipSrcUrl:f.ipSrcUrl.t?f.ipSrcUrl.o:f.ipSrcUrl.v})):[]),this.headerMaskKey.setValue(l.RespBody.headerMaskKey),this.headerMaskPolicy.setValue(l.RespBody.headerMaskPolicy),this.headerMaskPolicyNum.setValue(l.RespBody.headerMaskPolicyNum),this.headerMaskPolicySymbol.setValue(l.RespBody.headerMaskPolicySymbol),this.bodyMaskKeyword.setValue(l.RespBody.bodyMaskKeyword),this.bodyMaskPolicy.setValue(l.RespBody.bodyMaskPolicy),this.bodyMaskPolicyNum.setValue(l.RespBody.bodyMaskPolicyNum),this.bodyMaskPolicySymbol.setValue(l.RespBody.bodyMaskPolicySymbol),this.labelList.setValue(l.RespBody.labelList)}})}testAPI(){this.ngxService.start();let t={testURL:this.t_testURL.value,method:this.t_method.value};if(this.basicAuth.value){let o=btoa(this.userName.value+":"+this.passwd.value);t.headerList=this.keyvalueConvetToList([{key:"Authorization",value:`Basic ${o}`}])}if(this.requestHeader.value&&(t.headerList=t.headerList&&t.headerList.length>0?t.headerList.concat(this.keyvalueConvetToList(this.keyValueRequest.value)):this.keyvalueConvetToList(this.keyValueRequest.value)),this.requestBodyCheck.value)switch(this.requestBody.value){case"body":t.bodyText=this.bodyText.value;break;case"form":t.paramList=this.keyvalueConvetToList(this.keyValueForm.value)}this.apiService.testAPI_v3(t).subscribe(o=>{this.ngxService.stop(),this.tool.checkDpSuccess(o.ResHeader)&&(this.testResult=o.RespBody,this.showResult=!0)})}keyvalueConvetToList(t){let o=new Array;return t&&t.length&&t.filter(a=>a.selected).map(a=>{let l={};l[a.key]=a.value,o.push(l)}),o}registerCustomApi(){var t=this;return(0,b.Z)(function*(){var o,a,l,c,u,d,n,p,g;let h={apiSrc:"R",protocol:t.protocol.value,srcUrl:t.srcUrl.value,moduleName:"0"==t.c_type.value?t.c_moduleName.value:t.c_dgrPath.value,apiId:"0"==t.c_type.value?t.c_apiId.value:t.c_dgrPath.value,urlRID:"0"==t.c_type.value&&t.c_urlRID.value,noOAuth:t.c_noOAuth.value,funFlag:{tokenPayload:t.c_tokenPayload.value},methods:t.c_methods.value,dataFormat:t.tool.Base64Encoder(t.tool.BcryptEncoder(t.c_dataFormat.value))+","+t.apiDataFormats.findIndex(m=>m.value==t.c_dataFormat.value),jweFlag:t.tool.Base64Encoder(t.tool.BcryptEncoder(t.c_jweFlag.value))+","+t.jwtSettingFlags.findIndex(m=>m.value==t.c_jweFlag.value),jweFlagResp:t.tool.Base64Encoder(t.tool.BcryptEncoder(t.c_jweFlagResp.value))+","+t.jwtSettingFlags.findIndex(m=>m.value==t.c_jweFlagResp.value),apiDesc:t.c_apiDesc.value,type:t.c_type.value};if("1"==(null===(o=t.c_type)||void 0===o?void 0:o.value)&&(h.apiName=t.c_apiName.value,h.failDiscoveryPolicy=t.failDiscoveryPolicy.value,h.failHandlePolicy=t.failHandlePolicy.value,h.notifyNameList=t.c_notifyNameList.value),t.apiDetail&&"{}"!=JSON.stringify(t.apiDetail)&&(h.consumes=t.apiDetail.consumesOfJson.t?JSON.parse(null!==(l=null===(a=t.apiDetail.consumesOfJson)||void 0===a?void 0:a.o)&&void 0!==l?l:""):JSON.parse(t.apiDetail.consumesOfJson.v),h.produces=t.apiDetail.producesOfJson.t?JSON.parse(null!==(u=null===(c=t.apiDetail.producesOfJson)||void 0===c?void 0:c.o)&&void 0!==u?u:""):JSON.parse(t.apiDetail.producesOfJson.v),h.headers=t.apiDetail.headersOfJson.t?JSON.parse(null!==(n=null===(d=t.apiDetail.headersOfJson)||void 0===d?void 0:d.o)&&void 0!==n?n:""):JSON.parse(t.apiDetail.headersOfJson.v),h.params=t.apiDetail.paramsOfJson.t?JSON.parse(null!==(g=null===(p=t.apiDetail.paramsOfJson)||void 0===p?void 0:p.o)&&void 0!==g?g:""):JSON.parse(t.apiDetail.paramsOfJson.v)),h.redirectByIp=t.redirectByIp.value,h.redirectByIp&&(t.redirectByIpDataList.value.forEach(function(){var m=(0,b.Z)(function*(f){const y=yield t.tool.getDict(["sourceIpRequired","ipSrcUrlRequired"]);""!=f.ipForRedirect?""!=f.ipSrcUrl||t.alertService.ok(y.ipSrcUrlRequired,""):t.alertService.ok(y.sourceIpRequired,"")});return function(f){return m.apply(this,arguments)}}()),h.redirectByIpDataList=t.redirectByIpDataList.value),h.headerMaskPolicy=t.headerMaskPolicy.value,"0"!=h.headerMaskPolicy){if(h.headerMaskPolicyNum=t.headerMaskPolicyNum.value,h.headerMaskPolicySymbol=t.headerMaskPolicySymbol.value,0==t.headerMaskKey.value.length){const m=["mask.header_key_required"],f=yield t.tool.getDict(m);return void t.alertService.ok(f["mask.header_key_required"],"")}h.headerMaskKey=t.headerMaskKey.value}if(h.bodyMaskPolicy=t.bodyMaskPolicy.value,"0"!=h.bodyMaskPolicy){if(h.bodyMaskPolicyNum=t.bodyMaskPolicyNum.value,h.bodyMaskPolicySymbol=t.bodyMaskPolicySymbol.value,""==t.bodyMaskKeyword.value.trim()){const m=["mask.body_key_required"],f=yield t.tool.getDict(m);return void t.alertService.ok(f["mask.body_key_required"],"")}h.bodyMaskKeyword=t.bodyMaskKeyword.value}h.labelList=t.labelList.value,t.apiService.registerAPI_v3(h).subscribe(function(){var m=(0,b.Z)(function*(f){if(t.ngxService.stop(),t.tool.checkDpSuccess(f.ResHeader)){const v=["message.reg_api","message.register","message.success"],y=yield t.tool.getDict(v);t.messageService.add({severity:"success",summary:y["message.reg_api"],detail:`${y["message.register"]} ${y["message.success"]}!`}),t.clearCustomizePageData()}});return function(f){return m.apply(this,arguments)}}())})()}changeTab(t){switch(this.currentTabIdx=t.index,t.index){case 0:this.oasForm.reset(),this.openApiDocData={},this.openApiList=[],this.openApiListRowcount=this.openApiList.length,this.uploadDoc.setValue("0"),this.filename.reset(),this.filename.enable(),this.docUrl.setValue(""),this.docUrl.disable(),this.uploadfile.setValue(""),this.o_regHostId.setValue(null),this.o_regApiList.setValue([]),this.hostUrl.setValue(""),this.o_type.setValue("2"==this.pathType?"1":this.pathType),this.c_type_sub&&this.c_type_sub.unsubscribe();break;case 1:this.setCustomizePageValidate()}}clearCustomizePageData(t=!0){var o,a,l;let c=this.c_type.value;t&&this.customForm.reset(),this.jwtSettingSub&&(this.jwtSettingSub.unsubscribe(),this.jwtSettingSub=void 0),this.redirectByIp.setValue(!1),null===(o=this.c_type)||void 0===o||o.setValue(c),t&&this.c_apiType.setValue("HTTP_API"),this.protocol.setValue("https"),this.srcUrl.setValue(""),this.srcUrl.enable(),this.c_moduleName.setValue(""),this.c_apiId.setValue(""),this.c_urlRID.setValue(!1),this.c_noOAuth.setValue(!1),this.c_tokenPayload.setValue(!1),null===(a=this.c_methods)||void 0===a||a.enable(),this.c_methods.setValue([]),this.c_dataFormat.setValue("1"),this.c_jwtSetting.setValue(!1),this.c_jweFlag.setValue("0"),this.c_jweFlag.disable(),this.c_jweFlagResp.setValue("0"),this.c_jweFlagResp.disable(),this.c_apiDesc.setValue(""),this.c_dgrPath.setValue(""),this.c_apiName.setValue(""),this.headerMaskPolicy.setValue("0"),this.headerMaskPolicyNum.setValue(1),this.headerMaskPolicySymbol.setValue("*"),this.headerMaskKey.setValue(""),this.bodyMaskPolicy.setValue("0"),this.bodyMaskPolicyNum.setValue(1),this.bodyMaskPolicySymbol.setValue("*"),this.bodyMaskKeyword.setValue(""),this.failDiscoveryPolicy.setValue("0"),this.failHandlePolicy.setValue("0"),this.labelList.setValue([]),this.c_type_sub||(this.c_type_sub=this.c_type.valueChanges.subscribe(u=>{"0"==u&&this.redirectByIp.setValue(!1)})),this.jwtSettingSub=null===(l=this.c_jwtSetting)||void 0===l?void 0:l.valueChanges.subscribe(u=>{u?(this.c_jweFlag.enable(),this.c_jweFlag.setValue("0"),this.c_jweFlagResp.enable(),this.c_jweFlagResp.setValue("1")):(this.c_jweFlag.setValue("0"),this.c_jweFlag.disable(),this.c_jweFlagResp.setValue("0"),this.c_jweFlagResp.disable())})}setCustomizePageValidate(){this.clearCustomizePageData(),this.apiService.registerAPI_v3_before().subscribe(t=>{this.tool.checkDpSuccess(t.ResHeader)&&this.addFormValidator(this.customForm,t.RespBody.constraints)})}onRowSelect(t){this.joinBtnFlag=!1}onRowUnselect(t){this.joinBtnFlag=!0}changePage(t,o){var a=this;return(0,b.Z)(function*(){const c=yield a.tool.getDict(["copy_from_existing_api","button.test_url"]);switch(t){case"regist":if(a.apiService.registerAPI_v3_before().subscribe(n=>{a.tool.checkDpSuccess(n.ResHeader)&&a.addFormValidator(a.customForm,n.RespBody.constraints)}),a.filename.setValue(a.uploadfile.value?a.uploadfile.value.name:""),a.uploadfile.setValue(""),2==a.pageNum)switch(a.currentTabIdx){case 0:a.oasTab=!0,a.customTab=!1;break;case 1:a.oasTab=!1,a.customTab=!0}3==a.pageNum&&(a.oasTab=!1,a.customTab=!0),a.currentTitle=a.title,a.pageNum=1,a.customForm.updateValueAndValidity();break;case"test_api":a.currentTitle=`${a.title} > ${c["button.test_url"]}`,a.pageNum=2,a.testResult={},a.showResult=!1,a.apiService.testAPI_v3_before().subscribe(n=>{if(a.tool.checkDpSuccess(n.ResHeader))switch(a.addFormValidator(a.testForm,n.RespBody.constraints),a.currentTabIdx){case 0:a.t_method.setValue(o.methods[0]),a.t_testURL.setValue(o.srcUrl);break;case 1:a.t_method.setValue(a.c_methods.value[0]),a.t_testURL.setValue(`${a.protocol.value}://${a.srcUrl.value}`)}});break;case"api_list":a.selectedApi={},a.joinBtnFlag=!0,a.keyword.setValue(""),a.currentTitle=`${a.title} > ${c.copy_from_existing_api}`,a.pageNum=3,a.apiList=[],a.apiListRowcount=a.apiList.length,a.selectedApi={},a.apiService.queryAPIList_v3_ignore1298({keyword:a.keyword.value,apiSrc:["R"],paging:"Y"}).subscribe(n=>{a.tool.checkDpSuccess(n.ResHeader)&&(a.apiList=n.RespBody.dataList,a.apiListRowcount=a.apiList.length)})}})()}chechDuplicateColor(t){return t.duplicateFlag?"#FCD8CA":"#ffffff"}setDuplicateData(){const t=this;this.openApiList.filter((a,l)=>(delete a.duplicateFlag,t.openApiList.some((c,u)=>a.rearPath===c.rearPath&&u!==l))).forEach(a=>{a.duplicateFlag=!0}),this.openApiList.map((a,l)=>{"0"==this.o_type.value&&(a.srcUrl.indexOf("{")>-1||a.srcUrl.indexOf("}")>-1)&&(a.duplicateFlag=!0)})}headerReturn(){this.changePage("regist")}testApiEvt(t){var o=this;return(0,b.Z)(function*(){o.resetFormValidator(o.testForm);const l=yield o.tool.getDict(["button.test_url"]);o.currentTitle=`${o.title} > ${l["button.test_url"]}`,o.apiService.testAPI_v3_before().subscribe(c=>{var u;o.tool.checkDpSuccess(c.ResHeader)&&(null===(u=o.keyValueRequest)||void 0===u||u.disable(),o.t_method.setValue(o.c_methods.value[0]),o.t_testURL.setValue(t),o.testResult={},o.showResult=!1,o.pageNum=2,o.addFormValidator(o.testForm,c.RespBody.constraints))})})()}switchOri(t){t.t=!t.t||!t.t}checkheaderMaskPolicySymbol(){(null==this.headerMaskPolicySymbol.value||""==this.headerMaskPolicySymbol.value.trim())&&this.headerMaskPolicySymbol.setValue("*")}checkbodyMaskPolicySymbol(){(null==this.bodyMaskPolicySymbol.value||""==this.bodyMaskPolicySymbol.value.trim())&&this.bodyMaskPolicySymbol.setValue("*")}checkChips(t){var o=this;return(0,b.Z)(function*(){if(t.value.length>20){const a=["validation.maxlength"],l=yield o.tool.getDict(a,{value:"20"});o.alertService.ok(l["validation.maxlength"],""),o.labelList.value.pop()}})()}queryNotifyNameList(){this.dialogService.open(z.e,{header:"Notify Name",width:"700px"}).onClose.subscribe(o=>{o&&this.c_notifyNameList.setValue(o)})}get uploadDoc(){return this.oasForm.get("uploadDoc")}get filename(){return this.oasForm.get("filename")}get docUrl(){return this.oasForm.get("docUrl")}get uploadfile(){return this.oasForm.get("uploadfile")}get o_apiSrc(){return this.oasForm.get("apiSrc")}get o_moduleSrc(){return this.oasForm.get("moduleSrc")}get o_moduleName(){return this.oasForm.get("moduleName")}get o_moduleVersion(){return this.oasForm.get("moduleVersion")}get tempFileName(){return this.oasForm.get("tempFileName")}get o_regHostId(){return this.oasForm.get("regHostId")}get o_regApiList(){return this.oasForm.get("regApiList")}get o_type(){return this.oasForm.get("type")}get o_tarUrl(){return this.oasForm.get("targetUrl")}get t_method(){return this.testForm.get("method")}get t_testURL(){return this.testForm.get("testURL")}get userName(){return this.testForm.get("userName")}get passwd(){return this.testForm.get("passwd")}get requestHeader(){return this.testForm.get("requestHeader")}get keyValueRequest(){return this.testForm.get("keyValueRequest")}get requestBodyCheck(){return this.testForm.get("requestBodyCheck")}get requestBody(){return this.testForm.get("requestBody")}get bodyText(){return this.testForm.get("bodyText")}get keyValueForm(){return this.testForm.get("keyValueForm")}get basicAuth(){return this.testForm.get("basicAuth")}get keyword(){return this.apiForm.get("keyword")}get apiAlias(){return this.customForm.get("apiAlias")}get protocol(){return this.customForm.get("protocol")}get srcUrl(){return this.customForm.get("srcUrl")}get c_moduleName(){return this.customForm.get("moduleName")}get c_apiId(){return this.customForm.get("apiId")}get c_tsmpUrl(){return this.customForm.get("tsmpUrl")}get c_urlRID(){return this.customForm.get("urlRID")}get c_noOAuth(){return this.customForm.get("noOAuth")}get c_tokenPayload(){return this.customForm.get("tokenPayload")}get c_methods(){return this.customForm.get("methods")}get c_dataFormat(){return this.customForm.get("dataFormat")}get c_jwtSetting(){return this.customForm.get("jwtSetting")}get c_jweFlag(){return this.customForm.get("jweFlag")}get c_jweFlagResp(){return this.customForm.get("jweFlagResp")}get c_apiDesc(){return this.customForm.get("apiDesc")}get c_type(){return this.customForm.get("type")}get c_dgrPath(){return this.customForm.get("dgrPath")}get c_apiName(){return this.customForm.get("apiName")}get redirectByIp(){return this.customForm.get("redirectByIp")}get redirectByIpDataList(){return this.customForm.get("redirectByIpDataList")}get headerMaskPolicy(){return this.customForm.get("headerMaskPolicy")}get headerMaskPolicyNum(){return this.customForm.get("headerMaskPolicyNum")}get headerMaskPolicySymbol(){return this.customForm.get("headerMaskPolicySymbol")}get headerMaskKey(){return this.customForm.get("headerMaskKey")}get bodyMaskPolicy(){return this.customForm.get("bodyMaskPolicy")}get bodyMaskPolicyNum(){return this.customForm.get("bodyMaskPolicyNum")}get bodyMaskPolicySymbol(){return this.customForm.get("bodyMaskPolicySymbol")}get bodyMaskKeyword(){return this.customForm.get("bodyMaskKeyword")}get labelList(){return this.customForm.get("labelList")}get failDiscoveryPolicy(){return this.customForm.get("failDiscoveryPolicy")}get failHandlePolicy(){return this.customForm.get("failHandlePolicy")}get c_apiType(){return this.customForm.get("apiType")}get c_notifyNameList(){return this.customForm.get("notifyNameList")}get hostUrl(){return this.oasForm.get("hostUrl")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(F.gz),e.Y36(W.W),e.Y36(I.s),e.Y36(U.g),e.Y36(x.ez),e.Y36(r.qu),e.Y36(X.X),e.Y36(ee.I),e.Y36(L.F),e.Y36(te.LA),e.Y36(oe.N),e.Y36(x.YP),e.Y36(R.c),e.Y36(P.xA))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ac0311"]],viewQuery:function(t,o){if(1&t&&(e.Gf(Ce,5),e.Gf(Ue,5),e.Gf(Ne,5)),2&t){let a;e.iGM(a=e.CRH())&&(o.upload_file=a.first),e.iGM(a=e.CRH())&&(o.kv_form=a.first),e.iGM(a=e.CRH())&&(o.kv_request=a.first)}},features:[e._Bn([I.s,x.ez,x.YP]),e.qOj],decls:94,vars:84,consts:[[3,"title","isDefault","headerReturn"],[4,"ngIf"],[3,"hidden"],[3,"formGroup"],[1,"form-group","row"],[1,"col-3"],["id","method_label",1,"control-label"],[2,"display","block"],["formControlName","method",3,"options","placeholder"],[1,"col-9"],["id","testURL_label",1,"control-label"],["type","text","formControlName","testURL",1,"form-control"],[1,"d-flex","align-items-center"],["formControlName","requestHeader","inputId","requestHeader",3,"binary"],["for","requestHeader",1,"form-check-label","font-weight-normal","ms-3"],["class","form-froup row",4,"ngIf"],[1,"col-12"],[1,"form-group"],["formControlName","requestBodyCheck","inputId","requestBodyCheck",3,"binary"],["for","requestBodyCheck",1,"form-check-label","ms-3"],[1,"p-form-check","form-group","ms-4"],["formControlName","requestBody","value","body","inputId","requestBody_body"],["for","requestBody_body",1,"ms-2","mb-0"],["formControlName","requestBody","value","form","inputId","requestBody_form"],["for","requestBody_form",1,"ms-2","mb-0"],[1,"form-group","row","text-center"],["type","button",1,"btn","tpi-btn","tpi-primary","me-3",3,"disabled","click"],["type","button","class","btn tpi-btn tpi-primary",3,"click",4,"ngIf"],["class","form-group col",4,"ngIf"],["class","form-group row text-center",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"col-6"],[1,"control-label"],["type","text","formControlName","keyword",1,"form-control",3,"placeholder"],[1,"form-control","border-line"],["type","submit",1,"btn","tpi-btn","tpi-primary","float-start","me-3"],["selectionMode","single","styleClass","p-datatable-striped","responsiveLayout","scroll",3,"columns","value","style","selection","selectionChange","onRowSelect","onRowUnselect",4,"ngIf"],["type","button",1,"btn","tpi-btn","tpi-primary","float-start","me-3",3,"disabled","click"],["type","button",1,"btn","tpi-btn","tpi-primary","float-start",3,"click"],["position","top-left"],["icon","pi pi-exclamation-triangle","styleClass","cHeader cContent cIcon"],["cd",""],["pTemplate","footer"],[3,"onChange"],["header","tabList[0].label",3,"selected"],["pTemplate","header"],[1,"form-group","row","ms-2",3,"hidden"],[1,"col-12","px-2"],[1,"p-form-check-line","form-group"],[1,"p-form-check"],["formControlName","type","value","1","inputId","type_1"],["for","type_1",1,"ms-2","mb-0"],["formControlName","type","value","0","inputId","type_0"],["for","type_0",1,"ms-2","mb-0"],[1,"form-group","row","ms-2"],[1,"col-12","d-flex"],[1,"col-4","py-2"],["formControlName","uploadDoc","value","0","inputId","uploadDoc_0"],["for","uploadDoc_0",1,"ms-2","mb-0"],["readonly","","formControlName","filename",1,"form-control","w-100",3,"placeholder","click"],["type","file","accept",".json,.yml,.yaml","formControlName","uploadfile",1,"d-none",3,"change"],["upload_file",""],[1,"col-1"],["type","button",1,"btn","tpi-btn","tpi-primary","ms-2",3,"disabled","click"],[1,"col-4"],["formControlName","uploadDoc","value","1","inputId","uploadDoc_1"],["for","uploadDoc_1",1,"ms-2","mb-0"],["type","url","formControlName","docUrl",1,"form-control","w-100"],[1,"form-check-label"],["type","url","formControlName","hostUrl",1,"form-control","w-100"],["header","tabList[1].label",3,"selected"],[1,"ui-inputgroup"],["type","text","formControlName","apiAlias","readonly","",1,"form-control",3,"placeholder"],["pButton","","type","button","icon","pi pi-search",1,"ms-1","tpi-primary",3,"click"],[1,"col-1","col-xl-1","col-lg-1"],[1,"control-label",2,"width","100%"],["type","button",1,"btn","tpi-btn","tpi-primary",3,"disabled","click"],[1,"form-group","row","ms-1",3,"hidden"],[1,"col-12","px-0"],[1,"p-form-check-line","form-group","align-items-center"],[1,"p-form-check","align-items-center"],["formControlName","type","value","1","inputId","type1"],["for","type1",1,"ms-2","mb-0"],["class","ms-2","formControlName","apiType",3,"options","style",4,"ngIf"],["formControlName","type","value","0","inputId","type0"],["for","type0",1,"ms-2","mb-0"],["id","srcUrl_label",1,"control-label","required"],["class","form-group",4,"ngIf"],["formControlName","srcUrl",3,"apiType","pathType","testApiEvt"],["formControlName","redirectByIpDataList",3,"testApiEvt"],["class","form-group row",4,"ngIf"],["id","headerMask_label",1,"control-label"],[1,"col-12","form-group"],[1,"p-form-check","py-1"],["formControlName","headerMaskPolicy","value","0","inputId","headerMaskPolicy0"],["for","headerMaskPolicy0",1,"ms-2","mb-0"],["formControlName","headerMaskPolicy","value","1","inputId","headerMaskPolicy1"],["for","headerMaskPolicy1",1,"ms-2","mb-0"],["formControlName","headerMaskPolicy","value","2","inputId","headerMaskPolicy2"],["for","headerMaskPolicy2",1,"ms-2","mb-0"],["formControlName","headerMaskPolicy","value","3","inputId","headerMaskPolicy3"],["for","headerMaskPolicy3",1,"ms-2","mb-0"],[1,"mt-1",3,"hidden"],[1,"control-label","required","me-1",2,"font-weight","400"],["type","number","formControlName","headerMaskPolicyNum",1,"form-control","me-2",2,"display","inline","width","75px",3,"min","max"],[1,"control-label","required","me-1"],["type","text","formControlName","headerMaskPolicySymbol",1,"form-control",2,"display","inline","width","100px",3,"maxlength","minlength","focusout"],[1,"col-12",3,"hidden"],["formControlName","headerMaskKey",3,"headerPolicy","headerPolicyNum","headerPolicyMask"],["formControlName","bodyMaskPolicy","value","0","inputId","bodyMaskPolicy0"],["for","bodyMaskPolicy0",1,"ms-2","mb-0"],["formControlName","bodyMaskPolicy","value","1","inputId","bodyMaskPolicy1"],["for","bodyMaskPolicy1",1,"ms-2","mb-0"],["formControlName","bodyMaskPolicy","value","2","inputId","bodyMaskPolicy2"],["for","bodyMaskPolicy2",1,"ms-2","mb-0"],["formControlName","bodyMaskPolicy","value","3","inputId","bodyMaskPolicy3"],["for","bodyMaskPolicy3",1,"ms-2","mb-0"],["formControlName","bodyMaskPolicy","value","4","inputId","bodyMaskPolicy4"],["for","bodyMaskPolicy4",1,"ms-2","mb-0"],["type","number","formControlName","bodyMaskPolicyNum",1,"form-control","me-2",2,"display","inline","width","75px",3,"min","max"],["type","text","formControlName","bodyMaskPolicySymbol",1,"form-control",2,"display","inline","width","100px",3,"minlength","maxlength","focusout"],[1,"col-12","pe-0",3,"hidden"],[1,"col-12","px-0","form-group",2,"align-items","center","display","flex"],[1,"control-label","required","me-1",2,"white-space","nowrap"],["type","text","formControlName","bodyMaskKeyword",1,"form-control",3,"placeholder"],[1,"col-8"],[1,"col-auto",2,"padding-left","1px"],["class","mb-0","style","color: red;font-weight: bold;",4,"ngIf"],["class","far fa-question-circle ms-2 ",3,"pTooltip","escape",4,"ngIf"],[1,"float-end"],[1,"p-form-check-line"],["class","p-form-check",4,"ngIf"],["type","text","class","form-control","formControlName","tsmpUrl","readonly","",4,"ngIf"],["type","text","class","form-control","formControlName","dgrPath",4,"ngIf"],["class","text-danger",4,"ngIf"],["id","methods_label",1,"control-label"],["formControlName","methods",3,"options","defaultLabel","panelStyle"],[1,"col-2"],[1,"control-label","me-2"],["formControlName","dataFormat",3,"options","placeholder","panelStyle"],[1,"d-flex","flex-row","align-items-center"],[1,"col-12","p-form-check-line","form-group","d-flex","flex-row","align-items-center"],["formControlName","jwtSetting","inputId","jwtSettingY",3,"value"],["for","jwtSettingY",1,"ms-2","mb-0",2,"white-space","nowrap"],["formControlName","jwtSetting","inputId","jwtSettingN",3,"value"],["for","jwtSettingN",1,"ms-2","mb-0",2,"white-space","nowrap"],["formControlName","jweFlag",1,"jwt-req-dropdown",3,"options","onChange"],["formControlName","jweFlagResp",1,"jwt-resp-dropdown",3,"options","onChange"],["for","apiDesc",1,"control-label"],["rows","5","formControlName","apiDesc",1,"form-control",2,"resize","none"],["formControlName","labelList",3,"max","allowDuplicate","placeholder","onAdd"],[1,"col-12","d-flex","justify-content-center"],["type","button",1,"btn","tpi-btn","tpi-primary","me-3",3,"click"],["type","button",1,"btn","tpi-btn","tpi-primary",3,"click"],["src","assets/images/tab-openapi.svg","alt","",1,"tab-img"],["fieldset2",""],[1,"d-flex","col-12","align-items-center","form-group"],[1,"ms-auto"],["type","button",1,"btn","tpi-primary","tpi-btn","me-2",3,"click"],[1,"fa","fa-compress"],["type","button",1,"btn","tpi-primary","tpi-btn",3,"click"],[1,"fa","fa-expand"],["styleClass","p-datatable-striped","selectionMode","single","responsiveLayout","scroll",3,"columns","value","style",4,"ngIf"],["id","targetUrl_label",1,"control-label"],["type","text","formControlName","targetUrl",1,"form-control"],[1,"text-danger"],[1,"form-text"],["id","moduleName_label",1,"control-label","required"],["type","text","formControlName","moduleName",1,"form-control"],["id","moduleVersion_label",1,"control-label"],["styleClass","p-datatable-striped","selectionMode","single","responsiveLayout","scroll",3,"columns","value"],["pTemplate","colgroup"],["pTemplate","body"],[3,"width",4,"ngFor","ngForOf"],[2,"width","240px"],["scope","col",4,"ngFor","ngForOf"],["scope","col",2,"width","240px"],["scope","col"],[2,"text-align","center","width","240px"],["pButton","","pRipple","","type","button","icon","fa fa-wrench","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],["pButton","","pRipple","","type","button","icon","fa fa-expand","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],["pButton","","pRipple","","type","button","icon","fa fa-compress","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],["pButton","","pRipple","","type","button","icon","fa fa-clone","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","hidden","click"],[2,"display","none",3,"id"],["type","text","class","form-control",3,"formControlName",4,"ngIf"],[1,"col-4","row"],[1,"control-label","fw-bold"],[1,"col-10"],[3,"formControlName","value","inputId","onClick"],[1,"ms-2","mb-0",2,"white-space","nowrap",3,"for"],[1,"col-12","row"],[1,"jwt-req-dropdown",3,"options","formControlName","onChange"],[1,"jwt-resp-dropdown",3,"options","formControlName","onChange"],[1,"row"],["class","col-12",4,"ngIf"],[3,"binary","inputId","formControlName"],[1,"ms-2","mb-0",3,"for"],[3,"options","formControlName","placeholder"],["rows","5",1,"form-control",2,"resize","none",3,"formControlName"],["class","col-4",4,"ngIf"],[4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"formControlName"],["src","assets/images/tab-customize.svg","alt","",1,"tab-img"],["formControlName","apiType",1,"ms-2",3,"options"],["inputId","redirectByIp","formControlName","redirectByIp",3,"binary"],["for","redirectByIp",1,"mb-0","ms-2"],["type","text","formControlName","notifyNameList","readonly","",1,"form-control"],["pButton","","type","button","icon","pi pi-search",1,"ms-1","tpi-night",3,"click"],[1,"control-label","required"],["formControlName","failDiscoveryPolicy","value","0","inputId","failDiscoveryPolicy0"],["for","failDiscoveryPolicy0",1,"ms-2","mb-0"],["formControlName","failHandlePolicy","value","0","inputId","failHandlePolicy0"],["for","failHandlePolicy0",1,"ms-2","mb-0"],["formControlName","failHandlePolicy","value","1","inputId","failHandlePolicy1"],["for","failHandlePolicy1",1,"ms-2","mb-0"],["id","apiId_label",1,"control-label","required"],["type","text","formControlName","apiId",1,"form-control"],["id","apiName_label",1,"control-label","required"],["type","text","formControlName","apiName",1,"form-control"],[1,"mb-0",2,"color","red","font-weight","bold"],[1,"far","fa-question-circle","ms-2",3,"pTooltip","escape"],["inputId","urlRID","formControlName","urlRID",3,"binary"],["for","urlRID",1,"ms-2","mb-0"],["inputId","noOAuth","formControlName","noOAuth",3,"binary"],["for","noOAuth",1,"ms-2","mb-0"],["type","text","formControlName","tsmpUrl","readonly","",1,"form-control"],["type","text","formControlName","dgrPath",1,"form-control"],[1,"form-text","text-danger"],[1,"form-froup","row"],[1,"key-value-row-has-add-btn","mb-3","ms-4"],["name","keyvalue","formControlName","keyValueRequest",3,"keyLabel","valueLabel"],["keyValueRequest",""],["type","button",1,"btn-icon","tpi-second",3,"disabled","click"],[1,"fa","fa-plus"],[1,"pre-code-style",3,"innerText"],["rows","5","cols","50","formControlName","bodyText",1,"form-control","mb-3","ms-4",2,"resize","none","width","98%"],[1,"key-value-row-has-add-btn","ms-4"],["name","keyvalue","formControlName","keyValueForm",3,"keyLabel","valueLabel"],["keyValueForm",""],["type","button",1,"btn-icon","tpi-second","mb-1",3,"disabled","click"],[1,"form-group","col"],[1,"table","table-bordered",2,"width","100%"],["scope","col",1,"text-center"],["colspan","2","scope","col"],["scope","col",1,"text-right",2,"width","10%"],[1,"form-control",2,"background-color","#e9ecef","opacity","1","height","auto","overflow","auto","font-size","14px",3,"innerHtml"],["selectionMode","single","styleClass","p-datatable-striped","responsiveLayout","scroll",3,"columns","value","selection","selectionChange","onRowSelect","onRowUnselect"],["pTemplate","header","selectionMode","multiple"],["pTemplate","emptymessage"],[2,"width","2.25em"],["style","width: inherit;",4,"ngFor","ngForOf"],[2,"width","inherit"],[2,"text-align","center"],["scope","col",2,"width","2.25em"],["style","width: inherit;","scope","col",4,"ngFor","ngForOf"],["scope","col",2,"width","inherit"],[3,"value"],["style","width: auto;",4,"ngFor","ngForOf"],[2,"width","auto"],["class","moreless",3,"click",4,"ngIf"],[1,"moreless",3,"click"],[1,"fas",3,"ngClass"],[2,"color","#b7b7b7"],[2,"vertical-align","middle"],["type","button",1,"btn","tpi-header-return",3,"click"],[1,"fas","fa-angle-double-right",2,"margin-left","5px"],[1,"row",2,"justify-content","center"],["type","button","pButton","","icon","pi pi-check",3,"ngStyle","label","click"],["type","button","pButton","","icon","pi pi-times",1,"p-button-secondary",3,"label","click"]],template:function(t,o){1&t&&(e.TgZ(0,"app-container",0),e.NdJ("headerReturn",function(){return o.headerReturn()}),e.YNc(1,Ft,282,240,"div",1),e.ynx(2),e.TgZ(3,"div",2)(4,"form",3)(5,"div",4)(6,"div",5)(7,"label",6),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"div",7),e._UZ(11,"p-dropdown",8),e.ALo(12,"translate"),e.YNc(13,kt,11,8,"ng-container",1),e.qZA()(),e.TgZ(14,"div",9)(15,"label",10),e._uU(16),e.ALo(17,"translate"),e.qZA(),e._UZ(18,"input",11),e.YNc(19,qt,11,8,"ng-container",1),e.qZA()(),e.TgZ(20,"div",4)(21,"div",5)(22,"div",12),e._UZ(23,"p-checkbox",13),e.TgZ(24,"label",14),e._uU(25),e.ALo(26,"translate"),e.qZA()()()(),e.YNc(27,It,13,8,"div",15),e.TgZ(28,"div",4)(29,"div",16)(30,"div",17),e._UZ(31,"p-checkbox",18),e.TgZ(32,"label",19),e._uU(33),e.ALo(34,"translate"),e.qZA()(),e.TgZ(35,"div",20),e._UZ(36,"p-radioButton",21),e.TgZ(37,"label",22),e._uU(38),e.ALo(39,"translate"),e.qZA()(),e.YNc(40,Lt,2,0,"ng-container",1),e.TgZ(41,"div",20),e._UZ(42,"p-radioButton",23),e.TgZ(43,"label",24),e._uU(44),e.ALo(45,"translate"),e.qZA()(),e.YNc(46,Rt,8,7,"ng-container",1),e.qZA()(),e.TgZ(47,"div",25)(48,"div",16)(49,"button",26),e.NdJ("click",function(){return o.testAPI()}),e._uU(50),e.ALo(51,"translate"),e.qZA(),e.YNc(52,Pt,3,3,"button",27),e.qZA()(),e.YNc(53,Mt,27,15,"div",28),e.YNc(54,Bt,5,3,"div",29),e.qZA()(),e.BQk(),e.TgZ(55,"div",2)(56,"form",30),e.NdJ("ngSubmit",function(){return o.queryApiList()}),e.TgZ(57,"div",4)(58,"div",31)(59,"label",32),e._uU(60),e.ALo(61,"translate"),e.qZA(),e._UZ(62,"input",33),e.ALo(63,"translate"),e.ALo(64,"translate"),e.ALo(65,"translate"),e.ALo(66,"translate"),e.qZA(),e.TgZ(67,"div",5)(68,"label",32),e._uU(69),e.ALo(70,"translate"),e.qZA(),e.TgZ(71,"label",34),e._uU(72),e.ALo(73,"translate"),e.qZA()()(),e.TgZ(74,"div",4)(75,"div",16)(76,"button",35),e._uU(77),e.ALo(78,"translate"),e.qZA()()()(),e._UZ(79,"hr"),e.YNc(80,to,6,6,"p-table",36),e._UZ(81,"br"),e.TgZ(82,"div",4)(83,"div",16)(84,"button",37),e.NdJ("click",function(){return o.chooseApi()}),e._uU(85),e.ALo(86,"translate"),e.qZA(),e.TgZ(87,"button",38),e.NdJ("click",function(){return o.changePage("regist")}),e._uU(88),e.ALo(89,"translate"),e.qZA()()()()(),e._UZ(90,"p-toast",39),e.TgZ(91,"p-confirmDialog",40,41),e.YNc(93,io,5,8,"ng-template",42),e.qZA()),2&t&&(e.Q6J("title",o.currentTitle)("isDefault",1==o.pageNum),e.xp6(1),e.Q6J("ngIf",1==o.pageNum),e.xp6(2),e.Q6J("hidden",2!=o.pageNum),e.xp6(1),e.Q6J("formGroup",o.testForm),e.xp6(4),e.Oqu(e.lcZ(9,45,"http_method")),e.xp6(3),e.Akn(e.DdM(81,T)),e.s9C("placeholder",e.lcZ(12,47,"plz_chs")),e.Q6J("options",o.httpmethods),e.xp6(2),e.Q6J("ngIf",o.t_method.invalid&&(o.t_method.dirty||o.t_method.touched)),e.xp6(3),e.Oqu(e.lcZ(17,49,"tar_url")),e.xp6(3),e.Q6J("ngIf",o.t_testURL.invalid&&(o.t_testURL.dirty||o.t_testURL.touched)),e.xp6(4),e.Q6J("binary",!0),e.xp6(2),e.Oqu(e.lcZ(26,51,"req_header")),e.xp6(2),e.Q6J("ngIf",o.requestHeader.value),e.xp6(4),e.Q6J("binary",!0),e.xp6(2),e.Oqu(e.lcZ(34,53,"req_body")),e.xp6(5),e.Oqu(e.lcZ(39,55,"plain_text")),e.xp6(2),e.Q6J("ngIf","body"==o.requestBody.value&&1==o.requestBodyCheck.value),e.xp6(4),e.Oqu(e.lcZ(45,57,"form")),e.xp6(2),e.Q6J("ngIf","form"==o.requestBody.value&&1==o.requestBodyCheck.value),e.xp6(3),e.Q6J("disabled",o.testForm.invalid),e.xp6(1),e.Oqu(e.lcZ(51,59,"button.host_send_req")),e.xp6(2),e.Q6J("ngIf",!o.showResult),e.xp6(1),e.Q6J("ngIf",o.showResult),e.xp6(1),e.Q6J("ngIf",o.showResult),e.xp6(1),e.Q6J("hidden",3!=o.pageNum),e.xp6(1),e.Q6J("formGroup",o.apiForm),e.xp6(4),e.Oqu(e.lcZ(61,61,"keyword_search")),e.xp6(2),e.FAE("placeholder","",e.lcZ(63,63,"api_key"),"\u3001",e.lcZ(64,65,"module_name"),"\u3001",e.lcZ(65,67,"api_name"),"\u3001",e.lcZ(66,69,"api_desc"),""),e.xp6(7),e.Oqu(e.lcZ(70,71,"api_src")),e.xp6(3),e.Oqu(e.lcZ(73,73,"message.register")),e.xp6(5),e.Oqu(e.lcZ(78,75,"button.search")),e.xp6(3),e.Q6J("ngIf",o.apiListCols),e.xp6(4),e.Q6J("disabled",o.joinBtnFlag),e.xp6(1),e.Oqu(e.lcZ(86,77,"button.join")),e.xp6(3),e.Oqu(e.lcZ(89,79,"button.return_to_list")),e.xp6(2),e.Akn(e.DdM(82,ao)),e.xp6(1),e.Akn(e.DdM(83,lo)))},directives:[ie.e,A.O5,D.xf,D.x4,x.jx,r._Y,r.JL,r.sg,ae.p,x.h4,le.EU,r.JJ,r.u,r.Fj,se,S.iA,A.sg,ne.Hq,re.u,ce.Lt,M.XZ,B,be,r.wV,r.qQ,r.Fd,r.nD,r.wO,ye.j,Ae.NU,Ze.cL,xe.M,S.GE,A.mk,we.FN,Te.Q,A.PC],pipes:[w.X$,A.Nd],styles:["table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{padding:5px;border:1px solid #c8c8c8;font-weight:700;background-color:#434343!important;color:#fff!important}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{font-size:14px;padding:5px;background:inherit;border:1px solid #c8c8c8}table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-child(even){background-color:#f9f9f9}"]}),i})();var V=_(86347);const no=[{path:"",component:so,canActivate:[V.u6]}];let ro=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[F.Bz.forChild(no)],F.Bz]}),i})();var co=_(31890);let po=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[V.u6,L.F],imports:[[A.ez,ro,Q.W,co.m,r.UX,r.u5]]}),i})()}}]);