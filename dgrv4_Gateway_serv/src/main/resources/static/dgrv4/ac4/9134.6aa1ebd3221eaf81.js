"use strict";(self.webpackChunksrcAngular=self.webpackChunksrcAngular||[]).push([[9134],{74856:(y,f,o)=>{o.d(f,{J:()=>_});var e=o(87587),g=o(93075);let _=(()=>{class i{constructor(){this.placeholder="",this.class=""}onSearch(){this.searchFn&&this.searchFn()}onKeydown(s){s.isComposing||this.onSearch()}}return i.\u0275fac=function(s){return new(s||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-search-input"]],inputs:{placeholder:"placeholder",control:"control",searchFn:"searchFn",class:"class"},decls:3,vars:2,consts:[[1,"p-input-icon-right","w-100"],[1,"pi","pi-search","tpi-i-search",3,"click"],["type","search",1,"form-control","tpi-i-input",3,"placeholder","formControl","keydown.enter"]],template:function(s,m){1&s&&(e.TgZ(0,"span",0)(1,"i",1),e.NdJ("click",function(){return m.onSearch()}),e.qZA(),e.TgZ(2,"input",2),e.NdJ("keydown.enter",function(l){return m.onKeydown(l)}),e.qZA()()),2&s&&(e.xp6(2),e.Q6J("placeholder",m.placeholder)("formControl",m.control))},directives:[g.Fj,g.JJ,g.oH],styles:[""]}),i})()},79134:(y,f,o)=>{o.r(f),o.d(f,{Lb0012Module:()=>z});var e=o(69808),g=o(78555),_=o(31890),i=o(93075),v=o(86347),s=o(99291),m=o(15861),p=o(14525),l=o(59783),t=o(87587),c=o(56435),Z=o(4516),A=o(46877),T=o(41313),x=o(86518),C=o(38441),L=o(63710),I=o(74856),S=o(75652),M=o(23099),U=o(40845),N=o(4119),q=o(73407),O=o(17773),w=o(19114),Y=o(51062);function k(a,d){if(1&a&&(t.TgZ(0,"div",32)(1,"small",33),t._uU(2),t.qZA(),t.TgZ(3,"small",33),t._uU(4),t.qZA()()),2&a){const r=t.oxw();t.xp6(2),t.Oqu(r.startDate.errors.isRequired),t.xp6(2),t.Oqu(r.startDate.errors.pattern)}}function J(a,d){if(1&a&&(t.TgZ(0,"div",32)(1,"small",33),t._uU(2),t.qZA(),t.TgZ(3,"small",33),t._uU(4),t.qZA()()),2&a){const r=t.oxw();t.xp6(2),t.Oqu(r.endDate.errors.isRequired),t.xp6(2),t.Oqu(r.endDate.errors.pattern)}}function P(a,d){1&a&&(t.TgZ(0,"tr")(1,"th",34),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"th",35),t._uU(5,"Webhook Name"),t.qZA(),t.TgZ(6,"th",36),t._uU(7,"Notify type"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"Client Id"),t.qZA(),t.TgZ(10,"th"),t._uU(11,"Remark"),t.qZA(),t.TgZ(12,"th",37),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"th",38),t._uU(16),t.ALo(17,"translate"),t.qZA()()),2&a&&(t.xp6(2),t.Oqu(t.lcZ(3,3,"status")),t.xp6(11),t.Oqu(t.lcZ(14,5,"create_time")),t.xp6(3),t.hij("",t.lcZ(17,7,"action")," "))}function R(a,d){if(1&a){const r=t.EpF();t.TgZ(0,"tr")(1,"td",39),t._UZ(2,"img",40),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.qZA(),t.TgZ(11,"td"),t._uU(12),t.qZA(),t.TgZ(13,"td",41)(14,"button",42),t.NdJ("click",function(){const h=t.CHM(r).$implicit;return t.oxw().changePage("detail",h)}),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"button",43),t.NdJ("click",function(){const h=t.CHM(r).$implicit;return t.oxw().resend(h)}),t.ALo(17,"translate"),t.qZA()()()}if(2&a){const r=d.$implicit;t.xp6(2),t.Q6J("alt",r.enable)("src","Y"===r.result?"assets/images/icon_green.png":"assets/images/icon_red.png",t.LSH),t.xp6(2),t.Oqu(r.notifyName),t.xp6(2),t.Oqu(r.notifyType),t.xp6(2),t.Oqu(r.clientId),t.xp6(2),t.Oqu(r.remark),t.xp6(2),t.Oqu(r.createDateTime),t.xp6(2),t.Q6J("pTooltip",t.lcZ(15,9,"button.detail")),t.xp6(2),t.Q6J("pTooltip",t.lcZ(17,11,"button.resend"))}}function E(a,d){if(1&a){const r=t.EpF();t.TgZ(0,"tr")(1,"td",45)(2,"span",46),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"button",47),t.NdJ("click",function(){return t.CHM(r),t.oxw(2).getMoreData()}),t._uU(6),t.ALo(7,"translate"),t._UZ(8,"i",48),t.qZA()()()}if(2&a){const r=t.oxw(2);t.xp6(1),t.uIk("colspan",7),t.xp6(2),t.AsE("",t.lcZ(4,4,"row_count"),": ",r.tableData.length,""),t.xp6(3),t.hij("",t.lcZ(7,6,"button.more")," ")}}function B(a,d){if(1&a&&t.YNc(0,E,9,8,"tr",44),2&a){const r=t.oxw();t.Q6J("ngIf",r.tableData.length>0)}}function F(a,d){1&a&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&a&&(t.xp6(1),t.uIk("colspan",7),t.xp6(1),t.hij(" ",t.lcZ(3,2,"no_rec")," "))}const H=function(){return{backgroundColor:"var(--red-300)","border-color":"var(--red-300)"}};function Q(a,d){if(1&a){const r=t.EpF();t.TgZ(0,"div",49)(1,"button",50),t.NdJ("click",function(){return t.CHM(r),t.oxw(),t.MAs(65).accept()}),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"button",51),t.NdJ("click",function(){return t.CHM(r),t.oxw(),t.MAs(65).reject()}),t.ALo(4,"translate"),t.qZA()()}2&a&&(t.xp6(1),t.s9C("label",t.lcZ(2,3,"button.confirm")),t.Q6J("ngStyle",t.DdM(7,H)),t.xp6(2),t.s9C("label",t.lcZ(4,5,"button.cancel")))}const D=function(){return{width:"100%"}},W=function(){return{"word-wrap":"break-word"}},j=function(){return{marginTop:"60px"}},$=function(){return{width:"50vw"}},G=[{path:"",component:(()=>{class a extends p.H{constructor(r,n,u,h,b,X,V,tt,et,nt){super(r,n),this.fb=u,this.toolService=h,this.listService=b,this.messageService=X,this.confirmationService=V,this.serverService=tt,this.alertService=et,this.ngxSrvice=nt,this.currentTitle=this.title,this.pageNum=1,this.tableData=[],this.statusList=[],this.statusListIgnoreAll=[],this.currentAction=""}ngOnInit(){this.form=this.fb.group({webhookNotifyId:new i.NI(""),keyword:new i.NI(""),startDate:new i.NI,endDate:new i.NI,paging:new i.NI("")});let r=new Date;this.startDate.setValue(this.toolService.addDay(r,-6)),this.endDate.setValue(r),this.serverService.queryWebhookLogs_ignore1298({startDate:this.toolService.setformate(this.startDate.value,"YYYY/MM/DD"),endDate:this.toolService.setformate(this.endDate.value,"YYYY/MM/DD")}).subscribe(n=>{this.toolService.checkDpSuccess(n.ResHeader)&&(this.tableData=n.RespBody.webhookLogList)})}queryWebhookLogs(){let r={startDate:this.startDate.value&&""==this.startDate.value?null:this.toolService.setformate(this.startDate.value,"YYYY/MM/DD"),endDate:this.endDate.value&&""==this.endDate.value?null:this.toolService.setformate(this.endDate.value,"YYYY/MM/DD"),keyword:this.keyword.value};this.ngxSrvice.start(),this.serverService.queryWebhookLogs(r).subscribe(n=>{this.tableData=this.toolService.checkDpSuccess(n.ResHeader)?n.RespBody.webhookLogList:[],this.ngxSrvice.stop()})}getMoreData(){let r={keyword:this.keyword.value,startDate:this.startDate.value&&""==this.startDate.value?null:this.toolService.setformate(this.startDate.value,"YYYY/MM/DD"),endDate:this.endDate.value&&""==this.endDate.value?null:this.toolService.setformate(this.endDate.value,"YYYY/MM/DD"),webhookNotifyLogId:this.tableData[this.tableData.length-1].webhookNotifyLogId};this.ngxSrvice.start(),this.serverService.queryWebhookLogs(r).subscribe(n=>{this.toolService.checkDpSuccess(n.ResHeader)&&(this.tableData=this.tableData.concat(n.RespBody.webhookLogList)),this.ngxSrvice.stop()})}resend(r){var n=this;return(0,m.Z)(function*(){const h=yield n.toolService.getDict(["button.resend","message.success"]);n.confirmationService.confirm({header:h["button.resend"],message:`Webhook Name: ${r.notifyName}`,accept:()=>{n.ngxSrvice.start(),n.serverService.resendWebhookNotify({webhookNotifyLogId:r.webhookNotifyLogId}).subscribe(b=>{n.toolService.checkDpSuccess(b.ResHeader)&&n.messageService.add({severity:"success",summary:`${h["button.resend"]} `,detail:`${h["button.resend"]} ${h["message.success"]}!`}),n.ngxSrvice.stop()})}})})()}changePage(r,n){var u=this;return(0,m.Z)(function*(){u.currentAction=r;const b=yield u.toolService.getDict(["button.detail"]);switch(r){case"query":u.pageNum=1,u.currentTitle=u.title;break;case"detail":u.currentTitle=`${u.title} > ${b["button.detail"]}`,u.selectedItem=n,u.pageNum=2}})()}get keyword(){return this.form.get("keyword")}get startDate(){return this.form.get("startDate")}get endDate(){return this.form.get("endDate")}}return a.\u0275fac=function(r){return new(r||a)(t.Y36(s.gz),t.Y36(c.W),t.Y36(i.qu),t.Y36(Z.g),t.Y36(A.X),t.Y36(l.ez),t.Y36(l.YP),t.Y36(T.N),t.Y36(x.c),t.Y36(C.LA))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-lb0012"]],features:[t._Bn([l.YP]),t.qOj],decls:67,vars:51,consts:[[3,"title"],[3,"hidden"],[3,"formGroup"],[1,"form-group","row"],[1,"col-4"],[1,"control-label"],[1,"col-9","col-lg-4","col-sm-6",3,"placeholder","control","searchFn"],[1,"col-lg-4","col-md-6","col-sm-8"],["id","startDate_label",1,"control-label"],[1,"d-flex"],["appendTo","body","formControlName","startDate","dateFormat","yy/mm/dd",3,"inputStyle","showIcon","readonlyInput"],["class","text-danger",4,"ngIf"],[1,"text-center"],[2,"padding","5px 10px"],["appendTo","body","formControlName","endDate","dateFormat","yy/mm/dd",3,"inputStyle","showIcon","readonlyInput"],[1,"col-12"],["styleClass","p-datatable-striped","responsiveLayout","scroll",3,"value"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["pTemplate","emptymessage"],[1,"col-sm-4"],[1,"form-control","border-line"],[1,"form-group"],[2,"display","block"],["rows","5","pInputTextarea","",1,"form-control",2,"width","100%",3,"readOnly","value"],["rows","2","pInputTextarea","",1,"form-control",2,"width","100%",3,"readOnly","value"],[1,"col-12","col-lg-12"],["type","button",1,"btn","tpi-btn","tpi-primary","float-start",3,"click"],["position","top-left"],["icon","pi pi-exclamation-triangle","styleClass","cHeader cContent cIcon"],["cd",""],[1,"text-danger"],[1,"form-text"],[2,"width","50px"],[2,"width","15%"],[2,"width","5%"],[2,"width","10%"],["scope","col",2,"width","90px"],[2,"text-align","center"],[2,"width","20px","height","20px",3,"alt","src"],[2,"text-align","center","width","90px"],["pButton","","pRipple","","type","button","icon","pi pi-eye","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],["pButton","","pRipple","","type","button","icon","fa fa-paper-plane","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],[4,"ngIf"],[2,"color","#b7b7b7"],[2,"vertical-align","middle"],["type","button",1,"btn","tpi-header-return",3,"click"],[1,"fas","fa-angle-double-right",2,"margin-left","5px"],[1,"row",2,"justify-content","center"],["type","button","pButton","","icon","pi pi-check",3,"ngStyle","label","click"],["type","button","pButton","","icon","pi pi-times",1,"p-button-secondary",3,"label","click"]],template:function(r,n){1&r&&(t.TgZ(0,"app-container",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"label",5),t._uU(6),t.ALo(7,"translate"),t.qZA(),t._UZ(8,"app-search-input",6),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"div",7)(11,"label",8),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div",9)(15,"div"),t._UZ(16,"p-calendar",10),t.YNc(17,k,5,2,"div",11),t.qZA(),t.TgZ(18,"div",12)(19,"label",13),t._uU(20,"\uff5e"),t.qZA()(),t.TgZ(21,"div"),t._UZ(22,"p-calendar",14),t.YNc(23,J,5,2,"div",11),t.qZA()()()()(),t._UZ(24,"hr"),t.TgZ(25,"div",15)(26,"p-table",16),t.YNc(27,P,18,9,"ng-template",17),t.YNc(28,R,18,13,"ng-template",18),t.YNc(29,B,1,1,"ng-template",19),t.YNc(30,F,4,4,"ng-template",20),t.qZA()()(),t.TgZ(31,"div",1)(32,"div",3)(33,"div",3)(34,"div",21)(35,"label"),t._uU(36,"Webhook Name"),t.qZA(),t.TgZ(37,"label",22),t._uU(38),t.qZA()(),t.TgZ(39,"div",21)(40,"label"),t._uU(41,"Notify Type"),t.qZA(),t.TgZ(42,"label",22),t._uU(43),t.qZA()(),t.TgZ(44,"div",21)(45,"label"),t._uU(46,"Client Id"),t.qZA(),t.TgZ(47,"label",22),t._uU(48),t.qZA()()(),t.TgZ(49,"div",23)(50,"label",5),t._uU(51,"Content"),t.qZA(),t.TgZ(52,"div",24),t._UZ(53,"textarea",25),t.qZA()(),t.TgZ(54,"div",23)(55,"label",5),t._uU(56,"Remark"),t.qZA(),t.TgZ(57,"div",24),t._UZ(58,"textarea",26),t.qZA()(),t.TgZ(59,"div",27)(60,"button",28),t.NdJ("click",function(){return n.changePage("query")}),t._uU(61),t.ALo(62,"translate"),t.qZA()()()()(),t._UZ(63,"p-toast",29),t.TgZ(64,"p-confirmDialog",30,31),t.YNc(66,Q,5,8,"ng-template",19),t.qZA()),2&r&&(t.Q6J("title",n.currentTitle),t.xp6(1),t.Q6J("hidden",1!=n.pageNum),t.xp6(1),t.Q6J("formGroup",n.form),t.xp6(4),t.Oqu(t.lcZ(7,36,"keyword_search")),t.xp6(2),t.s9C("placeholder",t.lcZ(9,38,"keyword_search")),t.Q6J("control",n.form.get("keyword"))("searchFn",n.queryWebhookLogs.bind(n)),t.xp6(4),t.Oqu(t.lcZ(13,40,"date_range")),t.xp6(4),t.Akn(t.DdM(44,D)),t.Q6J("inputStyle",t.DdM(45,D))("showIcon",!0)("readonlyInput",!0),t.xp6(1),t.Q6J("ngIf",(null==n.startDate?null:n.startDate.invalid)&&((null==n.startDate?null:n.startDate.dirty)||(null==n.startDate?null:n.startDate.touched))),t.xp6(5),t.Akn(t.DdM(46,D)),t.Q6J("inputStyle",t.DdM(47,D))("showIcon",!0)("readonlyInput",!0),t.xp6(1),t.Q6J("ngIf",(null==n.endDate?null:n.endDate.invalid)&&((null==n.endDate?null:n.endDate.dirty)||(null==n.endDate?null:n.endDate.touched))),t.xp6(3),t.Akn(t.DdM(48,W)),t.Q6J("value",n.tableData),t.xp6(5),t.Q6J("hidden",2!=n.pageNum),t.xp6(7),t.Oqu(null==n.selectedItem?null:n.selectedItem.notifyName),t.xp6(5),t.Oqu(null==n.selectedItem?null:n.selectedItem.notifyType),t.xp6(5),t.Oqu(null==n.selectedItem?null:n.selectedItem.clientId),t.xp6(5),t.Q6J("readOnly",!0)("value",null==n.selectedItem?null:n.selectedItem.content),t.xp6(5),t.Q6J("readOnly",!0)("value",null==n.selectedItem?null:n.selectedItem.remark),t.xp6(3),t.Oqu(t.lcZ(62,42,"button.return_to_list")),t.xp6(2),t.Akn(t.DdM(49,j)),t.xp6(1),t.Akn(t.DdM(50,$)))},directives:[L.e,i._Y,i.JL,i.sg,I.J,S.f,i.JJ,i.u,e.O5,M.iA,l.jx,U.Hq,N.u,q.g,O.FN,w.Q,e.PC],pipes:[Y.X$],styles:[".form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background:#F6F6F6}"]}),a})(),canActivate:[v.u6]}];let K=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({imports:[[s.Bz.forChild(G)],s.Bz]}),a})(),z=(()=>{class a{}return a.\u0275fac=function(r){return new(r||a)},a.\u0275mod=t.oAB({type:a}),a.\u0275inj=t.cJS({providers:[v.u6],imports:[[e.ez,K,g.W,_.m,v.DL,i.UX,i.u5]]}),a})()},63710:(y,f,o)=>{o.d(f,{e:()=>p});var e=o(87587),g=o(69808),_=o(51062);function i(l,t){if(1&l&&(e.TgZ(0,"div")(1,"h3",9),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l){const c=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,c.title))}}function v(l,t){if(1&l){const c=e.EpF();e.TgZ(0,"div",10)(1,"button",11),e.NdJ("click",function(){return e.CHM(c),e.oxw().return()}),e._UZ(2,"i",12),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",13),e._uU(6),e.qZA(),e.TgZ(7,"span",14),e._uU(8),e.qZA()()}if(2&l){const c=e.oxw();e.xp6(3),e.hij(" ",e.lcZ(4,3,"button.return_to_list")," "),e.xp6(3),e.hij("",c.getHead()," /"),e.xp6(2),e.Oqu(c.getTail())}}const s=[[["","center-view","center"]],"*"],m=["[center-view=center]","*"];let p=(()=>{class l{constructor(){this.title="",this.isDefault=!0,this.headerReturn=new e.vpe}ngOnInit(){}return(){this.headerReturn.emit(null)}getHead(){const c=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return c.pop(),c.join(" / ")}getTail(){const c=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return c[c.length-1]}}return l.\u0275fac=function(c){return new(c||l)},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-container"]],inputs:{title:"title",isDefault:"isDefault"},outputs:{headerReturn:"headerReturn"},ngContentSelectors:m,decls:11,vars:2,consts:[[1,"container-fluid","h-100"],[1,"row","position-relative",2,"height","calc(100% - 40px - 0.5rem)"],[1,"col"],[2,"margin-bottom","0.5rem"],[4,"ngIf"],["style","text-align: right",4,"ngIf"],[1,"col","d-flex","justify-content-center"],[1,"my-0","mb-2"],[1,"p-2"],["id","content",1,"page-title"],[2,"text-align","right"],["type","button","icon","",1,"btn","float-start","tpi-header-return",3,"click"],[1,"fas","fa-arrow-left",2,"margin-right","5px"],[1,"mb-0",2,"font-size","0.8rem","color","#666464"],[1,"mb-0",2,"font-size","0.8rem","color","#ff6e38","font-weight","bold"]],template:function(c,Z){1&c&&(e.F$t(s),e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,i,4,3,"div",4),e.YNc(5,v,9,5,"div",5),e.TgZ(6,"div",6),e.Hsn(7),e.qZA()(),e._UZ(8,"hr",7),e.Hsn(9,1),e._UZ(10,"div",8),e.qZA()()()),2&c&&(e.xp6(4),e.Q6J("ngIf",Z.isDefault),e.xp6(1),e.Q6J("ngIf",!Z.isDefault))},directives:[g.O5],pipes:[_.X$],styles:[".card.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:400;color:#5a5541}"]}),l})()},86347:(y,f,o)=>{o.d(f,{DL:()=>e.D,u6:()=>_.u});var e=o(81233),_=(o(45240),o(92718));o(4516)},46877:(y,f,o)=>{o.d(f,{X:()=>v});var e=o(92340),g=o(57553),_=o(87587),i=o(30424);let v=(()=>{class s{constructor(p){this.api=p,this.api.baseUrl=e.N.dpPath}get basePath(){return e.N.isv4?"dgrv4/11":"tsmpdpaa/11"}querySubItemsByItemNo(p){let l={ReqHeader:this.api.getReqHeader(g.Nx.querySubItemsByItemNo),ReqBody:p};return this.api.npPost(`${this.basePath}/DPB0047`,l)}queryNewsStatusList(p){let l={ReqHeader:this.api.getReqHeader(g.Nx.querySubItemsByItemNo),ReqBody:p};return this.api.npPost(`${this.basePath}/DPB0048`,l)}}return s.\u0275fac=function(p){return new(p||s)(_.LFG(i.K))},s.\u0275prov=_.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()}}]);