"use strict";(self.webpackChunksrcAngular=self.webpackChunksrcAngular||[]).push([[379],{10379:(O,q,r)=>{r.r(q),r.d(q,{Ac0017Module:()=>Ue});var o=r(69808),x=r(99291),h=r(15861),I=r(14525),s=r(93075),_=r(1694),f=r(59783),U=r(71764),e=r(87587),T=r(56435),m=r(4516),y=r(41313),S=r(63710),J=r(23099),M=r(40845),L=r(4119),Q=r(49603),P=r(14036),Y=r(17773),R=r(19114),W=r(51062);function K(n,u){1&n&&(e.TgZ(0,"tr")(1,"th",48),e._uU(2,"Enable"),e.qZA(),e.TgZ(3,"th",49),e._uU(4,"ID"),e.qZA(),e.TgZ(5,"th",49),e._uU(6,"IdP Client Name"),e.qZA(),e.TgZ(7,"th",50),e._uU(8,"IdP Client ID"),e.qZA(),e.TgZ(9,"th",51),e._uU(10,"IdP Well Known URL"),e.qZA(),e.TgZ(11,"th",50),e._uU(12,"Create User"),e.qZA(),e.TgZ(13,"th",50),e._uU(14,"Create Time"),e.qZA(),e.TgZ(15,"th",52),e._uU(16,"IdP Auth Url"),e.qZA(),e.TgZ(17,"th",53),e._uU(18,"Scope"),e.qZA(),e.TgZ(19,"th",54),e._uU(20),e.ALo(21,"translate"),e.qZA()(),e.TgZ(22,"tr")(23,"th",55),e._uU(24,"Type"),e.qZA(),e.TgZ(25,"th",55),e._uU(26,"dgR Callback URL"),e.qZA(),e.TgZ(27,"th",55),e._uU(28,"Update User"),e.qZA(),e.TgZ(29,"th",55),e._uU(30,"Update Time"),e.qZA(),e.TgZ(31,"th",55),e._uU(32,"IdP Access Token URL"),e.qZA()()),2&n&&(e.xp6(20),e.Oqu(e.lcZ(21,1,"action")))}function $(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",56),e._UZ(2,"img",57),e.qZA(),e.TgZ(3,"td",58),e._uU(4),e.qZA(),e.TgZ(5,"td",58),e._uU(6),e.qZA(),e.TgZ(7,"td",59),e._uU(8),e.qZA(),e.TgZ(9,"td",59),e._uU(10),e.qZA(),e.TgZ(11,"td",59),e._uU(12),e.qZA(),e.TgZ(13,"td",59),e._uU(14),e.qZA(),e.TgZ(15,"td",59),e._uU(16),e.qZA(),e.TgZ(17,"td",58),e._uU(18),e.qZA(),e.TgZ(19,"td",60)(20,"button",61),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw().changePage("detail",c)}),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"button",62),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw().changePage("update",c)}),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"button",63),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw().changePage("delete",c)}),e.ALo(25,"translate"),e.qZA()()(),e.TgZ(26,"tr")(27,"td",59),e._uU(28),e.qZA(),e.TgZ(29,"td",59),e._uU(30),e.qZA(),e.TgZ(31,"td",59),e._uU(32),e.qZA(),e.TgZ(33,"td",59),e._uU(34),e.qZA(),e.TgZ(35,"td",59),e._uU(36),e.qZA()()}if(2&n){const t=u.$implicit,l=e.oxw();e.xp6(2),e.Q6J("alt",t.clientStatus)("src","Y"===t.clientStatus?"assets/images/icon_green.png":"assets/images/icon_red.png",e.LSH),e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.clientName),e.xp6(2),e.Oqu(t.clientId),e.xp6(2),e.Oqu(t.idpWellKnownUrl),e.xp6(2),e.Oqu(t.createUser),e.xp6(2),e.Oqu(l.formateDate(t.createDateTime)),e.xp6(2),e.Oqu(t.authUrl),e.xp6(2),e.Oqu(t.scope),e.xp6(2),e.Q6J("pTooltip",e.lcZ(21,18,"button.detail")),e.xp6(2),e.Q6J("pTooltip",e.lcZ(23,20,"button.update")),e.xp6(2),e.Q6J("pTooltip",e.lcZ(25,22,"button.delete")),e.xp6(4),e.Oqu(t.idpType),e.xp6(2),e.Oqu(t.callbackUrl),e.xp6(2),e.Oqu(t.updateUser),e.xp6(2),e.Oqu(l.formateDate(t.updateDateTime)),e.xp6(2),e.Oqu(t.accessTokenUrl)}}function H(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",64)(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",65),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).moreData()}),e._uU(6),e.ALo(7,"translate"),e._UZ(8,"i",66),e.qZA()()()}if(2&n){const t=e.oxw().$implicit,l=e.oxw();e.xp6(1),e.uIk("colspan",t.length+1),e.xp6(2),e.AsE("",e.lcZ(4,4,"row_count"),": ",l.rowcount,""),e.xp6(3),e.hij(" ",e.lcZ(7,6,"button.more")," ")}}function V(n,u){if(1&n&&e.YNc(0,H,9,8,"tr",10),2&n){const t=e.oxw();e.Q6J("ngIf",t.rowcount)}}function B(n,u){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n){const t=u.$implicit;e.xp6(1),e.uIk("colspan",t.length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"no_rec")," ")}}function E(n,u){if(1&n&&(e.TgZ(0,"div",2)(1,"div",12)(2,"label",67),e._uU(3,"Create User"),e.qZA(),e._UZ(4,"input",68),e.qZA(),e.TgZ(5,"div",12)(6,"label",67),e._uU(7,"Create Time"),e.qZA(),e._UZ(8,"input",68),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("value",t.userDetail.createUser),e.xp6(4),e.Q6J("value",t.formateDate(t.userDetail.createDateTime))}}function j(n,u){if(1&n&&(e.TgZ(0,"div",2)(1,"div",12)(2,"label",67),e._uU(3,"Update User"),e.qZA(),e._UZ(4,"input",68),e.qZA(),e.TgZ(5,"div",12)(6,"label",67),e._uU(7,"Update Time"),e.qZA(),e._UZ(8,"input",68),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.Q6J("value",t.userDetail.updateUser),e.xp6(4),e.Q6J("value",t.formateDate(t.userDetail.updateDateTime))}}function F(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"button",76),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).deleteAcOauth()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"button.delete")))}function G(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",2)(2,"div",12)(3,"label",67),e._uU(4,"Id"),e.qZA(),e._UZ(5,"input",68),e.qZA(),e.TgZ(6,"div",12)(7,"label",67),e._uU(8,"IdP Client Id"),e.qZA(),e._UZ(9,"input",68),e.qZA()(),e.TgZ(10,"div",2)(11,"div",12)(12,"label",67),e._uU(13,"IdP Client Name"),e.qZA(),e._UZ(14,"input",68),e.qZA(),e.TgZ(15,"div",12)(16,"label",67),e._uU(17,"IdP Client Secret"),e.qZA(),e.TgZ(18,"div",19),e._UZ(19,"input",69),e.TgZ(20,"button",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().togglePassword()}),e.qZA(),e.TgZ(21,"button",22),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return i.copyToClipboard(i.userDetail.clientMima)}),e.ALo(22,"translate"),e.qZA()()()(),e.TgZ(23,"div",2)(24,"div",12)(25,"label",67),e._uU(26,"Type"),e.qZA(),e._UZ(27,"input",68),e.qZA(),e.TgZ(28,"div",12)(29,"label",67),e._uU(30,"Enable"),e.qZA(),e.TgZ(31,"div",70),e.ynx(32),e.TgZ(33,"div",27),e._UZ(34,"p-radioButton",71),e.TgZ(35,"label",72),e._uU(36,"Y"),e.qZA()(),e.TgZ(37,"div",27),e._UZ(38,"p-radioButton",73),e.TgZ(39,"label",72),e._uU(40,"N"),e.qZA()(),e.BQk(),e.qZA()()(),e.TgZ(41,"div",2)(42,"div",12)(43,"label",67),e._uU(44,"dgR Callback URL"),e.qZA(),e._UZ(45,"input",68),e.qZA(),e.TgZ(46,"div",12)(47,"label",67),e._uU(48,"IdP Well Known URL"),e.qZA(),e._UZ(49,"input",68),e.qZA()(),e.TgZ(50,"div",2)(51,"div",12)(52,"label",67),e._uU(53,"IdP Auth URL"),e.qZA(),e._UZ(54,"input",68),e.qZA(),e.TgZ(55,"div",12)(56,"label",67),e._uU(57,"IdP Access Token URL"),e.qZA(),e._UZ(58,"input",68),e.qZA()(),e.YNc(59,E,9,2,"div",74),e.YNc(60,j,9,2,"div",74),e.TgZ(61,"div",2)(62,"div",12)(63,"label",67),e._uU(64,"IdP Scope"),e.qZA(),e._UZ(65,"input",68),e.qZA()(),e.TgZ(66,"div",2)(67,"div",42),e.YNc(68,F,3,3,"button",75),e.TgZ(69,"button",44),e.NdJ("click",function(){return e.CHM(t),e.oxw().changePage("query")}),e._uU(70),e.ALo(71,"translate"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("value",t.userDetail.id),e.xp6(4),e.Q6J("value",t.userDetail.clientId),e.xp6(5),e.Q6J("value",t.userDetail.clientName),e.xp6(5),e.Q6J("type",t.showPassword?"text":"password")("value",t.userDetail.clientMima),e.xp6(1),e.Q6J("icon",t.showPassword?"pi pi-eye-slash":"pi pi-eye"),e.xp6(1),e.Q6J("pTooltip",e.lcZ(22,19,"copy")),e.xp6(6),e.Q6J("value",t.userDetail.idpType),e.xp6(7),e.Q6J("ngModel",t.userDetail.clientStatus),e.xp6(4),e.Q6J("ngModel",t.userDetail.clientStatus),e.xp6(7),e.Q6J("value",t.userDetail.callbackUrl),e.xp6(4),e.Q6J("value",t.userDetail.idpWellKnownUrl),e.xp6(5),e.Q6J("value",t.userDetail.authUrl),e.xp6(4),e.Q6J("value",t.userDetail.accessTokenUrl),e.xp6(1),e.Q6J("ngIf","detail"==t.currentAction),e.xp6(1),e.Q6J("ngIf","detail"==t.currentAction),e.xp6(5),e.Q6J("value",t.userDetail.scope),e.xp6(3),e.Q6J("ngIf","delete"==t.currentAction),e.xp6(2),e.Oqu(e.lcZ(71,21,"button.return_to_list"))}}function z(n,u){if(1&n&&(e.TgZ(0,"div",77)(1,"small",78),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"small",78),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"small",78),e._uU(8),e.ALo(9,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,null==t.clientId?null:t.clientId.errors.maxlength)),e.xp6(3),e.Oqu(e.lcZ(6,5,null==t.clientId?null:t.clientId.errors.pattern)),e.xp6(3),e.Oqu(e.lcZ(9,7,null==t.clientId?null:t.clientId.errors.required))}}function X(n,u){if(1&n&&(e.TgZ(0,"div",77)(1,"small",78),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"small",78),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"small",78),e._uU(8),e.ALo(9,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,null==t.clientName?null:t.clientName.errors.maxlength)),e.xp6(3),e.Oqu(e.lcZ(6,5,null==t.clientName?null:t.clientName.errors.pattern)),e.xp6(3),e.Oqu(e.lcZ(9,7,null==t.clientName?null:t.clientName.errors.required))}}function ee(n,u){if(1&n&&(e.TgZ(0,"div",77)(1,"small",78),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"small",78),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"small",78),e._uU(8),e.ALo(9,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,null==t.clientMima?null:t.clientMima.errors.maxlength)),e.xp6(3),e.Oqu(e.lcZ(6,5,null==t.clientMima?null:t.clientMima.errors.pattern)),e.xp6(3),e.Oqu(e.lcZ(9,7,null==t.clientMima?null:t.clientMima.errors.required))}}function te(n,u){if(1&n&&(e.TgZ(0,"div",77)(1,"small",78),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"small",78),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"small",78),e._uU(8),e.ALo(9,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,null==t.idpType?null:t.idpType.errors.maxlength)),e.xp6(3),e.Oqu(e.lcZ(6,5,null==t.idpType?null:t.idpType.errors.pattern)),e.xp6(3),e.Oqu(e.lcZ(9,7,null==t.idpType?null:t.idpType.errors.required))}}function le(n,u){if(1&n&&(e.TgZ(0,"div",77)(1,"small",78),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"small",78),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"small",78),e._uU(8),e.ALo(9,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,null==t.clientStatus?null:t.clientStatus.errors.maxlength)),e.xp6(3),e.Oqu(e.lcZ(6,5,null==t.clientStatus?null:t.clientStatus.errors.pattern)),e.xp6(3),e.Oqu(e.lcZ(9,7,null==t.clientStatus?null:t.clientStatus.errors.required))}}function ne(n,u){if(1&n&&(e.TgZ(0,"div",77)(1,"small",78),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"small",78),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"small",78),e._uU(8),e.ALo(9,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,null==t.callbackUrl?null:t.callbackUrl.errors.maxlength)),e.xp6(3),e.Oqu(e.lcZ(6,5,null==t.callbackUrl?null:t.callbackUrl.errors.pattern)),e.xp6(3),e.Oqu(e.lcZ(9,7,null==t.callbackUrl?null:t.callbackUrl.errors.required))}}function ie(n,u){if(1&n&&(e.TgZ(0,"div",77)(1,"small",78),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"small",78),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"small",78),e._uU(8),e.ALo(9,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,3,null==t.idpWellKnownUrl?null:t.idpWellKnownUrl.errors.maxlength)),e.xp6(3),e.Oqu(e.lcZ(6,5,null==t.idpWellKnownUrl?null:t.idpWellKnownUrl.errors.pattern)),e.xp6(3),e.Oqu(e.lcZ(9,7,null==t.idpWellKnownUrl?null:t.idpWellKnownUrl.errors.required))}}function oe(n,u){if(1&n&&(e.TgZ(0,"div",77)(1,"small",78),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"small",78),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,null==t.authUrl?null:t.authUrl.errors.maxlength)),e.xp6(3),e.Oqu(e.lcZ(6,4,null==t.authUrl?null:t.authUrl.errors.pattern))}}function ae(n,u){if(1&n&&(e.TgZ(0,"div",77)(1,"small",78),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"small",78),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,null==t.accessTokenUrl?null:t.accessTokenUrl.errors.maxlength)),e.xp6(3),e.Oqu(e.lcZ(6,4,null==t.accessTokenUrl?null:t.accessTokenUrl.errors.pattern))}}function re(n,u){if(1&n&&(e.TgZ(0,"div",77)(1,"small",78),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"small",78),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,null==t.scope?null:t.scope.errors.maxlength)),e.xp6(3),e.Oqu(e.lcZ(6,4,null==t.scope?null:t.scope.errors.pattern))}}function ce(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"button",79),e.NdJ("click",function(){return e.CHM(t),e.oxw().createAcOauth()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.form.invalid),e.xp6(1),e.Oqu(e.lcZ(2,2,"button.create"))}}function ue(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"button",79),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateAcOauth()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.form.invalid),e.xp6(1),e.Oqu(e.lcZ(2,2,"button.update"))}}const se=function(){return{backgroundColor:"var(--red-300)","border-color":"var(--red-300)"}};function de(n,u){if(1&n){const t=e.EpF();e.TgZ(0,"div",80)(1,"button",81),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(95).accept()}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",82),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(95).reject()}),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("label",e.lcZ(2,3,"button.confirm")),e.Q6J("ngStyle",e.DdM(7,se)),e.xp6(2),e.s9C("label",e.lcZ(4,5,"button.cancel")))}const pe=function(){return{"word-break":"break-word"}},me=function(){return{width:"100%"}},_e=function(){return{marginTop:"60px"}},ge=function(){return{width:"50vw"}};let ve=(()=>{class n extends I.H{constructor(t,l,i,c,d,p,v){super(t,l),this.fb=i,this.toolService=c,this.serverService=d,this.messageService=p,this.confirmationService=v,this.currentTitle=this.title,this.cols=[],this.pageNum=1,this.currentAction="query",this.idpTypeList=[{label:"GOOGLE",value:"GOOGLE"},{label:"MS",value:"MS"},{label:"OIDC",value:"OIDC"}],this.showPassword=!1,this.cols=[{field:"id",header:"ID"},{field:"idpType",header:"Type"},{field:"clientId",header:"Client Id"},{field:"clientMima",header:"Client Secret"},{field:"clientName",header:"Client Name"},{field:"idpWellKnownUrl",header:"IdpWellKnownUrl"},{field:"callbackUrl",header:"Callback Url"},{field:"createUser",header:"Create User"},{field:"createDateTime",header:"Create Time"},{field:"updateUser",header:"Update User"},{field:"updateDateTime",header:"Update Time"},{field:"clientStatus",header:"Client Status"},{field:"authUrl",header:"Auth Url"},{field:"accessTokenUrl",header:"Access Token Url"},{field:"scope",header:"Scope"}],this.acAuthList=[]}ngOnInit(){this.form=this.fb.group({idpType:new s.NI("",[_.np()]),clientId:new s.NI("",[_.np()]),clientMima:new s.NI("",[_.np()]),clientName:new s.NI("",[_.np()]),idpWellKnownUrl:new s.NI("",[_.np()]),callbackUrl:new s.NI("",[_.np()]),clientStatus:new s.NI("",[_.np()]),authUrl:new s.NI(""),accessTokenUrl:new s.NI(""),scope:new s.NI("")}),this.queryAcOauth()}queryAcOauth(){this.serverService.QueryDgrAcIdInfoAll().subscribe(t=>{this.acAuthList=this.toolService.checkDpSuccess(t.ResHeader)?t.RespBody.dgrAcIdpInfo:[]})}updateAcOauth(){var l,i,c,d,p,v,g,a,Z,b,t=this;let k={idpType:null===(l=this.idpType)||void 0===l?void 0:l.value,clientId:null===(i=this.clientId)||void 0===i?void 0:i.value,clientMima:null===(c=this.clientMima)||void 0===c?void 0:c.value,clientName:null===(d=this.clientName)||void 0===d?void 0:d.value,idpWellKnownUrl:null===(p=this.idpWellKnownUrl)||void 0===p?void 0:p.value,callbackUrl:null===(v=this.callbackUrl)||void 0===v?void 0:v.value,clientStatus:null===(g=this.clientStatus)||void 0===g?void 0:g.value,authUrl:null===(a=this.authUrl)||void 0===a?void 0:a.value,accessTokenUrl:null===(Z=this.accessTokenUrl)||void 0===Z?void 0:Z.value,scope:null===(b=this.scope)||void 0===b?void 0:b.value,id:this.updateId};this.serverService.updateDgrAcIdInfo(k).subscribe(function(){var w=(0,h.Z)(function*(C){const A=yield t.toolService.getDict(["message.update","message.success","message.user"]);t.toolService.checkDpSuccess(C.ResHeader)&&(t.messageService.add({severity:"success",summary:`${A["message.update"]} ${A["message.user"]}`,detail:`${A["message.update"]} ${A["message.success"]}!`}),t.queryAcOauth(),t.changePage("query"))});return function(C){return w.apply(this,arguments)}}())}onDeleteAcOauth(){var t=this;this.messageService.clear(),this.serverService.deleteDgrAcIdInfo({id:this.updateId}).subscribe(function(){var i=(0,h.Z)(function*(c){const p=yield t.toolService.getDict(["message.delete","message.success","message.user"]);t.toolService.checkDpSuccess(c.ResHeader)&&(t.messageService.add({severity:"success",summary:`${p["message.delete"]} ${p["message.user"]}`,detail:`${p["message.delete"]} ${p["message.success"]}!`}),t.queryAcOauth(),t.changePage("query"))});return function(c){return i.apply(this,arguments)}}())}onReject(){this.messageService.clear()}deleteAcOauth(){var t=this;return(0,h.Z)(function*(){const i=yield t.toolService.getDict(["cfm_del","user_name","user_alias"]);t.confirmationService.confirm({header:i.cfm_del,message:`${t.userDetail.id}`,accept:()=>{t.onDeleteAcOauth()}})})()}createAcOauth(){var l,i,c,d,p,v,g,a,Z,b,t=this;let k={idpType:null===(l=this.idpType)||void 0===l?void 0:l.value,clientId:null===(i=this.clientId)||void 0===i?void 0:i.value,clientMima:null===(c=this.clientMima)||void 0===c?void 0:c.value,clientName:null===(d=this.clientName)||void 0===d?void 0:d.value,idpWellKnownUrl:null===(p=this.idpWellKnownUrl)||void 0===p?void 0:p.value,callbackUrl:null===(v=this.callbackUrl)||void 0===v?void 0:v.value,clientStatus:null===(g=this.clientStatus)||void 0===g?void 0:g.value,authUrl:null===(a=this.authUrl)||void 0===a?void 0:a.value,accessTokenUrl:null===(Z=this.accessTokenUrl)||void 0===Z?void 0:Z.value,scope:null===(b=this.scope)||void 0===b?void 0:b.value};this.serverService.AddDgrAcIdInfo(k).subscribe(function(){var w=(0,h.Z)(function*(C){if(t.toolService.checkDpSuccess(C.ResHeader)){const N=["message.create","message.success","message.user"],A=yield t.toolService.getDict(N);t.messageService.add({severity:"success",summary:`${A["message.create"]} ${A["message.user"]}`,detail:`${A["message.create"]} ${A["message.success"]}!`}),t.queryAcOauth(),t.changePage("query")}});return function(C){return w.apply(this,arguments)}}())}submitForm(){}initRequiredForm(){this.idpType.setValidators([_.np()]),this.clientId.setValidators([_.np()]),this.clientMima.setValidators([_.np()]),this.clientName.setValidators([_.np()]),this.idpWellKnownUrl.setValidators([_.np()]),this.callbackUrl.setValidators([_.np()]),this.clientStatus.setValidators([_.np()]),this.form.updateValueAndValidity()}initData(){var t,l,i,c,d,p,v,g,a,Z;null===(t=this.idpType)||void 0===t||t.setValue(""),null===(l=this.clientId)||void 0===l||l.setValue(""),null===(i=this.clientMima)||void 0===i||i.setValue(""),null===(c=this.clientName)||void 0===c||c.setValue(""),null===(d=this.idpWellKnownUrl)||void 0===d||d.setValue(""),null===(p=this.callbackUrl)||void 0===p||p.setValue(""),null===(v=this.clientStatus)||void 0===v||v.setValue(""),null===(g=this.authUrl)||void 0===g||g.setValue(""),null===(a=this.accessTokenUrl)||void 0===a||a.setValue(""),null===(Z=this.scope)||void 0===Z||Z.setValue("")}changePage(t,l){var i=this;return(0,h.Z)(function*(){var c,d,p;const g=yield i.toolService.getDict(["button.detail","button.delete","button.create","button.update"]);i.currentAction=t;const a=l;switch(i.resetFormValidator(i.form),i.initRequiredForm(),i.showPassword=!1,t){case"query":i.currentTitle=i.title,i.pageNum=1;break;case"create":i.initData(),i.currentTitle=`${i.title} > ${g["button.create"]}`,i.pageNum=4;break;case"update":i.updateId=null==l?void 0:l.id,i.pageNum=4,i.currentTitle=`${i.title} > ${g["button.update"]}`,i.idpType.setValue(null==a?void 0:a.idpType),i.clientName.setValue(null==a?void 0:a.clientName),i.clientId.setValue(null==a?void 0:a.clientId),i.clientMima.setValue(null==a?void 0:a.clientMima),i.idpWellKnownUrl.setValue(null==a?void 0:a.idpWellKnownUrl),i.callbackUrl.setValue(null==a?void 0:a.callbackUrl),i.clientStatus.setValue(null==a?void 0:a.clientStatus),null===(c=i.authUrl)||void 0===c||c.setValue(null==a?void 0:a.authUrl),null===(d=i.accessTokenUrl)||void 0===d||d.setValue(null==a?void 0:a.accessTokenUrl),null===(p=i.scope)||void 0===p||p.setValue(null==a?void 0:a.scope);break;case"detail":i.pageNum=2,i.currentTitle=`${i.title} > ${g["button.detail"]}`,i.userDetail=l;break;case"delete":i.updateId=null==l?void 0:l.id,i.pageNum=2,i.currentTitle=`${i.title} > ${g["button.delete"]}`,i.userDetail=l}})()}headerReturn(){this.changePage("query")}formateDate(t){return"Invalid Date"!=U(t).format("YYYY-MM-DD HH:mm:ss")?U(t).format("YYYY-MM-DD HH:mm:ss"):""}copyToClipboard(t){var l=this;t&&navigator.clipboard.writeText(t).then((0,h.Z)(function*(){const c=yield l.toolService.getDict(["copy","data","message.success"]);l.messageService.add({severity:"success",summary:`${c.copy} ${c.data}`,detail:`${c.copy} ${c["message.success"]}`})})).catch(i=>{})}togglePassword(){this.showPassword=!this.showPassword}maskAllWithDots(t="",l){return(null==t?void 0:t.length)?"\u25cf".repeat(l||t.length):""}get idpType(){return this.form.get("idpType")}get clientId(){return this.form.get("clientId")}get clientMima(){return this.form.get("clientMima")}get clientName(){return this.form.get("clientName")}get idpWellKnownUrl(){return this.form.get("idpWellKnownUrl")}get callbackUrl(){return this.form.get("callbackUrl")}get clientStatus(){return this.form.get("clientStatus")}get authUrl(){return this.form.get("authUrl")}get accessTokenUrl(){return this.form.get("accessTokenUrl")}get scope(){return this.form.get("scope")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(x.gz),e.Y36(T.W),e.Y36(s.qu),e.Y36(m.g),e.Y36(y.N),e.Y36(f.ez),e.Y36(f.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-ac0017"]],features:[e._Bn([f.YP]),e.qOj],decls:97,vars:48,consts:[[3,"title","isDefault","headerReturn"],[3,"hidden"],[1,"form-group","row"],[1,"col-12"],["type","button",1,"btn","tpi-btn","tpi-second","float-end",3,"click"],["selectionMode","single","responsiveLayout","scroll","styleClass","p-datatable-striped",3,"columns","value"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["pTemplate","emptymessage"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"col-6"],["for","clientId",1,"required","control-label"],["type","text","id","clientId","formControlName","clientId","placeholder","",1,"form-control"],["class","text-danger",4,"ngIf"],["for","clientName",1,"required","control-label"],["type","text","id","clientName","formControlName","clientName","placeholder","",1,"form-control"],["for","clientMima",1,"required","control-label"],[1,"ui-inputgroup"],["id","clientMima","formControlName","clientMima","placeholder","",1,"form-control",3,"type"],["pButton","","type","button",1,"ms-1","tpi-night",3,"icon","click"],["pButton","","type","button","icon","pi pi-copy",1,"ms-1","tpi-night",3,"pTooltip","click"],["for","idpType",1,"required","control-label"],["formControlName","idpType",3,"options","placeholder"],["for","clientStatus",1,"required","control-label"],[1,"p-form-check-line","form-group"],[1,"p-form-check"],["formControlName","clientStatus","value","Y","inputId","statusY"],["for","statusY",1,"ms-2","mb-0"],["formControlName","clientStatus","value","N","inputId","statusN"],["for","statusN",1,"ms-2","mb-0"],["for","callbackUrl",1,"required","control-label"],["type","text","id","callbackUrl","formControlName","callbackUrl","placeholder","",1,"form-control"],["for","idpWellKnownUrl",1,"required","control-label"],["type","text","id","idpWellKnownUrl","formControlName","idpWellKnownUrl","placeholder","",1,"form-control"],["for","authUrl",1,"control-label"],["type","text","id","authUrl","formControlName","authUrl","placeholder","",1,"form-control"],["for","accessTokenUrl",1,"control-label"],["type","text","id","accessTokenUrl","formControlName","accessTokenUrl","placeholder","",1,"form-control"],["for","scope",1,"control-label"],["type","text","id","scope","formControlName","scope","placeholder","",1,"form-control"],[1,"col-12","col-lg-12"],["type","button","class","btn tpi-btn tpi-primary float-start me-3",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","tpi-btn","tpi-primary","float-start",3,"click"],["position","top-left"],["icon","pi pi-exclamation-triangle","styleClass","cHeader cContent cIcon"],["cd",""],["rowspan","2","scope","col",2,"width","4%"],["rowspan","2","scope","col",2,"width","10%"],["rowspan","1","scope","col",2,"width","10%"],["rowspan","1","scope","col",2,"width","16%"],["rowspan","1","scope","col",2,"width","15%"],["rowspan","2","scope","col",2,"width","6%"],["rowspan","2","scope","col",2,"width","120px"],["rowspan","1","scope","col"],["rowspan","2",1,"text-center"],[2,"width","20px","height","20px",3,"alt","src"],["rowspan","2"],["rowspan","1"],["rowspan","2",2,"text-align","center","width","120px"],["pButton","","pRipple","","type","button","icon","pi pi-eye","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],["pButton","","pRipple","","type","button","icon","fa fa-edit","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],["pButton","","pRipple","","type","button","icon","fa fa-trash-alt","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],[2,"color","#b7b7b7"],["type","button","icon","",1,"btn","tpi-header-return",3,"click"],[1,"fas","fa-angle-double-right",2,"margin-left","5px"],["for",""],["type","text","readonly","",1,"form-control",3,"value"],["readonly","",1,"form-control",3,"type","value"],[1,"p-form-check-line"],["value","Y","disabled","",3,"ngModel"],[1,"ms-2","mb-0"],["value","N","disabled","",3,"ngModel"],["class","form-group row",4,"ngIf"],["type","button","class","btn tpi-btn tpi-primary float-start me-3",3,"click",4,"ngIf"],["type","button",1,"btn","tpi-btn","tpi-primary","float-start","me-3",3,"click"],[1,"text-danger"],[1,"form-text"],["type","button",1,"btn","tpi-btn","tpi-primary","float-start","me-3",3,"disabled","click"],[1,"row",2,"justify-content","center"],["type","button","pButton","","icon","pi pi-check",3,"ngStyle","label","click"],["type","button","pButton","","icon","pi pi-times",1,"p-button-secondary",3,"label","click"]],template:function(t,l){1&t&&(e.TgZ(0,"app-container",0),e.NdJ("headerReturn",function(){return l.headerReturn()}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return l.changePage("create")}),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"p-table",5),e.YNc(8,K,33,3,"ng-template",6),e.YNc(9,$,37,24,"ng-template",7),e.YNc(10,V,1,1,"ng-template",8),e.YNc(11,B,4,4,"ng-template",9),e.qZA()(),e.TgZ(12,"div",1),e.YNc(13,G,72,23,"div",10),e.qZA(),e.TgZ(14,"div",1)(15,"form",11),e.NdJ("ngSubmit",function(){return l.submitForm()}),e.TgZ(16,"div",2)(17,"div",12)(18,"label",13),e._uU(19,"IdP Client Id"),e.qZA(),e._UZ(20,"input",14),e.YNc(21,z,10,9,"div",15),e.qZA()(),e.TgZ(22,"div",2)(23,"div",12)(24,"label",16),e._uU(25,"IdP Client Name"),e.qZA(),e._UZ(26,"input",17),e.YNc(27,X,10,9,"div",15),e.qZA(),e.TgZ(28,"div",12)(29,"label",18),e._uU(30,"IdP Client Secret"),e.qZA(),e.TgZ(31,"div",19),e._UZ(32,"input",20),e.TgZ(33,"button",21),e.NdJ("click",function(){return l.togglePassword()}),e.qZA(),e.TgZ(34,"button",22),e.NdJ("click",function(){return l.copyToClipboard(l.clientMima.value)}),e.ALo(35,"translate"),e.qZA()(),e.YNc(36,ee,10,9,"div",15),e.qZA()(),e.TgZ(37,"div",2)(38,"div",12)(39,"label",23),e._uU(40,"Type"),e.qZA(),e._UZ(41,"p-dropdown",24),e.ALo(42,"translate"),e.YNc(43,te,10,9,"div",15),e.qZA(),e.TgZ(44,"div",12)(45,"label",25),e._uU(46,"Enable"),e.qZA(),e.TgZ(47,"div",26),e.ynx(48),e.TgZ(49,"div",27),e._UZ(50,"p-radioButton",28),e.TgZ(51,"label",29),e._uU(52,"Y"),e.qZA()(),e.TgZ(53,"div",27),e._UZ(54,"p-radioButton",30),e.TgZ(55,"label",31),e._uU(56,"N"),e.qZA()(),e.BQk(),e.qZA(),e.YNc(57,le,10,9,"div",15),e.qZA()(),e.TgZ(58,"div",2)(59,"div",12)(60,"label",32),e._uU(61,"dgR Callback URL"),e.qZA(),e._UZ(62,"input",33),e.YNc(63,ne,10,9,"div",15),e.qZA(),e.TgZ(64,"div",12)(65,"label",34),e._uU(66,"IdP Well Known URL"),e.qZA(),e._UZ(67,"input",35),e.YNc(68,ie,10,9,"div",15),e.qZA()(),e.TgZ(69,"div",2)(70,"div",12)(71,"label",36),e._uU(72,"IdP Auth URL"),e.qZA(),e._UZ(73,"input",37),e.YNc(74,oe,7,6,"div",15),e.qZA(),e.TgZ(75,"div",12)(76,"label",38),e._uU(77,"IdP Access Token URL"),e.qZA(),e._UZ(78,"input",39),e.YNc(79,ae,7,6,"div",15),e.qZA()(),e.TgZ(80,"div",2)(81,"div",12)(82,"label",40),e._uU(83,"IdP Scope"),e.qZA(),e._UZ(84,"input",41),e.YNc(85,re,7,6,"div",15),e.qZA()(),e.TgZ(86,"div",2)(87,"div",42),e.YNc(88,ce,3,4,"button",43),e.YNc(89,ue,3,4,"button",43),e.TgZ(90,"button",44),e.NdJ("click",function(){return l.changePage("query")}),e._uU(91),e.ALo(92,"translate"),e.qZA()()()()()(),e._UZ(93,"p-toast",45),e.TgZ(94,"p-confirmDialog",46,47),e.YNc(96,de,5,8,"ng-template",8),e.qZA()),2&t&&(e.Q6J("title",l.currentTitle)("isDefault",1==l.pageNum),e.xp6(1),e.Q6J("hidden",1!==l.pageNum),e.xp6(4),e.Oqu(e.lcZ(6,36,"button.create")),e.xp6(2),e.Akn(e.DdM(44,pe)),e.Q6J("columns",l.cols)("value",l.acAuthList),e.xp6(5),e.Q6J("hidden",2!==l.pageNum),e.xp6(1),e.Q6J("ngIf",l.userDetail),e.xp6(1),e.Q6J("hidden",4!==l.pageNum),e.xp6(1),e.Q6J("formGroup",l.form),e.xp6(6),e.Q6J("ngIf",(null==l.clientId?null:l.clientId.invalid)&&((null==l.clientId?null:l.clientId.dirty)||(null==l.clientId?null:l.clientId.touched))),e.xp6(6),e.Q6J("ngIf",(null==l.clientName?null:l.clientName.invalid)&&((null==l.clientName?null:l.clientName.dirty)||(null==l.clientName?null:l.clientName.touched))),e.xp6(5),e.Q6J("type",l.showPassword?"text":"password"),e.xp6(1),e.Q6J("icon",l.showPassword?"pi pi-eye-slash":"pi pi-eye"),e.xp6(1),e.Q6J("pTooltip",e.lcZ(35,38,"copy")),e.xp6(2),e.Q6J("ngIf",(null==l.clientMima?null:l.clientMima.invalid)&&((null==l.clientMima?null:l.clientMima.dirty)||(null==l.clientMima?null:l.clientMima.touched))),e.xp6(5),e.Akn(e.DdM(45,me)),e.s9C("placeholder",e.lcZ(42,40,"plz_chs")),e.Q6J("options",l.idpTypeList),e.xp6(2),e.Q6J("ngIf",(null==l.idpType?null:l.idpType.invalid)&&((null==l.idpType?null:l.idpType.dirty)||(null==l.idpType?null:l.idpType.touched))),e.xp6(14),e.Q6J("ngIf",(null==l.clientStatus?null:l.clientStatus.invalid)&&((null==l.clientStatus?null:l.clientStatus.dirty)||(null==l.clientStatus?null:l.clientStatus.touched))),e.xp6(6),e.Q6J("ngIf",(null==l.callbackUrl?null:l.callbackUrl.invalid)&&((null==l.callbackUrl?null:l.callbackUrl.dirty)||(null==l.callbackUrl?null:l.callbackUrl.touched))),e.xp6(5),e.Q6J("ngIf",(null==l.idpWellKnownUrl?null:l.idpWellKnownUrl.invalid)&&((null==l.idpWellKnownUrl?null:l.idpWellKnownUrl.dirty)||(null==l.idpWellKnownUrl?null:l.idpWellKnownUrl.touched))),e.xp6(6),e.Q6J("ngIf",(null==l.authUrl?null:l.authUrl.invalid)&&((null==l.authUrl?null:l.authUrl.dirty)||(null==l.authUrl?null:l.authUrl.touched))),e.xp6(5),e.Q6J("ngIf",(null==l.accessTokenUrl?null:l.accessTokenUrl.invalid)&&((null==l.accessTokenUrl?null:l.accessTokenUrl.dirty)||(null==l.accessTokenUrl?null:l.accessTokenUrl.touched))),e.xp6(6),e.Q6J("ngIf",(null==l.scope?null:l.scope.invalid)&&((null==l.scope?null:l.scope.dirty)||(null==l.scope?null:l.scope.touched))),e.xp6(3),e.Q6J("ngIf","create"==l.currentAction),e.xp6(1),e.Q6J("ngIf","update"==l.currentAction),e.xp6(2),e.Oqu(e.lcZ(92,42,"button.return_to_list")),e.xp6(2),e.Akn(e.DdM(46,_e)),e.xp6(1),e.Akn(e.DdM(47,ge)))},directives:[S.e,J.iA,f.jx,M.Hq,L.u,o.O5,Q.EU,s.JJ,s.On,s._Y,s.JL,s.sg,s.Fj,s.u,P.Lt,Y.FN,R.Q,o.PC],pipes:[W.X$],styles:[""]}),n})();var D=r(86347);const Ze=[{path:"",component:ve,canActivate:[D.u6]}];let he=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[x.Bz.forChild(Ze)],x.Bz]}),n})();var Ae=r(78555),fe=r(31890);let Ue=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[D.u6],imports:[[o.ez,he,Ae.W,fe.m,s.UX,s.u5]]}),n})()},63710:(O,q,r)=>{r.d(q,{e:()=>U});var o=r(87587),x=r(69808),h=r(51062);function I(e,T){if(1&e&&(o.TgZ(0,"div")(1,"h3",9),o._uU(2),o.ALo(3,"translate"),o.qZA()()),2&e){const m=o.oxw();o.xp6(2),o.Oqu(o.lcZ(3,1,m.title))}}function s(e,T){if(1&e){const m=o.EpF();o.TgZ(0,"div",10)(1,"button",11),o.NdJ("click",function(){return o.CHM(m),o.oxw().return()}),o._UZ(2,"i",12),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.TgZ(5,"span",13),o._uU(6),o.qZA(),o.TgZ(7,"span",14),o._uU(8),o.qZA()()}if(2&e){const m=o.oxw();o.xp6(3),o.hij(" ",o.lcZ(4,3,"button.return_to_list")," "),o.xp6(3),o.hij("",m.getHead()," /"),o.xp6(2),o.Oqu(m.getTail())}}const _=[[["","center-view","center"]],"*"],f=["[center-view=center]","*"];let U=(()=>{class e{constructor(){this.title="",this.isDefault=!0,this.headerReturn=new o.vpe}ngOnInit(){}return(){this.headerReturn.emit(null)}getHead(){const m=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return m.pop(),m.join(" / ")}getTail(){const m=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return m[m.length-1]}}return e.\u0275fac=function(m){return new(m||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-container"]],inputs:{title:"title",isDefault:"isDefault"},outputs:{headerReturn:"headerReturn"},ngContentSelectors:f,decls:11,vars:2,consts:[[1,"container-fluid","h-100"],[1,"row","position-relative",2,"height","calc(100% - 40px - 0.5rem)"],[1,"col"],[2,"margin-bottom","0.5rem"],[4,"ngIf"],["style","text-align: right",4,"ngIf"],[1,"col","d-flex","justify-content-center"],[1,"my-0","mb-2"],[1,"p-2"],["id","content",1,"page-title"],[2,"text-align","right"],["type","button","icon","",1,"btn","float-start","tpi-header-return",3,"click"],[1,"fas","fa-arrow-left",2,"margin-right","5px"],[1,"mb-0",2,"font-size","0.8rem","color","#666464"],[1,"mb-0",2,"font-size","0.8rem","color","#ff6e38","font-weight","bold"]],template:function(m,y){1&m&&(o.F$t(_),o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o.YNc(4,I,4,3,"div",4),o.YNc(5,s,9,5,"div",5),o.TgZ(6,"div",6),o.Hsn(7),o.qZA()(),o._UZ(8,"hr",7),o.Hsn(9,1),o._UZ(10,"div",8),o.qZA()()()),2&m&&(o.xp6(4),o.Q6J("ngIf",y.isDefault),o.xp6(1),o.Q6J("ngIf",!y.isDefault))},directives:[x.O5],pipes:[h.X$],styles:[".card.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:400;color:#5a5541}"]}),e})()},86347:(O,q,r)=>{r.d(q,{DL:()=>o.D,u6:()=>h.u});var o=r(81233),h=(r(45240),r(92718));r(4516)}}]);