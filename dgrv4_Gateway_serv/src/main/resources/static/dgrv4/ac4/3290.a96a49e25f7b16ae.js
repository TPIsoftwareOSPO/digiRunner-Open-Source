"use strict";(self.webpackChunksrcAngular=self.webpackChunksrcAngular||[]).push([[3290],{3290:(it,k,p)=>{p.r(k),p.d(k,{Ac0319Module:()=>tt});var f=p(69808),T=p(99291),N=p(86347),d=p(15861),M=p(14525),g=p(59783),h=p(58348),x=p(71764),e=p(87587),y=p(4516),L=p(41313),b=p(45330),D=p(18872),Z=p(23099),A=p(51062);function O(i,l){1&i&&(e.TgZ(0,"tr")(1,"th",8),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th"),e._uU(4),e.ALo(5,"translate"),e.qZA()()),2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"label_list")))}function Y(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",9),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&i){const t=l.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(2),e.Oqu(t)}}function I(i,l){1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(1),e.uIk("colspan",6),e.xp6(1),e.hij(" ",e.lcZ(3,2,"no_rec")," "))}const H=function(){return{width:"100%",height:"70vh"}},Q=function(){return{"word-break":"break-word"}};let B=(()=>{class i{constructor(t,n,a,o,c){this.apiService=t,this.toolService=n,this.serverService=a,this.ref=o,this.config=c,this.selected=[],this.tableData=[]}ngOnInit(){this.apiService.queryAllLabel_ignore1298().subscribe(t=>{this.toolService.checkDpSuccess(t.ResHeader)&&(this.tableData=t.RespBody.labelList)})}chooseRole(){this.ref.close(this.selected)}cancelRole(){this.ref.close(void 0)}formateDate(t){if(!t)return"";const n=Number(t);return"Invalid Date"!=x(n).format("YYYY-MM-DD HH:mm:ss")?x(n).format("YYYY-MM-DD HH:mm:ss"):""}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h.s),e.Y36(y.g),e.Y36(L.N),e.Y36(b.E7),e.Y36(b.S))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-label-list"]],features:[e._Bn([h.s])],decls:14,vars:15,consts:[[1,"py-1"],["styleClass","p-datatable-striped","responsiveLayout","scroll",3,"value","selection","selectionChange"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"text-center"],["type","button",1,"btn","tpi-btn","tpi-primary","me-3",3,"disabled","click"],["type","button",1,"btn","tpi-btn","tpi-cancel",3,"click"],[2,"width","2.25em"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"p-scrollPanel")(2,"p-table",1),e.NdJ("selectionChange",function(o){return n.selected=o}),e.YNc(3,O,6,3,"ng-template",2),e.YNc(4,Y,5,2,"ng-template",3),e.YNc(5,I,4,4,"ng-template",4),e.qZA()(),e._UZ(6,"br"),e.TgZ(7,"div",5)(8,"button",6),e.NdJ("click",function(){return n.chooseRole()}),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"button",7),e.NdJ("click",function(){return n.cancelRole()}),e._uU(12),e.ALo(13,"translate"),e.qZA()()()),2&t&&(e.xp6(1),e.Akn(e.DdM(13,H)),e.xp6(1),e.Akn(e.DdM(14,Q)),e.Q6J("value",n.tableData)("selection",n.selected),e.xp6(6),e.Q6J("disabled",0==n.tableData.length),e.xp6(1),e.hij(" ",e.lcZ(10,9,"button.confirm")," "),e.xp6(3),e.hij(" ",e.lcZ(13,11,"button.cancel")," "))},directives:[D.P,Z.iA,g.jx,Z.Mo,Z.UA],pipes:[A.X$],styles:[""]}),i})();function F(i,l){1&i&&(e.TgZ(0,"tr"),e._UZ(1,"th",8),e.TgZ(2,"th"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"target_site")))}function j(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableRadioButton",9),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&i){const t=l.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(2),e.Oqu(t)}}function $(i,l){1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(1),e.uIk("colspan",6),e.xp6(1),e.hij(" ",e.lcZ(3,2,"no_rec")," "))}const E=function(){return{width:"100%",height:"70vh"}},X=function(){return{"word-break":"break-word"}};let K=(()=>{class i{constructor(t,n,a,o,c){this.apiService=t,this.toolService=n,this.serverService=a,this.ref=o,this.config=c,this.selected=[],this.tableData=[]}ngOnInit(){this.apiService.queryAllTargetSitList().subscribe(t=>{this.toolService.checkDpSuccess(t.ResHeader)&&(this.tableData=t.RespBody.targetSiteList)})}chooseRole(){this.ref.close(this.selected)}cancelRole(){this.ref.close(void 0)}formateDate(t){if(!t)return"";const n=Number(t);return"Invalid Date"!=x(n).format("YYYY-MM-DD HH:mm:ss")?x(n).format("YYYY-MM-DD HH:mm:ss"):""}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h.s),e.Y36(y.g),e.Y36(L.N),e.Y36(b.E7),e.Y36(b.S))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-target-site-list"]],features:[e._Bn([h.s])],decls:14,vars:15,consts:[[1,"py-1"],["styleClass","p-datatable-striped","responsiveLayout","scroll",3,"value","selection","selectionChange"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"text-center"],["type","button",1,"btn","tpi-btn","tpi-primary","me-3",3,"disabled","click"],["type","button",1,"btn","tpi-btn","tpi-cancel",3,"click"],[2,"width","2.25em"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"p-scrollPanel")(2,"p-table",1),e.NdJ("selectionChange",function(o){return n.selected=o}),e.YNc(3,F,5,3,"ng-template",2),e.YNc(4,j,5,2,"ng-template",3),e.YNc(5,$,4,4,"ng-template",4),e.qZA()(),e._UZ(6,"br"),e.TgZ(7,"div",5)(8,"button",6),e.NdJ("click",function(){return n.chooseRole()}),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"button",7),e.NdJ("click",function(){return n.cancelRole()}),e._uU(12),e.ALo(13,"translate"),e.qZA()()()),2&t&&(e.xp6(1),e.Akn(e.DdM(13,E)),e.xp6(1),e.Akn(e.DdM(14,X)),e.Q6J("value",n.tableData)("selection",n.selected),e.xp6(6),e.Q6J("disabled",0==(null==n.tableData?null:n.tableData.length)),e.xp6(1),e.hij(" ",e.lcZ(10,9,"button.confirm")," "),e.xp6(3),e.hij(" ",e.lcZ(13,11,"button.cancel")," "))},directives:[D.P,Z.iA,g.jx,Z.GE],pipes:[A.X$],styles:[""]}),i})();var r=p(93075),C=p(4119),P=p(42939),U=p(19114),q=p(40845);const G=function(){return{value:20}};function z(i,l){1&i&&(e.TgZ(0,"div",14)(1,"small",15),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.xi3(3,1,"validation.maxlength",e.DdM(4,G))))}const V=function(){return{backgroundColor:"var(--red-300)","border-color":"var(--red-300)"}};function W(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",16)(1,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(27).accept()}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",18),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(27).reject()}),e.ALo(4,"translate"),e.qZA()()}2&i&&(e.xp6(1),e.s9C("label",e.lcZ(2,3,"button.confirm")),e.Q6J("ngStyle",e.DdM(7,V)),e.xp6(2),e.s9C("label",e.lcZ(4,5,"button.cancel")))}const ee=function(){return{value:5}},te=function(){return{width:"50vw"}};let ie=(()=>{class i{constructor(t,n,a,o,c,u,s){this.apiService=t,this.toolService=n,this.serverService=a,this.ref=o,this.config=c,this.fb=u,this.confirmationService=s,this.selected=[],this.showLabelList_tip=!1}ngOnInit(){var t,n,a,o;this.selected=(null===(n=null===(t=this.config)||void 0===t?void 0:t.data)||void 0===n?void 0:n.data)?null===(o=null===(a=this.config)||void 0===a?void 0:a.data)||void 0===o?void 0:o.data:[],this.form=this.fb.group({labelList:new r.NI([])}),this.labelList.valueChanges.subscribe(c=>{this.labelList.setValue(Array.isArray(c)?c.map(u=>u.toLowerCase()):[],{emitEvent:!1})})}checkChips(t){var n=this;return(0,d.Z)(function*(){t.value.length>20?(n.labelList.value.pop(),n.showLabelList_tip=!0):n.showLabelList_tip=!1})()}chooseRole(){var t=this;return(0,d.Z)(function*(){const a=yield t.toolService.getDict(["cfm_reset_label"]);t.confirmationService.confirm({header:" ",message:`${a.cfm_reset_label}`,accept:()=>{t.ref.close(t.labelList.value)}})})()}cancelRole(){this.ref.close(null)}get labelList(){return this.form.get("labelList")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h.s),e.Y36(y.g),e.Y36(L.N),e.Y36(b.E7),e.Y36(b.S),e.Y36(r.qu),e.Y36(g.YP))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-label-reset"]],features:[e._Bn([h.s,g.YP])],decls:29,vars:29,consts:[[1,"py-1"],[1,"form-group","row"],[1,"col-12"],[1,"control-label"],[3,"formGroup"],[1,"far","fa-question-circle","ms-2",3,"pTooltip","escape"],["id","labelList","formControlName","labelList",3,"max","allowDuplicate","placeholder","onAdd"],["class","text-danger",4,"ngIf"],[1,"text-center"],["type","button",1,"btn","tpi-btn","tpi-primary","me-3",3,"click"],["type","button",1,"btn","tpi-btn","tpi-cancel",3,"click"],["icon","pi pi-exclamation-triangle","styleClass","cHeader cContent cIcon"],["cd",""],["pTemplate","footer"],[1,"text-danger"],[1,"form-text"],[1,"row",2,"justify-content","center"],["type","button","pButton","","icon","pi pi-check",3,"ngStyle","label","click"],["type","button","pButton","","icon","pi pi-times",1,"p-button-secondary",3,"label","click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),e._uU(4),e.ALo(5,"translate"),e.qZA()()(),e.TgZ(6,"form",4)(7,"div",1)(8,"div",2)(9,"label",3),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"i",5),e.ALo(13,"translate"),e.TgZ(14,"div")(15,"p-chips",6),e.NdJ("onAdd",function(o){return n.checkChips(o)}),e.ALo(16,"translate"),e.qZA(),e.YNc(17,z,4,5,"div",7),e.qZA()()()(),e._UZ(18,"br"),e.TgZ(19,"div",8)(20,"button",9),e.NdJ("click",function(){return n.chooseRole()}),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"button",10),e.NdJ("click",function(){return n.cancelRole()}),e._uU(24),e.ALo(25,"translate"),e.qZA()()(),e.TgZ(26,"p-confirmDialog",11,12),e.YNc(28,W,5,8,"ng-template",13),e.qZA()),2&t&&(e.xp6(4),e.AsE("",e.lcZ(5,14,"selected_api_count"),": ",n.selected.length,""),e.xp6(2),e.Q6J("formGroup",n.form),e.xp6(4),e.Oqu(e.lcZ(11,16,"label_tag")),e.xp6(2),e.s9C("pTooltip",e.lcZ(13,18,"label_reset_tip")),e.Q6J("escape",!1),e.xp6(3),e.Q6J("max",5)("allowDuplicate",!1)("placeholder",e.xi3(16,20,"label_tag_max",e.DdM(27,ee))),e.xp6(2),e.Q6J("ngIf",n.showLabelList_tip),e.xp6(4),e.hij(" ",e.lcZ(22,23,"button.confirm")," "),e.xp6(3),e.hij(" ",e.lcZ(25,25,"button.cancel")," "),e.xp6(2),e.Akn(e.DdM(28,te)))},directives:[r._Y,r.JL,r.sg,C.u,P.cL,r.JJ,r.u,f.O5,U.Q,g.jx,q.Hq,f.PC],pipes:[A.X$],styles:[""]}),i})();var ne=p(49603);const ae=function(){return{backgroundColor:"var(--red-300)","border-color":"var(--red-300)"}};function le(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",22)(1,"button",23),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(46).accept()}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",24),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(46).reject()}),e.ALo(4,"translate"),e.qZA()()}2&i&&(e.xp6(1),e.s9C("label",e.lcZ(2,3,"button.confirm")),e.Q6J("ngStyle",e.DdM(7,ae)),e.xp6(2),e.s9C("label",e.lcZ(4,5,"button.cancel")))}const oe=function(){return{width:"50vw"}};let ce=(()=>{class i{constructor(t,n,a,o,c){this.ref=t,this.config=n,this.fb=a,this.confirmationService=o,this.toolService=c,this.selected=[]}ngOnInit(){var t,n,a,o;this.selected=(null===(n=null===(t=this.config)||void 0===t?void 0:t.data)||void 0===n?void 0:n.data)?null===(o=null===(a=this.config)||void 0===a?void 0:a.data)||void 0===o?void 0:o.data:[],this.form=this.fb.group({failDiscoveryPolicy:new r.NI("0"),failHandlePolicy:new r.NI("0")})}chooseRole(){var t=this;return(0,d.Z)(function*(){const a=yield t.toolService.getDict(["fail_handle_policy.reset","fail_handle_policy.cfm_reset"]);t.confirmationService.confirm({header:a["fail_handle_policy.reset"],message:a["fail_handle_policy.cfm_reset"],accept:()=>{let o={apiList:t.selected.map(c=>({apiKey:c.apiKey,moduleName:c.moduleName})),failDiscoveryPolicy:t.form.get("failDiscoveryPolicy").value,failHandlePolicy:t.form.get("failHandlePolicy").value};t.ref.close(o)}})})()}cancelRole(){this.ref.close(null)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(b.E7),e.Y36(b.S),e.Y36(r.qu),e.Y36(g.YP),e.Y36(y.g))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-fail-handle-policy"]],features:[e._Bn([g.YP])],decls:48,vars:37,consts:[[1,"form-group"],[1,"col","px-0"],[1,"control-label"],[3,"formGroup"],[1,"form-group","row"],[1,"col-12"],[1,"control-label","required"],[1,"far","fa-question-circle","ms-2",3,"pTooltip","escape"],[1,"col-12","form-group"],[1,"p-form-check","mb-2"],["formControlName","failDiscoveryPolicy","value","0","inputId","failDiscoveryPolicy0"],["for","failDiscoveryPolicy0",1,"ms-2","mb-0"],["formControlName","failHandlePolicy","value","0","inputId","failHandlePolicy0"],["for","failHandlePolicy0",1,"ms-2","mb-0"],["formControlName","failHandlePolicy","value","1","inputId","failHandlePolicy1"],["for","failHandlePolicy1",1,"ms-2","mb-0"],[1,"text-center"],["type","button",1,"btn","tpi-btn","tpi-primary","me-3",3,"click"],["type","button",1,"btn","tpi-btn","tpi-cancel",3,"click"],["icon","pi pi-exclamation-triangle","styleClass","cHeader cContent cIcon"],["cd",""],["pTemplate","footer"],[1,"row",2,"justify-content","center"],["type","button","pButton","","icon","pi pi-check",3,"ngStyle","label","click"],["type","button","pButton","","icon","pi pi-times",1,"p-button-secondary",3,"label","click"]],template:function(t,n){1&t&&(e.TgZ(0,"div")(1,"div",0)(2,"div",1)(3,"label",2),e._uU(4),e.ALo(5,"translate"),e.qZA()()(),e.TgZ(6,"form",3)(7,"div",4)(8,"div",5)(9,"label",6),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"i",7),e.ALo(13,"translate"),e.TgZ(14,"div",8)(15,"div",9),e._UZ(16,"p-radioButton",10),e.TgZ(17,"label",11),e._uU(18),e.ALo(19,"translate"),e.qZA()()()()(),e.TgZ(20,"div",4)(21,"div",5)(22,"label",6),e._uU(23),e.ALo(24,"translate"),e.qZA(),e._UZ(25,"i",7),e.ALo(26,"translate"),e.TgZ(27,"div",8)(28,"div",9),e._UZ(29,"p-radioButton",12),e.TgZ(30,"label",13),e._uU(31),e.ALo(32,"translate"),e.qZA()(),e.TgZ(33,"div",9),e._UZ(34,"p-radioButton",14),e.TgZ(35,"label",15),e._uU(36),e.ALo(37,"translate"),e.qZA()()()()()(),e.TgZ(38,"div",16)(39,"button",17),e.NdJ("click",function(){return n.chooseRole()}),e._uU(40),e.ALo(41,"translate"),e.qZA(),e.TgZ(42,"button",18),e.NdJ("click",function(){return n.cancelRole()}),e._uU(43),e.ALo(44,"translate"),e.qZA()()(),e.TgZ(45,"p-confirmDialog",19,20),e.YNc(47,le,5,8,"ng-template",21),e.qZA()),2&t&&(e.xp6(4),e.AsE("",e.lcZ(5,16,"selected_api_count"),": ",n.selected.length,""),e.xp6(2),e.Q6J("formGroup",n.form),e.xp6(4),e.Oqu(e.lcZ(11,18,"fail_discovery_policy.label")),e.xp6(2),e.s9C("pTooltip",e.lcZ(13,20,"fail_discovery_policy.tip")),e.Q6J("escape",!1),e.xp6(6),e.hij(" ",e.lcZ(19,22,"fail_discovery_policy.policy_0"),""),e.xp6(5),e.Oqu(e.lcZ(24,24,"fail_handle_policy.label")),e.xp6(2),e.s9C("pTooltip",e.lcZ(26,26,"fail_handle_policy.tip")),e.Q6J("escape",!1),e.xp6(6),e.Oqu(e.lcZ(32,28,"fail_handle_policy.policy_0")),e.xp6(5),e.hij("Policy 1: ",e.lcZ(37,30,"fail_handle_policy.policy_1"),""),e.xp6(4),e.hij(" ",e.lcZ(41,32,"button.confirm")," "),e.xp6(3),e.hij(" ",e.lcZ(44,34,"button.cancel")," "),e.xp6(2),e.Akn(e.DdM(36,oe)))},directives:[r._Y,r.JL,r.sg,C.u,ne.EU,r.JJ,r.u,U.Q,g.jx,q.Hq,f.PC],pipes:[A.X$],styles:[""]}),i})();var re=p(56435),se=p(38441),pe=p(63710),ue=p(97582),J=p(61208);function _e(i,l){1&i&&(e.TgZ(0,"small",17),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"equal100")))}const S=function(){return{display:"flex",width:"100%","align-items":"center"}};let de=(()=>{class i{constructor(t){this.fb=t,this.beyoungRange=!1,this.change=new e.vpe,this.remove=new e.vpe}ngOnInit(){var t,n;this.form=this.fb.group({srcUrl:new r.NI(""),isPercentage:new r.NI(!1),percentage:new r.NI({value:0,disabled:!0}),isReplace:new r.NI(!1),replaceString:new r.NI({value:"",disabled:!0})}),this.form.valueChanges.subscribe(a=>{let o=Object.assign(Object.assign({},a),{no:this.no});this.change.emit(o)}),null===(t=this.isPercentage)||void 0===t||t.valueChanges.subscribe(a=>{var o,c;a?null===(o=this.percentage)||void 0===o||o.enable():null===(c=this.percentage)||void 0===c||c.disable()}),null===(n=this.isReplace)||void 0===n||n.valueChanges.subscribe(a=>{var o,c;a?null===(o=this.replaceString)||void 0===o||o.enable():null===(c=this.replaceString)||void 0===c||c.disable()})}deleteItem(){this.ref.destroy(),this.remove.emit(this.no)}get srcUrl(){return this.form.get("srcUrl")}get isPercentage(){return this.form.get("isPercentage")}get percentage(){return this.form.get("percentage")}get isReplace(){return this.form.get("isReplace")}get replaceString(){return this.form.get("replaceString")}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-api-url-setting-detail"]],inputs:{data:"data",ref:"ref",no:"no",beyoungRange:"beyoungRange"},outputs:{change:"change",remove:"remove"},decls:28,vars:35,consts:[[1,"form-group",2,"background","#eee",3,"formGroup"],[1,"col-12"],[1,"col-12","p-2"],[1,"form-group","d-flex"],[1,"col-12","mt-2"],[1,"control-label","required",3,"id","for"],[1,"far","fa-question-circle","ms-2",3,"pTooltip","escape"],["type","text","formControlName","srcUrl","placeholder","",1,"form-control",3,"id"],[1,"form-group","row"],["formControlName","isPercentage",1,"me-1",3,"binary"],[1,"control-label","mb-0",2,"width","120px",3,"id","for"],["type","number","formControlName","percentage","placeholder","","min","0","max","100","onkeyup","this.value=Math.round(this.value)","onafterpaste","this.value=Math.round(this.value)","pattern","[0-9]",1,"form-control",2,"width","100px",3,"id"],["class","form-text text-danger ms-2",4,"ngIf"],["formControlName","isReplace",1,"me-1",3,"binary"],["type","text","formControlName","replaceString","placeholder","",1,"form-control","col",3,"id"],["type","button",1,"btn","tpi-primary","ms-1",2,"border-radius","50%",3,"click"],[1,"fa","fa-minus"],[1,"form-text","text-danger","ms-2"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"label",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e._UZ(8,"i",6),e.ALo(9,"translate"),e._UZ(10,"input",7),e.qZA()(),e.TgZ(11,"div",8)(12,"div",1),e._UZ(13,"p-checkbox",9),e.TgZ(14,"label",10),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",11),e.YNc(18,_e,3,3,"small",12),e.qZA()(),e.TgZ(19,"div",8)(20,"div",1),e._UZ(21,"p-checkbox",13),e.TgZ(22,"label",10),e._uU(23),e.ALo(24,"translate"),e.qZA(),e._UZ(25,"input",14),e.qZA()()(),e.TgZ(26,"button",15),e.NdJ("click",function(){return n.deleteItem()}),e._UZ(27,"i",16),e.qZA()()()),2&t&&(e.Q6J("formGroup",n.form),e.xp6(1),e.Akn(e.DdM(32,S)),e.xp6(4),e.Q6J("id","srcUrl_label"+n.no)("for","srcUrl"+n.no),e.xp6(1),e.Oqu(e.lcZ(7,24,"search_replace_target")),e.xp6(2),e.s9C("pTooltip",e.lcZ(9,26,"api_url_setting_tip")),e.Q6J("escape",!1),e.xp6(2),e.Q6J("id","srcUrl"+n.no),e.xp6(2),e.Akn(e.DdM(33,S)),e.xp6(1),e.Q6J("binary",!0),e.xp6(1),e.Q6J("id","percentage_label"+n.no)("for","percentage"+n.no),e.xp6(1),e.Oqu(e.lcZ(16,28,"percentage")),e.xp6(2),e.Q6J("id","percentage"+n.no),e.xp6(1),e.Q6J("ngIf",n.beyoungRange),e.xp6(2),e.Akn(e.DdM(34,S)),e.xp6(1),e.Q6J("binary",!0),e.xp6(1),e.Q6J("id","replaceString_label"+n.no)("for","replaceString"+n.no),e.xp6(1),e.Oqu(e.lcZ(24,30,"replace_string")),e.xp6(2),e.Q6J("id","replaceString"+n.no))},directives:[r.JL,r.sg,C.u,r.Fj,r.JJ,r.u,J.XZ,r.wV,r.qQ,r.Fd,r.c5,f.O5],pipes:[A.X$],styles:[""]}),i})();const ge=["apiUrlSetting"];function me(i,l){}let fe=(()=>{class i{constructor(){this.no=0,this.srcUrlList=[],this.cpRefList=[],this.beyoungRange=!1,this.srcUrlInvalid=!1,this.procData=[],this.changePage=new e.vpe,this.procPreviewPage=new e.vpe}ngOnInit(){this.addRow()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}writeValue(t){}addRow(){let t=this.apiUrlSettingRef.createComponent(de);this.srcUrlList.push({srcUrl:"",isPercentage:!1,isReplace:!1,no:this.no}),t.instance.ref=t,t.instance.no=this.no,t.instance.data=this.srcUrlList[this.no],this.cpRefList.push(t),this.no++,this.srcUrlInvalid=this.cpRefList.some(a=>""==a.instance.data.srcUrl),this.beyoungRange=!0,t.instance.change.subscribe(a=>{const o=this.srcUrlList.find(c=>c.no===a.no);if(o){o.srcUrl=a.srcUrl,o.isPercentage=a.isPercentage,o.percentage=a.percentage,o.isReplace=a.isReplace,o.replaceString=a.replaceString;const c=this.srcUrlList.filter(u=>u.srcUrl==o.srcUrl);if(c){let u=0;c.forEach(s=>{s.isPercentage&&s.percentage&&(u+=s.percentage)}),this.cpRefList.forEach(s=>{s.instance.srcUrl.value==o.srcUrl&&(s.instance.beyoungRange=u>100)}),this.beyoungRange=this.cpRefList.some(s=>1==s.instance.beyoungRange),this.srcUrlInvalid=this.cpRefList.some(s=>""==s.instance.data.srcUrl)}}}),t.instance.remove.subscribe(a=>{let o=this.srcUrlList.findIndex(s=>s.no===a);const c=this.srcUrlList[o].srcUrl;this.srcUrlList.splice(o,1),this.cpRefList.splice(o,1);const u=this.srcUrlList.filter(s=>s.srcUrl==c);if(u){let s=0;u.forEach(_=>{_.isPercentage&&_.percentage&&(s+=_.percentage)}),this.cpRefList.forEach(_=>{_.instance.srcUrl.value==c&&(_.instance.beyoungRange=s>100)}),this.beyoungRange=this.cpRefList.some(_=>1==_.instance.beyoungRange),this.srcUrlInvalid=this.cpRefList.some(_=>""==_.instance.data.srcUrl)}0==this.srcUrlList.length&&(this.no=0,this.addRow())})}proc_temporaryByModifyBatch(){let t={apiList:this.procData.map(n=>({apiKey:n.apiKey,moduleName:n.moduleName})),srcUrlList:this.srcUrlList.map(n=>(0,ue._T)(n,["no"]))};this.procPreviewPage.emit(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-api-url-setting"]],viewQuery:function(t,n){if(1&t&&e.Gf(ge,7,e.s_b),2&t){let a;e.iGM(a=e.CRH())&&(n.apiUrlSettingRef=a.first)}},inputs:{procData:"procData"},outputs:{changePage:"changePage",procPreviewPage:"procPreviewPage"},features:[e._Bn([{provide:r.JU,useExisting:(0,e.Gpc)(()=>i),multi:!0}])],decls:15,vars:7,consts:[["content",""],[1,"col-12","pe-4"],["apiUrlSetting",""],["type","button",1,"btn","tpi-second",2,"border-radius","50%",3,"click"],[1,"fa","fa-plus"],[1,"form-group","row","mt-2"],[1,"col-12"],["type","button",1,"btn","tpi-btn","tpi-second","me-2",3,"disabled","click"],["type","button",1,"btn","tpi-btn","tpi-primary",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",null,0)(2,"div",1),e.YNc(3,me,0,0,"ng-template",null,2,e.W1O),e.TgZ(5,"button",3),e.NdJ("click",function(){return n.addRow()}),e._UZ(6,"i",4),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"button",7),e.NdJ("click",function(){return n.proc_temporaryByModifyBatch()}),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"button",8),e.NdJ("click",function(){return n.changePage.emit("query")}),e._uU(13),e.ALo(14,"translate"),e.qZA()()()()),2&t&&(e.xp6(9),e.Q6J("disabled",n.beyoungRange||n.srcUrlInvalid),e.xp6(1),e.hij(" ",e.lcZ(11,3,"button.preview")," "),e.xp6(3),e.hij(" ",e.lcZ(14,5,"button.return_to_list")," "))},pipes:[A.X$],styles:[""]}),i})();var he=p(17773),be=p(15315);function ve(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",19)(1,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateAPIStatus("enable")}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateAPIStatus("disable")}),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw().batchNoOauthModify(!0)}),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw().batchNoOauthModify(!1)}),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw().labelReset()}),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"button",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().changePage("api_url_setting")}),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"button",22),e.NdJ("click",function(){return e.CHM(t),e.oxw().resetHandlePolicyProc()}),e.ALo(20,"translate"),e._uU(21),e.ALo(22,"translate"),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("disabled",0==t.selected.length),e.xp6(1),e.hij(" ",e.lcZ(3,15,"button.enable")," "),e.xp6(2),e.Q6J("disabled",0==t.selected.length),e.xp6(1),e.hij(" ",e.lcZ(6,17,"button.disable")," "),e.xp6(2),e.Q6J("disabled",0==t.selected.length),e.xp6(1),e.hij(" ",e.lcZ(9,19,"noauth.active")," "),e.xp6(2),e.Q6J("disabled",0==t.selected.length),e.xp6(1),e.hij(" ",e.lcZ(12,21,"noauth.inactive")," "),e.xp6(2),e.Q6J("disabled",0==t.selected.length),e.xp6(1),e.hij(" ",e.lcZ(15,23,"button.label_reset")," "),e.xp6(2),e.Q6J("disabled",0==t.selected.length),e.xp6(1),e.Oqu(e.lcZ(18,25,"api_url_setting")),e.xp6(2),e.s9C("title",e.lcZ(20,27,"fail_handle_policy.reset")),e.Q6J("disabled",0==t.selected.length),e.xp6(2),e.hij(" ",e.lcZ(22,29,"fail_handle_policy.reset")," ")}}function Ze(i,l){1&i&&(e.TgZ(0,"tr",23)(1,"th",24),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",25),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"API ID"),e.qZA(),e.TgZ(8,"th"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"th"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.TgZ(14,"th",26),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"th",27),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"th"),e._uU(21),e.ALo(22,"translate"),e.qZA()()),2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,6,"status")),e.xp6(5),e.Oqu(e.lcZ(10,8,"module_name")),e.xp6(3),e.Oqu(e.lcZ(13,10,"api_name")),e.xp6(3),e.Oqu(e.lcZ(16,12,"No Auth")),e.xp6(3),e.Oqu(e.lcZ(19,14,"srcUrl")),e.xp6(3),e.Oqu(e.lcZ(22,16,"label_tag")))}function Ae(i,l){1&i&&e._UZ(0,"i",32)}function ye(i,l){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij("[",t.ip,"]")}}const xe=function(i){return{"ms-4":i}};function Te(i,l){if(1&i&&(e.TgZ(0,"div")(1,"span",33),e._uU(2),e.qZA()()),2&i){const t=l.$implicit,n=e.oxw().$implicit;e.xp6(1),e.Q6J("ngClass",e.VKq(3,xe,""!=n.ip)),e.xp6(1),e.AsE("[",t.percentage,"] ",t.srcUrl,"")}}function Le(i,l){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,ye,2,1,"span",11),e.YNc(2,Te,3,5,"div",30),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.Q6J("ngIf",""!=t.ip),e.xp6(1),e.Q6J("ngForOf",t.srcUrlAndPercentageList)}}function Ce(i,l){if(1&i&&(e.TgZ(0,"label",34),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.xp6(1),e.hij(" ",t," ")}}function Ue(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",17),e.qZA(),e.TgZ(3,"td",23),e._UZ(4,"img",28),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td",23),e.YNc(12,Ae,1,0,"i",29),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.YNc(15,Le,3,2,"div",30),e.qZA(),e.TgZ(16,"td"),e.YNc(17,Ce,2,1,"label",31),e.qZA()()),2&i){const t=l.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(2),e.Q6J("alt",t.apiStatus)("src","1"===t.apiStatus?"assets/images/icon_green.png":"assets/images/icon_red.png",e.LSH),e.xp6(2),e.Oqu(t.apiKey),e.xp6(2),e.Oqu(t.moduleName),e.xp6(2),e.Oqu(t.apiName),e.xp6(2),e.Q6J("ngIf",!0===t.noOauth),e.xp6(2),e.hij(" ",t.srcUrl," "),e.xp6(1),e.Q6J("ngForOf",t.srcUrlList),e.xp6(2),e.Q6J("ngForOf",t.labelList)}}function qe(i,l){1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&i&&(e.xp6(1),e.uIk("colspan",8),e.xp6(1),e.hij(" ",e.lcZ(3,2,"no_rec")," "))}function Se(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",2)(2,"div",35)(3,"label",36),e._uU(4),e.ALo(5,"translate"),e.qZA()()(),e.TgZ(6,"div",37)(7,"app-api-url-setting",38),e.NdJ("changePage",function(a){return e.CHM(t),e.oxw().changePage(a)})("procPreviewPage",function(a){return e.CHM(t),e.oxw().procPreviewPage(a)}),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(4),e.AsE("",e.lcZ(5,4,"selected_api_count"),": ",t.selected.length,""),e.xp6(3),e.Q6J("procData",t.selected)("showPreview",t.showPreview)}}function we(i,l){1&i&&e._UZ(0,"img",52)}function ke(i,l){1&i&&e._UZ(0,"img",53)}function Ne(i,l){1&i&&(e.TgZ(0,"tr",23)(1,"th",54),e._uU(2,"%"),e.qZA(),e.TgZ(3,"th",55),e._uU(4),e.ALo(5,"translate"),e.qZA()()),2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"tar_url")))}function De(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",56),e._uU(2),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.ip)}}function Pe(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",57),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&i){const t=l.$implicit;e.xp6(2),e.Oqu(t.percentage),e.xp6(2),e.Oqu(t.srcUrl)}}function Je(i,l){if(1&i&&(e.YNc(0,De,3,1,"tr",11),e.YNc(1,Pe,5,2,"tr",30)),2&i){const t=l.$implicit;e.Q6J("ngIf",""!=t.ip),e.xp6(1),e.Q6J("ngForOf",t.srcUrlList)}}function Re(i,l){1&i&&(e.TgZ(0,"tr",23)(1,"th",58),e._uU(2,"%"),e.qZA(),e.TgZ(3,"th",59),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"th",59),e._uU(7),e.ALo(8,"translate"),e.qZA()()),2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"tar_url")),e.xp6(3),e.Oqu(e.lcZ(8,4,"check_result")))}function Me(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",60),e._uU(2),e.qZA()()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.ip)}}const Oe=function(i,l){return{color:i,background:l}};function Ye(i,l){if(1&i&&(e.TgZ(0,"td"),e._uU(1),e.ALo(2,"translate"),e.ALo(3,"translate"),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.Akn(e.WLB(8,Oe,t.isSuccess?"unset":"#dc3545",t.isSuccess?"unset":"#F6D8CB")),e.uIk("rowspan",t.srcUrlList.length),e.xp6(1),e.hij(" ",t.isSuccess?e.lcZ(2,4,"alert.title.ok"):e.lcZ(3,6,"alert.title.error")," ")}}function Ie(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td",57),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.YNc(5,Ye,4,11,"td",61),e.qZA()),2&i){const t=l.$implicit,n=l.index;e.xp6(2),e.Oqu(t.percentage),e.xp6(2),e.Oqu(t.srcUrl),e.xp6(1),e.Q6J("ngIf",0==n)}}function He(i,l){if(1&i&&(e.YNc(0,Me,3,1,"tr",11),e.YNc(1,Ie,6,3,"tr",30)),2&i){const t=l.$implicit;e.Q6J("ngIf",""!=t.ip),e.xp6(1),e.Q6J("ngForOf",t.srcUrlList)}}const Qe=function(){return{standalone:!0}},w=function(){return{"word-break":"break-word"}};function Be(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",43)(1,"div",2)(2,"div",44)(3,"label",36),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"label",45),e.YNc(7,we,1,0,"img",46),e.YNc(8,ke,1,0,"img",47),e.qZA()(),e.TgZ(9,"div",44)(10,"label",36),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"label",45)(14,"p-checkbox",48),e.NdJ("ngModelChange",function(a){return e.CHM(t).$implicit.noAuth=a}),e.qZA(),e._uU(15," No Auth "),e.qZA()()(),e.TgZ(16,"div",2)(17,"div",44)(18,"label",36),e._uU(19,"API ID"),e.qZA(),e.TgZ(20,"label",45),e._uU(21),e.qZA()(),e.TgZ(22,"div",44)(23,"label",36),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"label",45),e._uU(27),e.qZA()()(),e.TgZ(28,"div",2)(29,"div",49)(30,"label",36),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"label",45),e._uU(34),e.qZA()()(),e.TgZ(35,"div",2)(36,"div",35)(37,"label",36),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"div")(41,"p-chips",50),e.NdJ("ngModelChange",function(a){return e.CHM(t).$implicit.labelList=a}),e.qZA()()()(),e.TgZ(42,"div",2)(43,"div",44)(44,"label",36),e._uU(45),e.ALo(46,"translate"),e.qZA(),e.TgZ(47,"p-table",51),e.YNc(48,Ne,6,3,"ng-template",8),e.YNc(49,Je,2,2,"ng-template",9),e.qZA()(),e.TgZ(50,"div",44)(51,"label",36),e._uU(52),e.ALo(53,"translate"),e.qZA(),e.TgZ(54,"p-table",51),e.YNc(55,Re,9,6,"ng-template",8),e.YNc(56,He,2,2,"ng-template",9),e.qZA()()()()}if(2&i){const t=l.$implicit;e.xp6(4),e.Oqu(e.lcZ(5,23,"status")),e.xp6(3),e.Q6J("ngIf","1"==t.apiStatus),e.xp6(1),e.Q6J("ngIf","2"==t.apiStatus),e.xp6(3),e.Oqu(e.lcZ(12,25,"attribute")),e.xp6(3),e.Q6J("binary",!0)("readonly",!0)("ngModel",t.noAuth),e.xp6(7),e.Oqu(t.apiKey),e.xp6(3),e.Oqu(e.lcZ(25,27,"api_name")),e.xp6(3),e.Oqu(t.apiName),e.xp6(4),e.Oqu(e.lcZ(32,29,"module_name")),e.xp6(3),e.Oqu(t.moduleName),e.xp6(4),e.Oqu(e.lcZ(39,31,"label_tag")),e.xp6(3),e.Q6J("ngModel",t.labelList)("ngModelOptions",e.DdM(37,Qe)),e.xp6(4),e.Oqu(e.lcZ(46,33,"tar_url_edit.ori")),e.xp6(2),e.Akn(e.DdM(38,w)),e.Q6J("value",t.oldSrcUrlList),e.xp6(5),e.Oqu(e.lcZ(53,35,"tar_url_edit.new")),e.xp6(2),e.Akn(e.DdM(39,w)),e.Q6J("value",t.newSrcUrlList)}}function Fe(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.YNc(1,Be,57,40,"div",39),e.TgZ(2,"div",2)(3,"div",35)(4,"button",40),e.NdJ("click",function(){return e.CHM(t),e.oxw().moreApiListData()}),e._uU(5),e.ALo(6,"translate"),e._UZ(7,"i",41),e.qZA()()(),e.TgZ(8,"div",2)(9,"div",35)(10,"button",42),e.NdJ("click",function(){return e.CHM(t),e.oxw().batchModify()}),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"button",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().changePage("query")}),e._uU(14),e.ALo(15,"translate"),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.previewData),e.xp6(4),e.hij(" ",e.lcZ(6,4,"button.more")," "),e.xp6(6),e.Oqu(e.lcZ(12,6,"button.confirm")),e.xp6(3),e.Oqu(e.lcZ(15,8,"button.cancel"))}}const je=function(){return{backgroundColor:"var(--red-300)","border-color":"var(--red-300)"}};function $e(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"div",62)(1,"button",63),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(19).accept()}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",64),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(19).reject()}),e.ALo(4,"translate"),e.qZA()()}2&i&&(e.xp6(1),e.s9C("label",e.lcZ(2,3,"button.confirm")),e.Q6J("ngStyle",e.DdM(7,je)),e.xp6(2),e.s9C("label",e.lcZ(4,5,"button.cancel")))}function Ee(i,l){1&i&&(e.TgZ(0,"tr")(1,"th"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"th"),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,2,"api_key")),e.xp6(3),e.Oqu(e.lcZ(6,4,"module_name")))}function Xe(i,l){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&i){const t=l.$implicit;e.xp6(2),e.Oqu(t.apiKey),e.xp6(2),e.Oqu(t.moduleName)}}function Ke(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"button",5),e.NdJ("click",function(){return e.CHM(t),e.oxw().setErrListStatus(!1)}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&i&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"button.return_to_list")))}const Ge=function(){return{marginTop:"60px"}},R=function(){return{width:"50vw"}},ze=[{path:"",component:(()=>{class i extends M.H{constructor(t,n,a,o,c,u,s,_,v,m){super(t,n),this.messageService=a,this.toolService=o,this.ngxService=c,this.confirmationService=u,this.apiServer=s,this.dialogService=_,this.apiService=v,this.translate=m,this.pageNum=1,this.currentTitle=this.title,this.labelList=[],this.targetSiteList=[],this.tableData=[],this.selected=[],this.apiListReq={},this.showPreview=!1,this.previewData=[],this.showErrMsg=!1,this.errMsg="",this.errList=[]}ngOnInit(){this.apiServer.queryAPIListBySrcUrlOrLabel(this.apiListReq).subscribe(t=>{this.toolService.checkDpSuccess(t.ResHeader)&&(this.tableData=t.RespBody.dataList)})}headerReturn(){this.changePage("query")}queryAPIListBySrcUrlOrLabel(){this.selected=[],this.ngxService.start(),this.apiServer.queryAPIListBySrcUrlOrLabel(this.apiListReq).subscribe(t=>{this.toolService.checkDpSuccess(t.ResHeader)&&(this.tableData=t.RespBody.dataList),this.ngxService.stop()})}queryLabelList(){var t=this;return(0,d.Z)(function*(){const a=yield t.toolService.getDict(["label_list"]);t.dialogService.open(B,{header:a.label_list,width:"700px"}).onClose.subscribe(c=>{c&&(t.apiListReq.labelList=c.length>0?c:void 0,delete t.apiListReq.targetSite,t.queryAPIListBySrcUrlOrLabel())})})()}queryAllTargetSitList(){var t=this;return(0,d.Z)(function*(){const a=yield t.toolService.getDict(["target_site_search"]);t.dialogService.open(K,{header:a.target_site_search,width:"700px"}).onClose.subscribe(c=>{c&&(t.apiListReq.targetSite=c.length>0?c:void 0,delete t.apiListReq.labelList,t.queryAPIListBySrcUrlOrLabel())})})()}labelReset(){var t=this;return(0,d.Z)(function*(){const a=yield t.toolService.getDict(["button.label_reset"]);t.dialogService.open(ie,{header:a["button.label_reset"],width:"700px",data:{data:t.selected}}).onClose.subscribe(c=>{if(c){let u={apiList:t.selected.map(s=>({apiKey:s.apiKey,moduleName:s.moduleName})),labelList:c};t.apiServer.batchLabelReset(u).subscribe(function(){var s=(0,d.Z)(function*(_){if(t.toolService.checkDpSuccess(_.ResHeader)){const v=["message.success","button.label_reset"],m=yield t.toolService.getDict(v);t.messageService.add({severity:"success",summary:`${m["button.label_reset"]}`,detail:`${m["button.label_reset"]} ${m["message.success"]}`}),t.queryAPIListBySrcUrlOrLabel()}});return function(_){return s.apply(this,arguments)}}())}})})()}changePage(){var t=this;return(0,d.Z)(function*(n="query",a){const c=yield t.toolService.getDict(["api_url_setting","button.preview"]);switch(n){case"query":t.currentTitle=t.title,t.pageNum=1;break;case"api_url_setting":t.currentTitle=`${t.title} > ${c.api_url_setting}`,t.pageNum=2;break;case"preview":t.currentTitle=`${t.title} > ${c["button.preview"]}`,t.pageNum=3}}).apply(this,arguments)}batchNoOauthModify(t){var n=this;return(0,d.Z)(function*(){const o=yield n.toolService.getDict(["button.enable","button.disable","noauth.active","noauth.inactive"]);n.confirmationService.confirm({key:"cd",header:t?o["button.enable"]:o["button.disable"],message:(t?o["noauth.active"]:o["noauth.inactive"])+"?",accept:()=>{let c={apiList:n.selected.map(u=>({apiKey:u.apiKey,moduleName:u.moduleName})),noOauth:t};n.apiServer.batchNoOauthModify(c).subscribe(function(){var u=(0,d.Z)(function*(s){if(n.toolService.checkDpSuccess(s.ResHeader)){const _=["message.success","message.update"],v=yield n.toolService.getDict(_);n.messageService.add({severity:"success",summary:`${v["message.update"]} API No Auth Suatus`,detail:`${v["message.update"]} ${v["message.success"]}`})}n.queryAPIListBySrcUrlOrLabel()});return function(s){return u.apply(this,arguments)}}())}})})()}procPreviewPage(t){this.apiServer.temporaryByModifyBatch(t).subscribe(n=>{this.toolService.checkDpSuccess(n.ResHeader)&&this.previewByModifyBatch({tempFileName:n.RespBody.tempFileName,refId:n.RespBody.refId})})}previewByModifyBatch(t,n=!1){this.previewDataReq=t,this.apiServer.previewByModifyBatch(t).subscribe(a=>{this.toolService.checkDpSuccess(a.ResHeader)&&(this.previewData=n?this.previewData.concat(a.RespBody.apiList):a.RespBody.apiList,this.changePage("preview"))})}moreApiListData(){var t,n;let a={tempFileName:null===(t=this.previewDataReq)||void 0===t?void 0:t.tempFileName,sort:this.previewData[this.previewData.length-1].sort,refId:null===(n=this.previewDataReq)||void 0===n?void 0:n.refId};this.previewByModifyBatch(a,!0)}batchModify(){var t,n;let a={tempFileName:null===(t=this.previewDataReq)||void 0===t?void 0:t.tempFileName,refId:null===(n=this.previewDataReq)||void 0===n?void 0:n.refId};this.apiServer.batchModify(a).subscribe(o=>{this.toolService.checkDpSuccess(o.ResHeader)&&(o.RespBody.errMsg?(this.errList=o.RespBody.errList,this.errMsg=o.RespBody.errMsg,this.setErrListStatus(!0)):(this.queryAPIListBySrcUrlOrLabel(),this.changePage()))})}updateAPIStatus(){var t=this;return(0,d.Z)(function*(n="enable"){const o=yield t.toolService.getDict(["button.enable","button.disable"]);t.translate.get("alert.text.actions",{statusText:"enable"==n?o["button.enable"]:o["button.disable"]}).subscribe(c=>{t.confirmationService.confirm({key:"cd",header:"enable"==n?o["button.enable"]:o["button.disable"],message:c,accept:()=>{let u={ignoreAlert:"Y",apiList:t.selected.map(s=>({moduleName:s.moduleName,apiKey:s.apiKey})),apiStatus:"enable"==n?"1":"2"};t.apiService.updateAPIStatus_1(u).subscribe(function(){var s=(0,d.Z)(function*(_){if(t.toolService.checkDpSuccess(_.ResHeader)){const v=["message.success","message.update","api_status"],m=yield t.toolService.getDict(v);t.messageService.add({severity:"success",summary:`${m["message.update"]} ${m.api_status}`,detail:`${m["message.update"]} ${m["message.success"]}`}),t.queryAPIListBySrcUrlOrLabel(),t.changePage()}});return function(_){return s.apply(this,arguments)}}())}})})}).apply(this,arguments)}setErrListStatus(t=!1){this.showErrMsg=t,t||(this.queryAPIListBySrcUrlOrLabel(),this.changePage())}resetHandlePolicyProc(){var t=this;return(0,d.Z)(function*(){const a=yield t.toolService.getDict(["fail_handle_policy.reset","message.success","fail_handle_policy.cfm_reset"]);t.dialogService.open(ce,{header:a["fail_handle_policy.reset"],width:"700px",data:{data:t.selected}}).onClose.subscribe(c=>{c&&t.apiService.batchFailHandlePolicy(c).subscribe(u=>{t.toolService.checkDpSuccess(u.ResHeader)&&(t.messageService.add({severity:"success",summary:`${a["fail_handle_policy.reset"]}`,detail:`${a["fail_handle_policy.reset"]} ${a["message.success"]}`}),t.queryAPIListBySrcUrlOrLabel())})})})()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(T.gz),e.Y36(re.W),e.Y36(g.ez),e.Y36(y.g),e.Y36(se.LA),e.Y36(g.YP),e.Y36(h.s),e.Y36(b.xA),e.Y36(h.s),e.Y36(A.sK))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-ac0319"]],features:[e._Bn([g.ez,g.YP,h.s]),e.qOj],decls:29,vars:35,consts:[[3,"title","isDefault","headerReturn"],[3,"hidden"],[1,"form-group","row"],[1,"col-12","col-xl-12","col-lg-12"],["type","button",1,"btn","tpi-btn","tpi-primary","me-2",3,"click"],["type","button",1,"btn","tpi-btn","tpi-primary",3,"click"],["styleClass","p-datatable-striped","responsiveLayout","scroll",3,"value","selection","selectionChange"],["pTemplate","caption"],["pTemplate","header","selectionMode","multiple"],["pTemplate","body"],["pTemplate","emptymessage"],[4,"ngIf"],["position","top-left"],["key","cd","icon","pi pi-exclamation-triangle","styleClass","cHeader cContent cIcon"],["cd",""],["pTemplate","footer"],[3,"header","visible","modal","dismissableMask","draggable","closable"],[3,"value"],["pTemplate","header"],[1,"ui-helper-clearfix"],["type","button",1,"btn","tpi-primary","tpi-btn","float-start","me-1",3,"disabled","click"],["type","button",1,"btn","tpi-btn","tpi-primary","float-end",3,"disabled","click"],["type","button",1,"btn","tpi-primary","tpi-btn","float-start","me-1",3,"title","disabled","click"],[2,"text-align","center"],[2,"width","2.25em"],[2,"width","70px","white-space","nowrap"],[2,"width","95px"],[2,"width","30%"],[2,"width","20px","height","20px",3,"alt","src"],["class","fa fa-check",4,"ngIf"],[4,"ngFor","ngForOf"],["style","background-color: #666666;color: #fff; border-radius: 5px;","class","m-1 p-1",4,"ngFor","ngForOf"],[1,"fa","fa-check"],[3,"ngClass"],[1,"m-1","p-1",2,"background-color","#666666","color","#fff","border-radius","5px"],[1,"col-12"],[1,"control-label"],[1,"form-group","row","col-12"],[1,"col-12",3,"procData","showPreview","changePage","procPreviewPage"],["class","preview my-2",4,"ngFor","ngForOf"],["type","button","icon","",1,"btn","tpi-header-return",3,"click"],[1,"fas","fa-angle-double-right",2,"margin-left","5px"],["type","button",1,"btn","tpi-btn","tpi-second","me-2",3,"click"],[1,"preview","my-2"],[1,"col-6"],[1,"form-control","border-line"],["style","width: 20px; height: 20px","src","assets/images/icon_acg.png","alt","active",4,"ngIf"],["style","width: 20px; height: 20px","src","assets/images/icon_acr.png","alt","stop",4,"ngIf"],["name","noauth",3,"binary","readonly","ngModel","ngModelChange"],[1,"col-3"],["disabled","",3,"ngModel","ngModelOptions","ngModelChange"],["styleClass","p-datatable-striped","responsiveLayout","scroll",3,"value"],["src","assets/images/icon_acg.png","alt","active",2,"width","20px","height","20px"],["src","assets/images/icon_acr.png","alt","stop",2,"width","20px","height","20px"],[2,"width","70px","white-space","nowrap","background","#347800!important"],[2,"background","#347800!important"],["colspan","2"],[2,"text-align","right"],[2,"width","70px","white-space","nowrap","background","#e64c00!important"],[2,"background","#e64c00!important"],["colspan","3"],[3,"style",4,"ngIf"],[1,"row",2,"justify-content","center"],["type","button","pButton","","icon","pi pi-check",3,"ngStyle","label","click"],["type","button","pButton","","icon","pi pi-times",1,"p-button-secondary",3,"label","click"]],template:function(t,n){1&t&&(e.TgZ(0,"app-container",0),e.NdJ("headerReturn",function(){return n.headerReturn()}),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return n.queryLabelList()}),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return n.queryAllTargetSitList()}),e._uU(8),e.ALo(9,"translate"),e.qZA()()(),e.TgZ(10,"p-table",6),e.NdJ("selectionChange",function(o){return n.selected=o}),e.YNc(11,ve,23,31,"ng-template",7),e.YNc(12,Ze,23,18,"ng-template",8),e.YNc(13,Ue,18,10,"ng-template",9),e.YNc(14,qe,4,4,"ng-template",10),e.qZA()(),e.YNc(15,Se,8,6,"div",11),e.YNc(16,Fe,16,10,"div",11),e.qZA(),e._UZ(17,"p-toast",12),e.TgZ(18,"p-confirmDialog",13,14),e.YNc(20,$e,5,8,"ng-template",15),e.qZA(),e.TgZ(21,"p-dialog",16),e.ALo(22,"translate"),e.TgZ(23,"span"),e._uU(24),e.qZA(),e.TgZ(25,"p-table",17),e.YNc(26,Ee,7,6,"ng-template",18),e.YNc(27,Xe,5,2,"ng-template",9),e.qZA(),e.YNc(28,Ke,3,3,"ng-template",15),e.qZA()),2&t&&(e.Q6J("title",n.currentTitle)("isDefault",1==n.pageNum),e.xp6(1),e.Q6J("hidden",1!=n.pageNum),e.xp6(4),e.Oqu(e.lcZ(6,25,"label_search")),e.xp6(3),e.Oqu(e.lcZ(9,27,"target_site_search")),e.xp6(2),e.Akn(e.DdM(31,w)),e.Q6J("value",n.tableData)("selection",n.selected),e.xp6(5),e.Q6J("ngIf",2==n.pageNum),e.xp6(1),e.Q6J("ngIf",3==n.pageNum),e.xp6(1),e.Akn(e.DdM(32,Ge)),e.xp6(1),e.Akn(e.DdM(33,R)),e.xp6(3),e.Akn(e.DdM(34,R)),e.Q6J("header",e.lcZ(22,29,"error"))("visible",n.showErrMsg)("modal",!0)("dismissableMask",!0)("draggable",!1)("closable",!1),e.xp6(3),e.Oqu(n.errMsg),e.xp6(1),e.Q6J("value",n.errList))},directives:[pe.e,Z.iA,g.jx,Z.Mo,Z.UA,f.O5,f.sg,f.mk,fe,J.XZ,r.JJ,r.On,P.cL,he.FN,U.Q,q.Hq,f.PC,be.V],pipes:[A.X$],styles:["[_nghost-%COMP%]{display:block}.preview[_ngcontent-%COMP%]{padding:1rem;background:#fff;border-radius:5px;border:solid 1px #eeeeee}"]}),i})(),canActivate:[N.u6]}];let Ve=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[T.Bz.forChild(ze)],T.Bz]}),i})();var We=p(48750),et=p(31890);let tt=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({providers:[N.u6],imports:[[f.ez,Ve,We.W,et.m,r.UX,r.u5]]}),i})()}}]);