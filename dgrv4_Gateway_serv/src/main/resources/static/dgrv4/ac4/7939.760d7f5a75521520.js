"use strict";(self.webpackChunksrcAngular=self.webpackChunksrcAngular||[]).push([[7939],{67939:(y,x,a)=>{a.r(x),a.d(x,{Ac0012Module:()=>Re});var s=a(24300),h=a(69808),b=a(15861),m=a(59783),_=a(93075),g=a(57553),f=a(14525),c=a(68306),l=a(63900),r=a(1694),e=a(87587),A=a(99291),v=a(56435),N=a(4516),L=a(94319),R=a(51062),P=a(1955),k=a(63710),H=a(74856),E=a(23099),B=a(40845),U=a(4119);function F(n,d){if(1&n){const t=e.EpF();e.TgZ(0,"div",15)(1,"input",16),e.NdJ("change",function(i){const p=e.CHM(t).$implicit;return e.oxw(3).menuChange(i,p.name)}),e.qZA(),e.TgZ(2,"label",17),e._uU(3),e.ALo(4,"transform_menu"),e.qZA()()}if(2&n){const t=d.$implicit;e.xp6(1),e.Q6J("id",t.name)("formControlName",t.name),e.xp6(1),e.Q6J("for",t.name),e.xp6(1),e.AsE(" ",e.lcZ(4,5,t.name)," (",t.name,")")}}function J(n,d){if(1&n&&(e.TgZ(0,"div",13),e.YNc(1,F,5,7,"div",14),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("id","mains"+t.main),e.xp6(1),e.Q6J("ngForOf",t.subs)}}function I(n,d){if(1&n){const t=e.EpF();e.TgZ(0,"ul",6)(1,"li",7)(2,"div",8)(3,"div")(4,"input",9),e.NdJ("change",function(i){const p=e.CHM(t).$implicit;return e.oxw().menuChange(i,p.main)}),e.qZA(),e.TgZ(5,"a",10),e._uU(6),e.ALo(7,"transform_menu"),e._UZ(8,"span",11),e.qZA()()(),e.YNc(9,J,2,2,"div",12),e._UZ(10,"hr"),e.qZA()()}if(2&n){const t=d.$implicit;e.xp6(4),e.Q6J("formControlName",t.main),e.xp6(1),e.uIk("href","#mains"+t.main,e.LSH)("aria-controls","mains"+t.main),e.xp6(1),e.AsE(" ",e.lcZ(7,6,t.main)," (",t.main,")"),e.xp6(3),e.Q6J("ngIf",t.subs&&t.subs.length)}}function S(n,d){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().click()}),e._uU(2),e.ALo(3,"translate"),e.qZA()()}2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"button.update")))}const $=function(n){return{"max-height":n}};let G=(()=>{class n{constructor(t){this.fb=t,this.height="300px",this.disableCheckbox=!1,this.showCheckbox=!0,this.showButton=!0,this.updateHandler=new e.vpe,this.newMenus=[],this.form=this.fb.group([])}ngOnInit(){var t;this.menus&&(this.newMenus=JSON.parse(JSON.stringify(this.menus)).filter(o=>o.subs&&o.subs.length>0),null===(t=this.newMenus)||void 0===t||t.forEach(o=>{var i;this.form.addControl(o.main,new _.NI({value:!1,disabled:this.disableCheckbox})),null===(i=o.subs)||void 0===i||i.forEach(u=>{let p=this.selected.includes(u.name);this.form.addControl(u.name,new _.NI({value:p,disabled:this.disableCheckbox}))})}),Object.keys(this.form.controls).filter(o=>4==o.length).forEach(o=>{let i=this.checkedGroup(o);this.form.controls[o].setValue(i)}))}reset(){Object.keys(this.form.controls).forEach(t=>{this.form.controls[t].setValue(!1)})}menuChange(t,o){if(4==o.length)Object.keys(this.form.controls).filter(i=>{switch(o){default:return i.indexOf(o)>=0;case"AC00":return i.indexOf(o)>=0||i.indexOf("AC10")>=0||i.indexOf("AC12")>=0;case"AC02":return i.indexOf(o)>=0||i.indexOf("AC11")>=0;case"AC03":return i.indexOf(o)>=0||i.indexOf("AC04")>=0||i.indexOf("AC08")>=0;case"AC05":return i.indexOf(o)>=0||i.indexOf("AC07")>=0;case"NP01":return i.indexOf(o)>=0||i.indexOf("NP12")>=0;case"NP03":return i.indexOf(o)>=0||i.indexOf("NP04")>=0;case"NP05":return i.indexOf(o)>=0||i.indexOf("NP1202")>=0}}).forEach(i=>{this.form.controls[i].setValue(t.target.checked)});else switch(o.substr(0,4)){default:this.form.controls[o.substr(0,4)].setValue(this.checkedGroup(o,t.target.value));break;case"AC10":case"AC12":this.form.controls.AC00.setValue(this.checkedGroup(o,t.target.value));break;case"AC11":this.form.controls.AC02.setValue(this.checkedGroup(o,t.target.value));break;case"AC04":case"AC08":this.form.controls.AC03.setValue(this.checkedGroup(o,t.target.value));break;case"AC07":this.form.controls.AC05.setValue(this.checkedGroup(o,t.target.value));break;case"NP12":this.form.controls.NP01.setValue(this.checkedGroup(o,t.target.value));break;case"NP04":this.form.controls.NP03.setValue(this.checkedGroup(o,t.target.value));break;case"LAB0":this.form.controls.LABS.setValue(this.checkedGroup(o,t.target.value))}this.showButton||this.updateHandler.emit(this.form.value)}checkedGroup(t,o){let i=!0;if(t.length>4)return o?Object.keys(this.form.controls).filter(u=>{switch(t.substr(0,4)){case"AC00":case"AC10":case"AC12":return u.length>4&&("AC00"==u.substr(0,4)||"AC12"==u.substr(0,4)||"AC10"==u.substr(0,4));case"AC02":case"AC11":return u.length>4&&("AC02"==u.substr(0,4)||"AC11"==u.substr(0,4));case"AC04":case"AC08":return u.length>4&&("AC03"==u.substr(0,4)||"AC04"==u.substr(0,4)||"AC08"==u.substr(0,4));case"AC05":case"AC07":return u.length>4&&("AC05"==u.substr(0,4)||"AC07"==u.substr(0,4));case"NP01":case"NP12":return u.length>4&&("NP01"==u.substr(0,4)||"NP12"==u.substr(0,4));case"NP03":case"NP04":return u.length>4&&("NP03"==u.substr(0,4)||"NP04"==u.substr(0,4));default:return u.length>4&&u.substr(0,4)==t.substr(0,4)}}).forEach(u=>{let p=this.form.controls[u].value;p||(i=p)}):i=o||!1,i;{let u=Object.keys(this.form.controls).filter(p=>{switch(t){default:return p.indexOf(t)>=0&&p!=t;case"AC00":return(p.indexOf(t)>=0||p.indexOf("AC10")>=0||p.indexOf("AC12")>=0)&&p!=t;case"AC02":return(p.indexOf(t)>=0||p.indexOf("AC11")>=0)&&p!=t;case"AC03":return(p.indexOf(t)>=0||p.indexOf("AC04")>=0||p.indexOf("AC08")>=0)&&p!=t;case"AC05":return(p.indexOf(t)>=0||p.indexOf("AC07")>=0)&&p!=t;case"NP01":return(p.indexOf(t)>=0||p.indexOf("NP12")>=0)&&p!=t;case"NP03":return(p.indexOf(t)>=0||p.indexOf("NP04")>=0)&&p!=t}});return 0==u.length?i=!1:u.forEach(p=>{let C=this.form.controls[p].value;C||(i=C)}),i}}click(){this.updateHandler.emit(this.form.value)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-list-group"]],inputs:{height:"height",disableCheckbox:"disableCheckbox",showCheckbox:"showCheckbox",showButton:"showButton",menus:["menu","menus"],selected:"selected"},outputs:{updateHandler:"updateHandler"},decls:7,vars:6,consts:[[3,"formGroup"],[2,"overflow-y","auto","overflow-x","hidden",3,"ngStyle"],[1,"row",2,"display","block"],[1,"col"],["class","list-group list-group-flush",4,"ngFor","ngForOf"],["class","col text-center",4,"ngIf"],[1,"list-group","list-group-flush"],[1,"list-group-item","px-0"],[1,"checkbox"],["type","checkbox","value","",3,"formControlName","change"],["data-bs-toggle","collapse","role","button","aria-expanded","true",1,"btn","collapsed"],[1,"me-3"],["class","collapse",3,"id",4,"ngIf"],[1,"collapse",3,"id"],["class","form-check","class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"],["type","checkbox",1,"form-check-input",2,"margin-top",".1em",3,"id","formControlName","change"],[1,"form-check-label",2,"margin-left","10px","margin-top","3px",3,"for"],[1,"col","text-center"],["type","button",1,"btn","btn-warning",3,"click"]],template:function(t,o){1&t&&(e.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3),e.YNc(4,I,11,8,"ul",4),e.qZA()()(),e.TgZ(5,"div",2),e.YNc(6,S,4,3,"div",5),e.qZA()()),2&t&&(e.Q6J("formGroup",o.form),e.xp6(1),e.Q6J("ngStyle",e.VKq(4,$,o.height)),e.xp6(3),e.Q6J("ngForOf",o.newMenus),e.xp6(2),e.Q6J("ngIf",o.showButton))},directives:[_._Y,_.JL,_.sg,h.PC,h.sg,_.Wl,_.JJ,_.u,h.O5],pipes:[v.W,R.X$],styles:[".btn[_ngcontent-%COMP%]{box-shadow:none!important;outline:0}a[_ngcontent-%COMP%]:link, a[_ngcontent-%COMP%]:visited, .list-group-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#5a5541}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:focus{color:orange}.list-group-item[_ngcontent-%COMP%]{margin-left:2rem;padding-top:10px!important;border:0px;background:#f6f6f6}hr[_ngcontent-%COMP%]{margin-bottom:0;margin-top:0}a[_ngcontent-%COMP%]{width:95%;text-align:left}.list-group-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{border:solid #222;border-width:0 1px 1px 0;display:inline;cursor:pointer;padding:3px;position:absolute;right:0}.list-group-item[_ngcontent-%COMP%]   a.btn.collapsed[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transform:rotate(40deg);-webkit-transform:rotate(40deg);transition:.2s transform ease-in-out}.list-group-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-bottom:10px;padding-left:10px;--bs-btn-active-border-color:transparent;--bs-btn-active-color:var(--tpi-orange)}.list-group-item[_ngcontent-%COMP%]   a.btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transform:rotate(-140deg);-webkit-transform:rotate(-140deg);transition:.2s transform ease-in-out}.list-group-item[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{cursor:pointer;appearance:none;background:#fff;border-radius:1px;box-sizing:border-box;position:relative;box-sizing:content-box;border:1px solid orange;width:20px;height:20px;transition:all .2s linear}.list-group-item[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked{background-color:#ea7448}.list-group-item[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus{outline:0 none;box-shadow:none}.list-group-item[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled{border:1px solid rgb(149,149,149)}.list-group-item[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked:disabled{background-color:#959595}"],changeDetection:0}),n})();var Q=a(17773),Y=a(86561),j=a(19114);const K=["dialog"],W=["listgroup"];function z(n,d){1&n&&e._UZ(0,"col"),2&n&&e.Udp("width",d.$implicit.width)}function V(n,d){if(1&n&&(e.TgZ(0,"colgroup"),e.YNc(1,z,1,2,"col",19),e.qZA(),e.TgZ(2,"colgroup",20),e._uU(3),e.ALo(4,"translate"),e.qZA()),2&n){const t=d.$implicit;e.xp6(1),e.Q6J("ngForOf",t),e.xp6(2),e.Oqu(e.lcZ(4,2,"action"))}}function X(n,d){if(1&n&&(e.TgZ(0,"th",23),e._uU(1),e.qZA()),2&n){const t=d.$implicit;e.xp6(1),e.hij(" ",t.header," ")}}function ee(n,d){if(1&n&&(e.TgZ(0,"tr"),e.YNc(1,X,2,1,"th",21),e.TgZ(2,"th",22),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n){const t=d.$implicit;e.xp6(1),e.Q6J("ngForOf",t),e.xp6(2),e.Oqu(e.lcZ(4,2,"action"))}}function te(n,d){if(1&n&&(e.TgZ(0,"td"),e._uU(1),e.qZA()),2&n){const t=d.$implicit,o=e.oxw().$implicit;e.Udp("width",t.width),e.xp6(1),e.hij(" ",o[t.field]," ")}}function oe(n,d){if(1&n){const t=e.EpF();e.TgZ(0,"tr"),e.YNc(1,te,2,3,"td",19),e.TgZ(2,"td",24)(3,"button",25),e.NdJ("click",function(){const u=e.CHM(t).$implicit,p=e.oxw();return p.showDialog(u,p.formOperate.detail)}),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",26),e.NdJ("click",function(){const u=e.CHM(t).$implicit,p=e.oxw();return p.showDialog(u,p.formOperate.update)}),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",27),e.NdJ("click",function(){const u=e.CHM(t).$implicit,p=e.oxw();return p.showDialog(u,p.formOperate.delete)}),e.ALo(8,"translate"),e.qZA()()()}if(2&n){const t=d.columns;e.xp6(1),e.Q6J("ngForOf",t),e.xp6(2),e.Q6J("pTooltip",e.lcZ(4,4,"button.detail")),e.xp6(2),e.Q6J("pTooltip",e.lcZ(6,6,"button.edit")),e.xp6(2),e.Q6J("pTooltip",e.lcZ(8,8,"button.delete"))}}function ne(n,d){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td",28)(2,"span",29),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",30),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).moreData()}),e._uU(6),e.ALo(7,"translate"),e._UZ(8,"i",31),e.qZA()()()}if(2&n){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.uIk("colspan",t.length+1),e.xp6(2),e.AsE("",e.lcZ(4,4,"row_count"),": ",o.rowcount,""),e.xp6(3),e.hij("",e.lcZ(7,6,"button.more")," ")}}function ie(n,d){if(1&n&&e.YNc(0,ne,9,8,"tr",13),2&n){const t=e.oxw();e.Q6J("ngIf",t.rowcount)}}function se(n,d){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n){const t=d.$implicit;e.xp6(1),e.uIk("colspan",t.length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"no_rec")," ")}}function re(n,d){if(1&n&&(e.TgZ(0,"div",48)(1,"small",49),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"small",49),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"small",49),e._uU(8),e.ALo(9,"translate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(e.xi3(3,3,t.roleName.errors.stringname,t.roleNameLimitChar)),e.xp6(3),e.Oqu(e.xi3(6,6,t.roleName.errors.maxlength,t.roleNameLimitChar)),e.xp6(3),e.Oqu(e.lcZ(9,9,t.roleName.errors.required))}}function ae(n,d){if(1&n&&(e.TgZ(0,"div",48)(1,"small",49),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"small",49),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"small",49),e._uU(8),e.ALo(9,"translate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(e.xi3(3,3,t.roleAlias.errors.stringalias,t.roleAliasLimitChar)),e.xp6(3),e.Oqu(e.xi3(6,6,t.roleAlias.errors.maxlength,t.roleAliasLimitChar)),e.xp6(3),e.Oqu(e.lcZ(9,9,t.roleAlias.errors.required))}}function le(n,d){if(1&n){const t=e.EpF();e.TgZ(0,"app-list-group",50,51),e.NdJ("updateHandler",function(i){return e.CHM(t),e.oxw(2).update(i)}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("menu",t.menus)("showButton",!1)("selected",t.selected)}}function ce(n,d){if(1&n&&(e.TgZ(0,"div",48)(1,"small",49),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,1,t.funcCodeList.errors.required))}}const w=function(){return{marginTop:"60px"}};function pe(n,d){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"form",32,33),e.NdJ("ngSubmit",function(){e.CHM(t);const i=e.MAs(2);return e.oxw().submitForm_page2(i)}),e.TgZ(3,"div")(4,"div",34)(5,"div",3)(6,"div",35)(7,"label",36),e._uU(8),e.ALo(9,"translate"),e.qZA(),e._UZ(10,"input",37),e.ALo(11,"translate"),e.YNc(12,re,10,11,"div",38),e.qZA(),e.TgZ(13,"div",35)(14,"label",39),e._uU(15),e.ALo(16,"translate"),e.qZA(),e._UZ(17,"input",40),e.ALo(18,"translate"),e.YNc(19,ae,10,11,"div",38),e.qZA()(),e.TgZ(20,"div",3)(21,"div",41)(22,"label",42),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",43),e.YNc(26,le,2,3,"app-list-group",44),e.qZA(),e.YNc(27,ce,4,3,"div",38),e.qZA()(),e.TgZ(28,"div",45)(29,"div",34)(30,"button",46),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"button",47),e.NdJ("click",function(){return e.CHM(t),e.oxw().reture_to_page1()}),e._uU(34),e.ALo(35,"translate"),e.qZA()()()()()(),e._UZ(36,"p-toast",16),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.form_page2),e.xp6(7),e.Oqu(e.lcZ(9,15,"role_name")),e.xp6(2),e.s9C("placeholder",e.lcZ(11,17,"role_name")),e.xp6(2),e.Q6J("ngIf",(null==t.roleName?null:t.roleName.invalid)&&((null==t.roleName?null:t.roleName.dirty)||(null==t.roleName?null:t.roleName.touched))),e.xp6(3),e.Oqu(e.lcZ(16,19,"role_desc")),e.xp6(2),e.s9C("placeholder",e.lcZ(18,21,"role_desc")),e.xp6(2),e.Q6J("ngIf",(null==t.roleAlias?null:t.roleAlias.invalid)&&((null==t.roleAlias?null:t.roleAlias.dirty)||(null==t.roleAlias?null:t.roleAlias.touched))),e.xp6(4),e.Oqu(e.lcZ(24,23,"fun_permissions")),e.xp6(3),e.Q6J("ngIf",t.menus),e.xp6(1),e.Q6J("ngIf",(null==t.funcCodeList?null:t.funcCodeList.invalid)&&((null==t.funcCodeList?null:t.funcCodeList.dirty)||(null==t.funcCodeList?null:t.funcCodeList.touched))),e.xp6(3),e.Q6J("disabled",!t.form_page2.valid),e.xp6(1),e.Oqu(e.lcZ(32,25,"button.create")),e.xp6(3),e.Oqu(e.lcZ(35,27,"button.return_to_list")),e.xp6(2),e.Akn(e.DdM(29,w))}}function ue(n,d){if(1&n&&e._UZ(0,"app-list-group",57),2&n){const t=e.oxw(2);e.Q6J("height","10%")("disableCheckbox",!0)("showButton",!1)("menu",t.menus_page3)("selected",t.data_page3.funcCodeList)}}function de(n,d){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",34)(2,"div",3)(3,"div",35)(4,"label",52),e._uU(5),e.ALo(6,"translate"),e.qZA(),e._UZ(7,"input",53),e.qZA(),e.TgZ(8,"div",35)(9,"label",54),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"input",53),e.qZA()(),e.TgZ(13,"div",3)(14,"div",41)(15,"div",43),e.YNc(16,ue,1,5,"app-list-group",55),e.qZA()()(),e.TgZ(17,"div",45)(18,"div",34)(19,"button",56),e.NdJ("click",function(){return e.CHM(t),e.oxw().reture_to_page1()}),e._uU(20),e.ALo(21,"translate"),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,7,"role_name")),e.xp6(2),e.s9C("placeholder",t.roleName_page3),e.xp6(3),e.Oqu(e.lcZ(11,9,"role_desc")),e.xp6(2),e.s9C("placeholder",t.roleAlias_page3),e.xp6(4),e.Q6J("ngIf",t.data_page3),e.xp6(3),e.Q6J("disabled",!t.form.valid),e.xp6(1),e.Oqu(e.lcZ(21,11,"button.return_to_list"))}}function he(n,d){if(1&n&&(e.TgZ(0,"div",48)(1,"small",49),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"small",49),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"small",49),e._uU(8),e.ALo(9,"translate"),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.Oqu(e.xi3(3,3,t.newRoleAlias.errors.stringalias,t.newRoleAliasLimitChar)),e.xp6(3),e.Oqu(e.xi3(6,6,t.newRoleAlias.errors.maxlength,t.newRoleAliasLimitChar)),e.xp6(3),e.Oqu(e.lcZ(9,9,t.newRoleAlias.errors.required))}}function _e(n,d){if(1&n){const t=e.EpF();e.TgZ(0,"app-list-group",65),e.NdJ("updateHandler",function(i){return e.CHM(t),e.oxw(2).update_page4(i)}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("height","100%")("menu",t.menus_page4)("showButton",!1)("selected",t.data_page4.funcCodeList)}}function me(n,d){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"form",32),e.NdJ("ngSubmit",function(){return e.CHM(t),e.oxw().submitForm_page4()}),e.TgZ(2,"div",34)(3,"div",3)(4,"div",35)(5,"label",58),e._uU(6),e.ALo(7,"translate"),e.qZA(),e._UZ(8,"input",53),e.qZA(),e.TgZ(9,"div",35)(10,"label",59),e._uU(11),e.ALo(12,"translate"),e.qZA(),e._UZ(13,"input",60),e.ALo(14,"translate"),e.YNc(15,he,10,11,"div",38),e.qZA()(),e.TgZ(16,"div",3)(17,"div",41)(18,"label",61),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"div",43),e.YNc(22,_e,1,4,"app-list-group",62),e.qZA()()(),e.TgZ(23,"div",45)(24,"div",34)(25,"button",63),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"button",64),e.NdJ("click",function(){return e.CHM(t),e.oxw().reture_to_page1()}),e._uU(29),e.ALo(30,"translate"),e.qZA()()()()()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.form_page4),e.xp6(5),e.Oqu(e.lcZ(7,11,"role_name")),e.xp6(2),e.s9C("placeholder",t.roleName_page4),e.xp6(3),e.Oqu(e.lcZ(12,13,"role_desc")),e.xp6(2),e.s9C("placeholder",e.lcZ(14,15,"role_desc")),e.xp6(2),e.Q6J("ngIf",t.newRoleAlias.invalid&&(t.newRoleAlias.dirty||t.newRoleAlias.touched)),e.xp6(4),e.Oqu(e.lcZ(20,17,"fun_permissions")),e.xp6(3),e.Q6J("ngIf",t.data_page4),e.xp6(3),e.Q6J("disabled",!t.form_page4.valid),e.xp6(1),e.Oqu(e.lcZ(27,19,"button.update")),e.xp6(3),e.Oqu(e.lcZ(30,21,"button.return_to_list"))}}const ge=function(){return{backgroundColor:"var(--red-300)","border-color":"var(--red-300)"}};function fe(n,d){if(1&n){const t=e.EpF();e.TgZ(0,"div",66)(1,"button",67),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(24).accept()}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",68),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(24).reject()}),e.ALo(4,"translate"),e.qZA()()}2&n&&(e.xp6(1),e.s9C("label",e.lcZ(2,3,"button.confirm")),e.Q6J("ngStyle",e.DdM(7,ge)),e.xp6(2),e.s9C("label",e.lcZ(4,5,"button.cancel")))}const Ae=function(){return{"word-break":"break-word"}},be=function(){return{width:"50vw"}};let xe=(()=>{class n extends f.H{constructor(t,o,i,u,p,C,q,M,Z){super(t,o),this.fb=i,this.messageService=u,this.tool=p,this.siderbar=C,this.translate=q,this.roleService=M,this.confirmationService=Z,this.formOperate=g.mi,this.cols=[],this.rowcount=0,this.data=[],this.roleDetailList=new Array,this.dialogTitle="",this.pageNum=1,this.selected=[],this.roleNameLimitChar={value:30},this.roleAliasLimitChar={value:255},this.selectedCities=[],this.selecteds=[],this.funcs=[],this.menus_page3=[],this.roleName_page3="",this.roleAlias_page3="",this.selectedFuncList=[],this.newRoleAliasLimitChar={value:255},this.menus_page4=[],this.roleName_page4="",this.isDefault=!0,this.display=!1,this.form=this.fb.group({keyword:new _.NI("")}),this.form_page2=this.fb.group({roleName:"",roleAlias:"",funcCodeList:""}),this.form_page4=this.fb.group({newRoleAlias:""}),this.translate.get(["role_name","role_desc"]).subscribe(O=>{this.cols=[{field:"roleName",header:O.role_name},{field:"roleAlias",header:O.role_desc}]})}ngOnInit(){this.roleDetailList=[],this.rowcount=this.roleDetailList.length;let t={keyword:this.form.get("keyword").value,funcFlag:!0,authorityFlag:!1};this.roleService.queryTRoleList_v3_ignore1298(t).subscribe(o=>{this.tool.checkDpSuccess(o.ResHeader)&&(this.roleDetailList=o.RespBody.roleDetailList,this.rowcount=this.roleDetailList.length)})}create(){var t=this;return(0,b.Z)(function*(){const i=yield t.tool.getDict(["dialog.create","message.role","message.create","message.success"]);t.form_page2=t.fb.group({roleName:new _.NI("",[r.np(),r._X(t.roleNameLimitChar.value)]),roleAlias:new _.NI("",[r.np(),r.Ad(t.roleAliasLimitChar.value)]),funcCodeList:new _.NI([],[r.np()])}),t.selected=[];let u=t.tool.getFuncList(),p=t.siderbar.transform(u);t.menus=p,t.title=`${t.title} > ${i["dialog.create"]}`,t.pageNum=2})()}submitForm(){this.roleDetailList=[],this.rowcount=this.roleDetailList.length;let t={keyword:this.form.get("keyword").value,funcFlag:!0,authorityFlag:!1};this.roleService.queryTRoleList_v3(t).subscribe(o=>{this.tool.checkDpSuccess(o.ResHeader)&&(this.roleDetailList=o.RespBody.roleDetailList,this.rowcount=this.roleDetailList.length)})}moreData(){let t={roleId:this.roleDetailList[this.roleDetailList.length-1].roleID,keyword:this.form.get("keyword").value,funcFlag:!0,authorityFlag:!1};this.roleService.queryTRoleList_v3(t).subscribe(o=>{this.tool.checkDpSuccess(o.ResHeader)&&(this.roleDetailList=this.roleDetailList.concat(o.RespBody.roleDetailList),this.rowcount=this.roleDetailList.length)})}showDialog(t,o){return this.translate.get(["fun_list","dialog.edit","role_detail","message.update","cfm_del","roles_name","role_desc","message.success"]).pipe((0,l.w)(u=>this.openDialog$(t,o,u))).subscribe(),!1}openDialog$(t,o,i){return c.y.create(u=>{switch(o){case g.mi.detail:this.translate.get(["role_detail"]).subscribe(T=>{this.data_page3=t,this.roleName_page3=t.roleName,this.roleAlias_page3=t.roleAlias;let O=this.tool.getFuncList(),Ze=this.siderbar.transform(O);this.menus_page3=Ze,this.title=`${this.title} > ${T.role_detail}`,this.pageNum=3});break;case g.mi.update:const C=["message.update"];this.data_page4=t,this.roleName_page4=t.roleName;let q=this.tool.getFuncList(),M=this.siderbar.transform(q);this.menus_page4=M;let Z={};this.data_page4.funcCodeList.map(T=>{Z[T]=!0}),this.form_page4=this.fb.group({newRoleAlias:new _.NI(this.data_page4.roleAlias,[r.np(),r.Ad(this.newRoleAliasLimitChar.value)]),funcCodeList:new _.NI([],r.np())}),this.update_page4(Z),this.translate.get(C).subscribe(T=>{this.title=`${this.title} > ${T["message.update"]}`,this.pageNum=4});break;case g.mi.delete:this.currentRole={roleId:t.roleID,roleName:t.roleName},this.confirmationService.confirm({header:i.cfm_del,message:`${i.roles_name} : ${this.currentRole.roleName} , ${i.role_desc} : ${t.roleAlias}`,accept:()=>{this.onDeleteConfirm()}})}})}onDeleteConfirm(){this.translate.get(["message.delete","message.role","message.success"]).subscribe(o=>{this.roleService.deleteTRole(this.currentRole).subscribe(i=>{this.tool.checkDpSuccess(i.ResHeader)&&(this.messageService.clear(),this.messageService.add({severity:"success",summary:`${o["message.delete"]} ${o["message.role"]}`,detail:`${o["message.delete"]} ${o["message.success"]}!`}),this.submitForm())})})}onReject(){this.messageService.clear()}submitForm_page2(t){this.translate.get(["message.create","message.role","message.success"]).subscribe(i=>{let u={roleName:this.form_page2.get("roleName").value,roleAlias:this.form_page2.get("roleAlias").value,funcCodeList:this.form_page2.get("funcCodeList").value};this.roleService.addTRole(u).subscribe(p=>{p&&this.tool.checkDpSuccess(p.ResHeader)&&(this.messageService.add({severity:"success",summary:`${i["message.create"]} ${i["message.role"]}`,detail:`${i["message.create"]} ${i["message.success"]}!`}),this.submitForm(),this.title=`${this.title.split(">")[0]}`,this.pageNum=1)})})}update(t){this.funcCodeList.markAsTouched(),this.selected=Object.keys(t).filter(o=>o.length>4&&1==t[o]),(!this.selected||0==this.selected.length)&&(this.selected=[],this.funcCodeList.setErrors({error:"required"})),this.funcCodeList.setValue(this.selected)}reture_to_page1(){this.title=`${this.title.split(">")[0]}`,this.pageNum=1}update_page4(t){var o;this.selectedFuncList=Object.keys(t).filter(i=>i.length>4&&1==t[i]).map(i=>i),null===(o=this.form_page4.get("funcCodeList"))||void 0===o||o.setValue(this.selectedFuncList)}submitForm_page4(){var t=this;return(0,b.Z)(function*(){const i=yield t.tool.getDict(["message.update","role_info","message.success"]);t.roleService.updateTRoleFunc({roleId:t.data_page4.roleID,roleName:t.data_page4.roleName,newRoleAlias:t.newRoleAlias.value,newFuncCodeList:t.selectedFuncList}).subscribe(p=>{p&&t.tool.checkDpSuccess(p.ResHeader)&&(t.messageService.add({severity:"success",summary:`${i["message.update"]} ${i.role_info}`,detail:`${i["message.update"]} ${i["message.success"]}!`}),t.title=`${t.title.split(">")[0]}`,t.submitForm(),t.pageNum=1)})})()}headerReturn(){this.reture_to_page1()}get roleName(){return this.form_page2.get("roleName")}get roleAlias(){return this.form_page2.get("roleAlias")}get funcCodeList(){return this.form_page2.get("funcCodeList")}get newRoleAlias(){return this.form_page4.get("newRoleAlias")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(A.gz),e.Y36(v.W),e.Y36(_.qu),e.Y36(m.ez),e.Y36(N.g),e.Y36(L.P),e.Y36(R.sK),e.Y36(P.N),e.Y36(m.YP))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-ac0012"]],viewQuery:function(t,o){if(1&t&&(e.Gf(K,5),e.Gf(W,5)),2&t){let i;e.iGM(i=e.CRH())&&(o._dialog=i.first),e.iGM(i=e.CRH())&&(o.listGroup=i.first)}},features:[e._Bn([m.ez,m.YP]),e.qOj],decls:26,vars:30,consts:[[3,"title","isDefault","headerReturn"],[3,"hidden"],[3,"formGroup"],[1,"form-group","row"],[1,"col-12","d-flex","align-items-center"],[1,"col-9","col-lg-4","col-sm-6",3,"placeholder","control","searchFn"],["type","button",1,"btn","tpi-btn","tpi-second","ms-auto",3,"click"],["styleClass","p-datatable-striped","responsiveLayout","scroll",3,"columns","value"],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],["pTemplate","emptymessage"],[4,"ngIf"],[3,"title"],["dialog",""],["position","top-left"],["icon","pi pi-exclamation-triangle","styleClass","cHeader cContent cIcon"],["cd",""],[3,"width",4,"ngFor","ngForOf"],[2,"width","150px"],["scope","col",4,"ngFor","ngForOf"],["scope","col",2,"width","150px"],["scope","col"],[2,"text-align","center","width","150px"],["pButton","","pRipple","","type","button","icon","pi pi-eye","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],["pButton","","pRipple","","type","button","icon","fa fa-edit","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],["pButton","","pRipple","","type","button","icon","fa fa-trash-alt","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],[2,"color","#b7b7b7"],[2,"vertical-align","middle"],["type","button",1,"btn","tpi-header-return",3,"click"],[1,"fas","fa-angle-double-right",2,"margin-left","5px"],[3,"formGroup","ngSubmit"],["formDirective","ngForm"],[1,"col-12"],[1,"col-12","col-xl-6","col-lg-6"],["for","roleName",1,"control-label","required"],["type","text","id","roleName","formControlName","roleName",1,"form-control",3,"placeholder"],["class","text-danger",4,"ngIf"],["for","roleAlias",1,"control-label","required"],["type","text","id","roleAlias","formControlName","roleAlias",1,"form-control",3,"placeholder"],[1,"col-12","col-xl-12","col-lg-12"],[1,"required","control-label"],[1,"list-group"],["height","540px","style","width:99%;display:block;",3,"menu","showButton","selected","updateHandler",4,"ngIf"],[1,"form-group","row","text-center"],["type","submit",1,"btn","tpi-btn","tpi-second","me-3",3,"disabled"],["type","button",1,"btn","tpi-btn","tpi-primary",3,"click"],[1,"text-danger"],[1,"form-text"],["height","540px",2,"width","99%","display","block",3,"menu","showButton","selected","updateHandler"],["listgroup",""],["for","roleName",1,"control-label"],["type","text","readonly","",1,"form-control",3,"placeholder"],["for","roleAlias",1,"control-label"],["style","width:99%;display:block;",3,"height","disableCheckbox","showButton","menu","selected",4,"ngIf"],["type","button",1,"btn","tpi-btn","tpi-primary","me-3",3,"disabled","click"],[2,"width","99%","display","block",3,"height","disableCheckbox","showButton","menu","selected"],["for","roleName_page4",1,"control-label"],["for","newRoleAlias",1,"control-label","required"],["type","text","id","newRoleAlias","formControlName","newRoleAlias",1,"form-control",3,"placeholder"],[1,"control-label","required"],["style","width:99%;display:block;",3,"height","menu","showButton","selected","updateHandler",4,"ngIf"],["type","submit",1,"btn","tpi-btn","tpi-primary","me-3",3,"disabled"],["type","button",1,"btn","tpi-btn","tpi-primary","me-3",3,"click"],[2,"width","99%","display","block",3,"height","menu","showButton","selected","updateHandler"],[1,"row",2,"justify-content","center"],["type","button","pButton","","icon","pi pi-check",3,"ngStyle","label","click"],["type","button","pButton","","icon","pi pi-times",1,"p-button-secondary",3,"label","click"]],template:function(t,o){1&t&&(e.TgZ(0,"app-container",0),e.NdJ("headerReturn",function(){return o.headerReturn()}),e.TgZ(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4),e._UZ(5,"app-search-input",5),e.ALo(6,"translate"),e.ALo(7,"translate"),e.TgZ(8,"button",6),e.NdJ("click",function(){return o.create()}),e._uU(9),e.ALo(10,"translate"),e.qZA()()()(),e.TgZ(11,"p-table",7),e.YNc(12,V,5,4,"ng-template",8),e.YNc(13,ee,5,4,"ng-template",9),e.YNc(14,oe,9,10,"ng-template",10),e.YNc(15,ie,1,1,"ng-template",11),e.YNc(16,se,4,4,"ng-template",12),e.qZA()(),e.YNc(17,pe,37,30,"div",13),e.YNc(18,de,22,13,"div",13),e.YNc(19,me,31,23,"div",13),e.qZA(),e._UZ(20,"app-dialog",14,15)(22,"p-toast",16),e.TgZ(23,"p-confirmDialog",17,18),e.YNc(25,fe,5,8,"ng-template",11),e.qZA()),2&t&&(e.Q6J("title",o.title)("isDefault",1==o.pageNum),e.xp6(1),e.Q6J("hidden",1!=o.pageNum),e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(3),e.hYB("placeholder","",e.lcZ(6,21,"role_name"),"\u3001",e.lcZ(7,23,"role_desc"),""),e.Q6J("control",o.form.get("keyword"))("searchFn",o.submitForm.bind(o)),e.xp6(4),e.Oqu(e.lcZ(10,25,"button.create")),e.xp6(2),e.Akn(e.DdM(27,Ae)),e.Q6J("columns",o.cols)("value",o.roleDetailList),e.xp6(6),e.Q6J("ngIf",2==o.pageNum),e.xp6(1),e.Q6J("ngIf",3==o.pageNum),e.xp6(1),e.Q6J("ngIf",4==o.pageNum),e.xp6(1),e.Q6J("title",o.dialogTitle),e.xp6(2),e.Akn(e.DdM(28,w)),e.xp6(1),e.Akn(e.DdM(29,be)))},directives:[k.e,_._Y,_.JL,_.sg,H.J,E.iA,m.jx,h.sg,B.Hq,U.u,h.O5,_.Fj,_.JJ,_.u,G,Q.FN,Y.a,j.Q,h.PC],pipes:[R.X$],styles:[".list-group[_ngcontent-%COMP%]{display:block;border:1px solid #ddd;border-radius:5px}"]}),n})();var D=a(86347);const ve=[{path:"",component:xe,canActivate:[D.u6]}];let Ce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[A.Bz.forChild(ve)],A.Bz]}),n})();var Te=a(31890),ye=a(78555);let Re=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[s.K,D.u6],imports:[[h.ez,Ce,ye.W,Te.m,_.UX,_.u5]]}),n})()},74856:(y,x,a)=>{a.d(x,{J:()=>b});var s=a(87587),h=a(93075);let b=(()=>{class m{constructor(){this.placeholder="",this.class=""}onSearch(){this.searchFn&&this.searchFn()}onKeydown(g){g.isComposing||this.onSearch()}}return m.\u0275fac=function(g){return new(g||m)},m.\u0275cmp=s.Xpm({type:m,selectors:[["app-search-input"]],inputs:{placeholder:"placeholder",control:"control",searchFn:"searchFn",class:"class"},decls:3,vars:2,consts:[[1,"p-input-icon-right","w-100"],[1,"pi","pi-search","tpi-i-search",3,"click"],["type","search",1,"form-control","tpi-i-input",3,"placeholder","formControl","keydown.enter"]],template:function(g,f){1&g&&(s.TgZ(0,"span",0)(1,"i",1),s.NdJ("click",function(){return f.onSearch()}),s.qZA(),s.TgZ(2,"input",2),s.NdJ("keydown.enter",function(l){return f.onKeydown(l)}),s.qZA()()),2&g&&(s.xp6(2),s.Q6J("placeholder",f.placeholder)("formControl",f.control))},directives:[h.Fj,h.JJ,h.oH],styles:[""]}),m})()},63710:(y,x,a)=>{a.d(x,{e:()=>c});var s=a(87587),h=a(69808),b=a(51062);function m(l,r){if(1&l&&(s.TgZ(0,"div")(1,"h3",9),s._uU(2),s.ALo(3,"translate"),s.qZA()()),2&l){const e=s.oxw();s.xp6(2),s.Oqu(s.lcZ(3,1,e.title))}}function _(l,r){if(1&l){const e=s.EpF();s.TgZ(0,"div",10)(1,"button",11),s.NdJ("click",function(){return s.CHM(e),s.oxw().return()}),s._UZ(2,"i",12),s._uU(3),s.ALo(4,"translate"),s.qZA(),s.TgZ(5,"span",13),s._uU(6),s.qZA(),s.TgZ(7,"span",14),s._uU(8),s.qZA()()}if(2&l){const e=s.oxw();s.xp6(3),s.hij(" ",s.lcZ(4,3,"button.return_to_list")," "),s.xp6(3),s.hij("",e.getHead()," /"),s.xp6(2),s.Oqu(e.getTail())}}const g=[[["","center-view","center"]],"*"],f=["[center-view=center]","*"];let c=(()=>{class l{constructor(){this.title="",this.isDefault=!0,this.headerReturn=new s.vpe}ngOnInit(){}return(){this.headerReturn.emit(null)}getHead(){const e=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return e.pop(),e.join(" / ")}getTail(){const e=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return e[e.length-1]}}return l.\u0275fac=function(e){return new(e||l)},l.\u0275cmp=s.Xpm({type:l,selectors:[["app-container"]],inputs:{title:"title",isDefault:"isDefault"},outputs:{headerReturn:"headerReturn"},ngContentSelectors:f,decls:11,vars:2,consts:[[1,"container-fluid","h-100"],[1,"row","position-relative",2,"height","calc(100% - 40px - 0.5rem)"],[1,"col"],[2,"margin-bottom","0.5rem"],[4,"ngIf"],["style","text-align: right",4,"ngIf"],[1,"col","d-flex","justify-content-center"],[1,"my-0","mb-2"],[1,"p-2"],["id","content",1,"page-title"],[2,"text-align","right"],["type","button","icon","",1,"btn","float-start","tpi-header-return",3,"click"],[1,"fas","fa-arrow-left",2,"margin-right","5px"],[1,"mb-0",2,"font-size","0.8rem","color","#666464"],[1,"mb-0",2,"font-size","0.8rem","color","#ff6e38","font-weight","bold"]],template:function(e,A){1&e&&(s.F$t(g),s.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),s.YNc(4,m,4,3,"div",4),s.YNc(5,_,9,5,"div",5),s.TgZ(6,"div",6),s.Hsn(7),s.qZA()(),s._UZ(8,"hr",7),s.Hsn(9,1),s._UZ(10,"div",8),s.qZA()()()),2&e&&(s.xp6(4),s.Q6J("ngIf",A.isDefault),s.xp6(1),s.Q6J("ngIf",!A.isDefault))},directives:[h.O5],pipes:[b.X$],styles:[".card.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:400;color:#5a5541}"]}),l})()},86561:(y,x,a)=>{a.d(x,{a:()=>f});var s=a(87587),h=a(38441),b=a(15315);const m=["content"];function _(c,l){}const g=function(){return{height:"70vh"}};let f=(()=>{class c{constructor(r){this.ngxService=r,this.visible=!1,this.title="",this.closable=!0,this.width=300}open(r,e){this.contentRef.clear(),this.componentRef=this.contentRef.createComponent(r),this.componentRef.instance.data=e,this.componentRef.instance.close=this.onHide.bind(this),this.visible=!0}onHide(r){let e=this.componentRef.instance.data;this.componentRef.destroy(),this.visible=!1,r?r.subscribe(A=>{e&&e.afterCloseCallback&&e.afterCloseCallback(A),this.ngxService.stop()}):e&&e.afterCloseCallback&&(e.afterCloseCallback(),this.ngxService.stop())}setWidth(){return this.width+"px"}}return c.\u0275fac=function(r){return new(r||c)(s.Y36(h.LA))},c.\u0275cmp=s.Xpm({type:c,selectors:[["app-dialog"]],viewQuery:function(r,e){if(1&r&&s.Gf(m,7,s.s_b),2&r){let A;s.iGM(A=s.CRH())&&(e.contentRef=A.first)}},inputs:{visible:"visible",title:"title",closable:"closable",contentStyle:"contentStyle",width:"width"},decls:3,vars:10,consts:[["modal","true",3,"contentStyle","dismissableMask","header","visible","maximizable","draggable","closable","visibleChange","onHide"],["content",""]],template:function(r,e){1&r&&(s.TgZ(0,"p-dialog",0),s.NdJ("visibleChange",function(v){return e.visible=v})("onHide",function(){return e.onHide()}),s.YNc(1,_,0,0,"ng-template",null,1,s.W1O),s.qZA()),2&r&&(s.Akn(s.DdM(9,g)),s.Q6J("contentStyle",e.contentStyle)("dismissableMask",!0)("header",e.title)("visible",e.visible)("maximizable",!1)("draggable",!1)("closable",e.closable))},directives:[b.V],styles:[""]}),c})()},92718:(y,x,a)=>{a.d(x,{u:()=>r});var s=a(54004),h=a(70262),b=a(62843),m=a(87587),_=a(4516),g=a(89709),f=a(99291),c=a(38441),l=a(60991);let r=(()=>{class e{constructor(v,N,L,R,P){this.toolService=v,this.tokenService=N,this.router=L,this.ngxService=R,this.logoutService=P}canActivate(){return this.ngxService.stopAll(),!this.toolService.isTokenExpired()||this.toolService.refreshToken().pipe((0,s.U)(v=>!!v.access_token),(0,h.K)(this.handleError.bind(this)))}handleError(v){return setTimeout(()=>this.logoutService.logout()),(0,b._)(()=>v)}}return e.\u0275fac=function(v){return new(v||e)(m.LFG(_.g),m.LFG(g.B),m.LFG(f.F0),m.LFG(c.LA),m.LFG(l.P))},e.\u0275prov=m.Yz7({token:e,factory:e.\u0275fac}),e})()},86347:(y,x,a)=>{a.d(x,{DL:()=>s.D,u6:()=>b.u});var s=a(81233),b=(a(45240),a(92718));a(4516)},1955:(y,x,a)=>{a.d(x,{N:()=>_});var s=a(92340),h=a(57553),b=a(87587),m=a(30424);let _=(()=>{class g{constructor(c){this.api=c,this.api.baseUrl=s.N.dpPath}get basePath(){return s.N.isv4?"dgrv4/11":"tsmpdpaa/11"}addTRole(c){let l={ReqHeader:this.api.getReqHeader(h.Nx.addTRole),ReqBody:c};return this.api.npPost(`${this.basePath}/AA0011`,l)}updateTRoleFunc(c){let l={ReqHeader:this.api.getReqHeader(h.Nx.updateTRoleFunc),ReqBody:c};return this.api.npPost(`${this.basePath}/AA0013`,l)}deleteTRole(c){let l={ReqHeader:this.api.getReqHeader(h.Nx.deleteTRole),ReqBody:c};return this.api.npPost(`${this.basePath}/AA0014`,l)}addTRoleRoleMap(c){let l={ReqHeader:this.api.getReqHeader(h.Nx.addTRoleRoleMap),ReqBody:c};return this.api.npPost(`${this.basePath}/AA0016`,l)}deleteTRoleRoleMap(c){let l={ReqHeader:this.api.getReqHeader(h.Nx.deleteTRoleRoleMap),ReqBody:c};return this.api.npPost(`${this.basePath}/AA0017`,l)}updateTRoleRoleMap(c){let l={ReqHeader:this.api.getReqHeader(h.Nx.updateTRoleRoleMap),ReqBody:c};return this.api.npPost(`${this.basePath}/AA0018`,l)}queryTRoleList_v3_ignore1298(c){let l={ReqHeader:this.api.getReqHeader(h.Nx.queryTRoleList_v3),ReqBody:c};return this.api.excuteNpPost_ignore1298(`${this.basePath}/AA0020`,l)}queryTRoleList_v3(c){let l={ReqHeader:this.api.getReqHeader(h.Nx.queryTRoleList_v3),ReqBody:c};return this.api.npPost(`${this.basePath}/AA0020`,l)}queryTRoleRoleMapDetail(c){let l={ReqHeader:this.api.getReqHeader(h.Nx.queryTRoleRoleMapDetail),ReqBody:c};return this.api.npPost(`${this.basePath}/AA0021`,l)}queryTRoleRoleMap_ignore1298(c){let l={ReqHeader:this.api.getReqHeader(h.Nx.queryTRoleList_v3),ReqBody:c};return this.api.excuteNpPost_ignore1298(`${this.basePath}/AA0022`,l)}queryTRoleRoleMap(c){let l={ReqHeader:this.api.getReqHeader(h.Nx.queryTRoleList_v3),ReqBody:c};return this.api.npPost(`${this.basePath}/AA0022`,l)}queryRoleRoleList(c){let l={ReqHeader:this.api.getReqHeader(h.Nx.queryRoleRoleList),ReqBody:c};return this.api.npPost(`${this.basePath}/AA0023`,l)}createRTMap_before(){let c={ReqHeader:this.api.getReqHeader(h.Nx.createRTMap),ReqBody:{}};return this.api.npPost(`${this.basePath}/DPB0110?before`,c)}createRTMap(c){let l={ReqHeader:this.api.getReqHeader(h.Nx.createRTMap),ReqBody:c};return this.api.npPost(`${this.basePath}/DPB0110`,l)}queryRTMapList_ignore1298(c){let l={ReqHeader:this.api.getReqHeader(h.Nx.queryRTMapList),ReqBody:c};return this.api.excuteNpPost_ignore1298(`${this.basePath}/DPB0111`,l)}queryRTMapList(c){let l={ReqHeader:this.api.getReqHeader(h.Nx.queryRTMapList),ReqBody:c};return this.api.npPost(`${this.basePath}/DPB0111`,l)}queryRTMapByPk(c){let l={ReqHeader:this.api.getReqHeader(h.Nx.queryRTMapByPk),ReqBody:c};return this.api.npPost(`${this.basePath}/DPB0112`,l)}updateRTMap_before(){let c={ReqHeader:this.api.getReqHeader(h.Nx.updateRTMap),ReqBody:{}};return this.api.npPost(`${this.basePath}/DPB0113?before`,c)}updateRTMap(c){let l={ReqHeader:this.api.getReqHeader(h.Nx.updateRTMap),ReqBody:c};return this.api.npPost(`${this.basePath}/DPB0113`,l)}deleteRTMap(c){let l={ReqHeader:this.api.getReqHeader(h.Nx.deleteRTMap),ReqBody:c};return this.api.npPost(`${this.basePath}/DPB0114`,l)}queryRTMapByUk(c){let l={ReqHeader:this.api.getReqHeader(h.Nx.queryRTMapByUk),ReqBody:c};return this.api.npPost(`${this.basePath}/DPB0115`,l)}}return g.\u0275fac=function(c){return new(c||g)(b.LFG(m.K))},g.\u0275prov=b.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})()}}]);