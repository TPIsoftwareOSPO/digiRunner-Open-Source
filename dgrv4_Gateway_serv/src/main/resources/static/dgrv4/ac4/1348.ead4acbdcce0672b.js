"use strict";(self.webpackChunksrcAngular=self.webpackChunksrcAngular||[]).push([[1348],{51348:(V,q,a)=>{a.r(q),a.d(q,{Ac0228Module:()=>Ve});var o=a(69808),m=a(99291),v=a(15861),g=a(14525),s=a(93075),y=a(59783),A=a(71764),e=a(87587),p=a(56435),f=a(4516),c=a(71330),B=a(41313),u=a(86518),T=a(22313),Z=a(63710),N=a(74856),C=a(23099),k=a(40845),L=a(4119),x=a(49603),P=a(73407),F=a(14036),M=a(76746),J=a(17773),H=a(19114),Y=a(51062),Q=a(72129);const K=["keyValueComp"];function G(l,d){1&l&&e._UZ(0,"col"),2&l&&e.Udp("width",d.$implicit.width)}function j(l,d){if(1&l&&(e.TgZ(0,"colgroup"),e.YNc(1,G,1,2,"col",97),e.qZA(),e.TgZ(2,"colgroup",98),e._uU(3),e.ALo(4,"translate"),e.qZA()),2&l){const t=d.$implicit;e.xp6(1),e.Q6J("ngForOf",t),e.xp6(2),e.Oqu(e.lcZ(4,2,"action"))}}function W(l,d){if(1&l&&(e.TgZ(0,"th",101),e._uU(1),e.qZA()),2&l){const t=d.$implicit;e.xp6(1),e.hij(" ",t.header," ")}}function z(l,d){if(1&l&&(e.TgZ(0,"tr"),e.YNc(1,W,2,1,"th",99),e.TgZ(2,"th",100),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&l){const t=d.$implicit;e.xp6(1),e.Q6J("ngForOf",t),e.xp6(2),e.hij("",e.lcZ(4,2,"action")," ")}}function X(l,d){if(1&l&&(e.TgZ(0,"td")(1,"span"),e._uU(2),e.qZA()()),2&l){const t=d.$implicit,n=e.oxw().$implicit;e.Udp("width",t.width),e.xp6(2),e.hij(" ",n[t.field]," ")}}function ee(l,d){if(1&l){const t=e.EpF();e.TgZ(0,"tr"),e.YNc(1,X,3,3,"td",97),e.TgZ(2,"td",102)(3,"button",103),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(2).viewGtwIdPinfoList(_)}),e.ALo(4,"translate"),e.qZA()()()}if(2&l){const t=d.columns;e.xp6(1),e.Q6J("ngForOf",t),e.xp6(2),e.Q6J("pTooltip",e.lcZ(4,2,"button.detail"))}}function te(l,d){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td",105)(2,"span",106),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"button",107),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).moreClientList()}),e._uU(6),e.ALo(7,"translate"),e._UZ(8,"i",108),e.qZA()()()}if(2&l){const t=e.oxw().$implicit,n=e.oxw(2);e.xp6(1),e.uIk("colspan",t.length+1),e.xp6(2),e.AsE("",e.lcZ(4,4,"row_count"),": ",n.clientList.length,""),e.xp6(3),e.hij("",e.lcZ(7,6,"button.more")," ")}}function ie(l,d){if(1&l&&e.YNc(0,te,9,8,"tr",104),2&l){const t=e.oxw(2);e.Q6J("ngIf",t.clientList.length>0)}}function ne(l,d){if(1&l&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l){const t=d.$implicit;e.xp6(1),e.uIk("colspan",t.length+1),e.xp6(1),e.hij(" ",e.lcZ(3,2,"no_rec")," ")}}const O=function(){return{"word-break":"break-word"}};function oe(l,d){if(1&l&&(e.TgZ(0,"p-table",95),e.YNc(1,j,5,4,"ng-template",96),e.YNc(2,z,5,4,"ng-template",11),e.YNc(3,ee,5,4,"ng-template",12),e.YNc(4,ie,1,1,"ng-template",94),e.YNc(5,ne,4,4,"ng-template",13),e.qZA()),2&l){const t=e.oxw();e.Akn(e.DdM(4,O)),e.Q6J("columns",t.clientListCols)("value",t.clientList)}}function le(l,d){1&l&&(e.TgZ(0,"tr")(1,"th",109),e._uU(2,"Icon"),e.qZA(),e.TgZ(3,"th",110),e._uU(4,"ID"),e.qZA(),e.TgZ(5,"th",110),e._uU(6,"HTTP Method"),e.qZA(),e.TgZ(7,"th",110),e._uU(8,"Page Title"),e.qZA(),e.TgZ(9,"th",111),e._uU(10,"Create User"),e.qZA(),e.TgZ(11,"th",111),e._uU(12,"Create Time"),e.qZA(),e.TgZ(13,"th",112),e._uU(14),e.ALo(15,"translate"),e.qZA()(),e.TgZ(16,"tr")(17,"th",113),e._uU(18,"Enable"),e.qZA(),e.TgZ(19,"th",113),e._uU(20,"URL"),e.qZA(),e.TgZ(21,"th",113),e._uU(22,"Remark"),e.qZA(),e.TgZ(23,"th",113),e._uU(24,"Update User"),e.qZA(),e.TgZ(25,"th",113),e._uU(26,"Update Time"),e.qZA()()),2&l&&(e.xp6(14),e.Oqu(e.lcZ(15,1,"action")))}function re(l,d){if(1&l){const t=e.EpF();e.TgZ(0,"tr")(1,"td",114),e._UZ(2,"img",115),e.ALo(3,"safeUrl"),e.qZA(),e.TgZ(4,"td",116),e._uU(5),e.qZA(),e.TgZ(6,"td",116),e._uU(7),e.qZA(),e.TgZ(8,"td",116),e._uU(9),e.qZA(),e.TgZ(10,"td",116),e._uU(11),e.qZA(),e.TgZ(12,"td",116),e._uU(13),e.qZA(),e.TgZ(14,"td",117)(15,"button",103),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw().changePage("detail",_)}),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"button",118),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw().changePage("update",_)}),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"button",119),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw().changePage("delete",_)}),e.ALo(20,"translate"),e.qZA()()(),e.TgZ(21,"tr")(22,"td",120),e._UZ(23,"img",121),e.qZA(),e.TgZ(24,"td",116),e._uU(25),e.qZA(),e.TgZ(26,"td",116),e._uU(27),e.qZA(),e.TgZ(28,"td",116),e._uU(29),e.qZA(),e.TgZ(30,"td",116),e._uU(31),e.qZA()()}if(2&l){const t=d.$implicit,n=e.oxw();e.xp6(2),e.Q6J("alt",t.iconFile)("src",e.lcZ(3,16,t.iconFile),e.LSH),e.xp6(3),e.Oqu(t.id),e.xp6(2),e.Oqu(t.apiMethod),e.xp6(2),e.Oqu(t.pageTitle),e.xp6(2),e.Oqu(t.createUser),e.xp6(2),e.Oqu(n.formateDate(t.createDateTime)),e.xp6(2),e.Q6J("pTooltip",e.lcZ(16,18,"button.detail")),e.xp6(2),e.Q6J("pTooltip",e.lcZ(18,20,"button.update")),e.xp6(2),e.Q6J("pTooltip",e.lcZ(20,22,"button.delete")),e.xp6(4),e.Q6J("alt",t.status)("src","Y"===t.status?"assets/images/icon_green.png":"assets/images/icon_red.png",e.LSH),e.xp6(2),e.Oqu(t.apiUrl),e.xp6(2),e.Oqu(t.remark),e.xp6(2),e.Oqu(t.updateUser),e.xp6(2),e.Oqu(n.formateDate(t.updateDateTime))}}function ae(l,d){1&l&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l&&(e.xp6(1),e.uIk("colspan",9),e.xp6(1),e.hij(" ",e.lcZ(3,2,"no_rec")," "))}function se(l,d){if(1&l&&(e.TgZ(0,"div",122)(1,"small",123),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.clientId?null:t.clientId.errors.isRequired))}}function ue(l,d){if(1&l&&(e.TgZ(0,"div",122)(1,"small",123),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"small",123),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,null==t.status?null:t.status.errors.pattern)),e.xp6(3),e.Oqu(e.lcZ(6,4,null==t.status?null:t.status.errors.isRequired))}}function de(l,d){if(1&l&&(e.TgZ(0,"div",122)(1,"small",123),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.pageTitle?null:t.pageTitle.errors.isRequired))}}function ce(l,d){if(1&l){const t=e.EpF();e.TgZ(0,"button",40),e.NdJ("click",function(){return e.CHM(t),e.oxw().clearFile()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}2&l&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"remove")))}function pe(l,d){1&l&&e._UZ(0,"div",124)}function me(l,d){if(1&l&&(e.TgZ(0,"div",122)(1,"small",123),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"small",123),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,2,null==t.apiUrl?null:t.apiUrl.errors.isRequired)),e.xp6(3),e.Oqu(e.lcZ(6,4,null==t.apiUrl?null:t.apiUrl.errors.pattern))}}function ye(l,d){if(1&l&&(e.ynx(0),e.TgZ(1,"div",25),e._UZ(2,"p-radioButton",125),e.TgZ(3,"label",126),e._uU(4),e.qZA()(),e.BQk()),2&l){const t=d.$implicit;e.xp6(2),e.s9C("value",t.value),e.MGl("inputId","reqBodyType_",t.value,""),e.xp6(1),e.MGl("for","reqBodyType_",t.value,""),e.xp6(1),e.Oqu(t.label)}}function _e(l,d){if(1&l&&(e.TgZ(0,"div",122)(1,"small",123),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.reqBodyType?null:t.reqBodyType.errors.isRequired))}}function ge(l,d){if(1&l&&(e.TgZ(0,"div",127)(1,"div",128),e._UZ(2,"textarea",129),e.qZA(),e.TgZ(3,"div",30)(4,"label",8),e._uU(5,"Request Example"),e.qZA(),e.TgZ(6,"div",32),e._UZ(7,"textarea",130),e.qZA()()()),2&l){const t=e.oxw();e.xp6(7),e.Q6J("readOnly",!0)("value",t.rawExp)}}function fe(l,d){if(1&l&&(e.ynx(0),e.TgZ(1,"div",25),e._UZ(2,"p-radioButton",131),e.TgZ(3,"label",126),e._uU(4),e.qZA()(),e.BQk()),2&l){const t=d.$implicit;e.xp6(2),e.s9C("value",t.value),e.MGl("inputId","respType",t.value,""),e.xp6(1),e.MGl("for","respType",t.value,""),e.xp6(1),e.Oqu(t.label)}}function he(l,d){if(1&l&&(e.TgZ(0,"div",122)(1,"small",123),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.sucByType?null:t.sucByType.errors.isRequired))}}function ve(l,d){if(1&l&&(e.TgZ(0,"div",122)(1,"small",123),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.sucByField?null:t.sucByField.errors.isRequired))}}function Te(l,d){if(1&l&&(e.TgZ(0,"div",122)(1,"small",123),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&l){const t=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,1,null==t.sucByValue?null:t.sucByValue.errors.isRequired))}}function Ze(l,d){if(1&l){const t=e.EpF();e.TgZ(0,"button",132),e.NdJ("click",function(){return e.CHM(t),e.oxw().create()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("disabled",!t.formEdit.valid),e.xp6(1),e.Oqu(e.lcZ(2,2,"button.create"))}}function be(l,d){if(1&l){const t=e.EpF();e.TgZ(0,"button",133),e.NdJ("click",function(){return e.CHM(t),e.oxw().update()}),e._uU(1),e.ALo(2,"translate"),e.qZA()}if(2&l){const t=e.oxw();e.Q6J("disabled",!t.formEdit.valid),e.xp6(1),e.Oqu(e.lcZ(2,2,"button.update"))}}const Ae=function(){return{backgroundColor:"var(--red-300)","border-color":"var(--red-300)"}};function qe(l,d){if(1&l){const t=e.EpF();e.TgZ(0,"div",134)(1,"button",135),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(192).accept()}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"button",136),e.NdJ("click",function(){return e.CHM(t),e.oxw(),e.MAs(192).reject()}),e.ALo(4,"translate"),e.qZA()()}2&l&&(e.xp6(1),e.s9C("label",e.lcZ(2,3,"button.confirm")),e.Q6J("ngStyle",e.DdM(7,Ae)),e.xp6(2),e.s9C("label",e.lcZ(4,5,"button.cancel")))}const Be=function(){return{display:"flex",width:"100%","align-items":"center"}},Ce=function(){return{width:"100%"}},Ie=function(){return{marginTop:"60px"}},xe=function(){return{width:"50vw"}};let Re=(()=>{class l extends g.H{constructor(t,n,i,_,h,I,b,r,R,U){super(t,n),this.fb=i,this.toolService=_,this.openApiService=h,this.messageService=I,this.confirmationService=b,this.serverService=r,this.alertService=R,this.sanitizer=U,this.currentTitle=this.title,this.pageNum=1,this.clientListCols=[],this.clientList=[],this.currentAction="",this.gtwIdpList=[],this.methodsList=[{value:"POST",label:"POST"},{value:"GET",label:"GET"}],this._fileSrc=null,this.bodyType=[{value:"N",label:"none"},{value:"F",label:"form-data"},{value:"X",label:"x-www-form-urlencoded"},{value:"R",label:"raw"}],this.respType=[{value:"H",label:"HTTP status"},{value:"R",label:"HTTP status + return code"}],this.idTokenExp='{\n    "at_hash": "FOiDD5zzh0sLqMMYGkovbw",\n    "aud": "aud",\n    "sub": "user_sub",\n    "iss": "https://domain/dgrv4/ssotoken/API",\n    "name": "{{$user.name_th%}} {{$user.name_en%}}",\n    "exp": 1690611646,\n    "iat": 1685427646,\n    "email": "{{$user.email%}}",\n    "picture": "{{$user.picture%}}",\n    "lightId": "{{$user.lightId%}}",\n    "roleName": {{$user.roleName%}}\n  }',this.rawExp='{\n    "username": "{{$username%}}",\n    "password": "{{$password%}}",\n    "uid": "{{$ip%}}",\n    "check": "Y"\n}'}ngOnInit(){var t=this;return(0,v.Z)(function*(){t.form=t.fb.group({keyword:new s.NI("")}),t.formEdit=t.fb.group({id:new s.NI({value:"",disabled:!0}),clientId:new s.NI({value:"",disabled:!0}),status:new s.NI(""),remark:new s.NI(""),apiMethod:new s.NI(""),apiUrl:new s.NI(""),reqHeader:new s.NI(""),reqBodyType:new s.NI(""),reqBody:new s.NI(""),sucByType:new s.NI(""),sucByField:new s.NI(""),sucByValue:new s.NI(""),idtName:new s.NI(""),idtEmail:new s.NI(""),idtPicture:new s.NI(""),iconFile:new s.NI(""),pageTitle:new s.NI(""),createUser:new s.NI(""),createDateTime:new s.NI(""),updateUser:new s.NI(""),updateDateTime:new s.NI(""),idtLightId:new s.NI(""),idtRoleName:new s.NI("")});const i=yield t.toolService.getDict(["client_id","client_name","client_alias"]);t.clientListCols=[{field:"clientId",header:i.client_id},{field:"clientName",header:i.client_name},{field:"clientAlias",header:i.client_alias}],t.openApiService.queryClientListByRegStatusLike_ignore1298({keyword:t.keyword.value,regStatus:"2"}).subscribe(_=>{t.toolService.checkDpSuccess(_.ResHeader)&&(t.clientList=_.RespBody.dataList)})})()}queryClientList(){this.clientList=[],this.currentClient=void 0,this.openApiService.queryClientListByRegStatusLike({keyword:this.keyword.value,regStatus:"2"}).subscribe(n=>{this.toolService.checkDpSuccess(n.ResHeader)&&(this.clientList=n.RespBody.dataList)})}headerReturn(){this.pageNum>2?(this.pageNum=2,this.currentTitle=`${this.title} > GTW API IdP Client List`):this.changePage("queryClientList")}viewGtwIdPinfoList(t){this.currentClient=t,this.queryGtwIdPInfoByClientId_api()}queryGtwIdPInfoByClientId_api(){var t;this.pageNum=2,this.currentTitle=`${this.title} > GTW API IdP Client List`;let n={clientId:null===(t=this.currentClient)||void 0===t?void 0:t.clientId};this.gtwIdpList=[],this.serverService.queryGtwIdPInfoByClientId_api(n).subscribe(i=>{this.toolService.checkDpSuccess(i.ResHeader)&&(this.gtwIdpList=i.RespBody.dataList)})}moreClientList(){this.openApiService.queryClientListByRegStatusLike({clientId:this.clientList[this.clientList.length-1].clientId,keyword:this.keyword.value,regStatus:"2"}).subscribe(n=>{this.toolService.checkDpSuccess(n.ResHeader)&&(this.clientList=this.clientList.concat(n.RespBody.dataList))})}changePage(t,n){var i=this;return(0,v.Z)(function*(){const h=yield i.toolService.getDict(["button.detail","button.create","button.update","cfm_del","message.delete","message.success"]);switch(i.resetFormValidator(i.formEdit),i.currentAction=t,i.formEdit.enable(),i.clearFile(),t){case"queryClientList":i.currentTitle=i.title,i.pageNum=1;break;case"clientList":i.currentTitle=`${i.title} > GTW API IdP Client List`,i.pageNum=2;break;case"detail":i.serverService.queryIdPUserDetail_api({id:null==n?void 0:n.id}).subscribe(r=>{i.toolService.checkDpSuccess(r.ResHeader)&&(i.currentTitle+=`> ${h["button.detail"]}`,i.pageNum=4,i.gtwIdPInfo=r.RespBody,i.formEdit.disable(),i.id.setValue(r.RespBody.id),i.clientId.setValue(r.RespBody.clientId),i.status.setValue(r.RespBody.status),i.remark.setValue(r.RespBody.remark),i.apiMethod.setValue(r.RespBody.apiMethod),i.apiUrl.setValue(r.RespBody.apiUrl),i.reqHeader.setValue(r.RespBody.reqHeader),i.reqBodyType.setValue(r.RespBody.reqBodyType),("F"===i.reqBodyType.value||"X"===i.reqBodyType.value)&&i.reqBody.disable(),i.reqBody.setValue(r.RespBody.reqBody),i.sucByType.setValue(r.RespBody.sucByType),i.sucByField.setValue(r.RespBody.sucByField),i.sucByValue.setValue(r.RespBody.sucByValue),i.idtName.setValue(r.RespBody.idtName),i.idtEmail.setValue(r.RespBody.idtEmail),i.idtPicture.setValue(r.RespBody.idtPicture),r.RespBody.iconFile&&(i._fileSrc=r.RespBody.iconFile),i.pageTitle.setValue(r.RespBody.pageTitle),i.createUser.setValue(r.RespBody.createUser),i.createDateTime.setValue(r.RespBody.createDateTime?i.toolService.setformate(new Date(r.RespBody.createDateTime),"YYYY-MM-DD HH:mm:ss"):""),i.updateUser.setValue(r.RespBody.updateUser),i.updateDateTime.setValue(r.RespBody.updateDateTime?i.toolService.setformate(new Date(r.RespBody.updateDateTime),"YYYY-MM-DD HH:mm:ss"):""),i.idtLightId.setValue(r.RespBody.idtLightId),i.idtRoleName.setValue(r.RespBody.idtRoleName))});break;case"create":i.serverService.createGtwIdPInfo_api_before().subscribe(r=>{var R,U,D,E;i.toolService.checkDpSuccess(r.ResHeader)&&(i.currentTitle+=`> ${h["button.create"]}`,i.pageNum=4,i.addFormValidator(i.formEdit,r.RespBody.constraints),null===(R=i.clientId)||void 0===R||R.setValue(null===(U=i.currentClient)||void 0===U?void 0:U.clientId),null===(D=i.clientId)||void 0===D||D.disable(),null===(E=i.status)||void 0===E||E.markAsTouched(),i.sucByType.markAsTouched(),i.reqBodyType.markAsTouched(),i.sucByType.valueChanges.subscribe(w=>{"R"===w?i.addFormValidator(i.formEdit,[{field:"sucByField",type:"string",isRequired:{msg:"\u5fc5\u586b",value:!0}},{field:"sucByValue",type:"string",isRequired:{msg:"\u5fc5\u586b",value:!0}}]):(i.sucByField.clearValidators(),i.sucByField.updateValueAndValidity(),i.sucByValue.clearValidators(),i.sucByValue.updateValueAndValidity()),i.formEdit.updateValueAndValidity()}),i.reqBodyType.valueChanges.subscribe(w=>{i.reqBody.setValue(""),("F"==w||"X"==w)&&i.keyValueComp.addKeyValue()}))});break;case"update":i.serverService.queryIdPUserDetail_api({id:null==n?void 0:n.id}).subscribe(r=>{i.toolService.checkDpSuccess(r.ResHeader)&&(i.gtwIdPInfo=r.RespBody,i.serverService.updateGtwIdPInfo_api_before().subscribe(R=>{i.toolService.checkDpSuccess(R.ResHeader)&&(i.currentTitle+=`> ${h["button.update"]}`,i.pageNum=4,i.addFormValidator(i.formEdit,R.RespBody.constraints),i.id.setValue(r.RespBody.id),i.id.disable(),i.clientId.setValue(r.RespBody.clientId),i.clientId.disable(),i.status.setValue(r.RespBody.status),i.remark.setValue(r.RespBody.remark),i.apiMethod.setValue(r.RespBody.apiMethod),i.apiUrl.setValue(r.RespBody.apiUrl),i.reqHeader.setValue(r.RespBody.reqHeader),i.reqBodyType.setValue(r.RespBody.reqBodyType),i.reqBody.setValue(r.RespBody.reqBody),i.sucByType.setValue(r.RespBody.sucByType),i.sucByField.setValue(r.RespBody.sucByField),i.sucByValue.setValue(r.RespBody.sucByValue),i.idtName.setValue(r.RespBody.idtName),i.idtEmail.setValue(r.RespBody.idtEmail),i.idtPicture.setValue(r.RespBody.idtPicture),i.idtLightId.setValue(r.RespBody.idtLightId),i.idtRoleName.setValue(r.RespBody.idtRoleName),r.RespBody.iconFile&&(i._fileSrc=r.RespBody.iconFile),i.pageTitle.setValue(r.RespBody.pageTitle),i.sucByType.valueChanges.subscribe(U=>{"R"===U?(i.addFormValidator(i.formEdit,[{field:"sucByField",type:"string",isRequired:{msg:"\u5fc5\u586b",value:!0}},{field:"sucByValue",type:"string",isRequired:{msg:"\u5fc5\u586b",value:!0}}]),i.sucByField.setValue(r.RespBody.sucByField?r.RespBody.sucByField:""),i.sucByField.markAsTouched(),i.sucByValue.setValue(r.RespBody.sucByField?r.RespBody.sucByField:""),i.sucByValue.markAsTouched()):(i.sucByField.clearValidators(),i.sucByField.updateValueAndValidity(),i.sucByValue.clearValidators(),i.sucByValue.updateValueAndValidity()),i.formEdit.updateValueAndValidity()}),i.reqBodyType.valueChanges.subscribe(U=>{i.reqBody.setValue(""),("F"==U||"X"==U)&&i.keyValueComp.addKeyValue()}))}))});break;case"delete":i.confirmationService.confirm({header:h.cfm_del,message:`${null==n?void 0:n.id}`,accept:()=>{i.serverService.deleteGtwIdPInfo_api({id:n.id}).subscribe(function(){var r=(0,v.Z)(function*(R){i.toolService.checkDpSuccess(R.ResHeader)&&(i.messageService.add({severity:"success",summary:`${h["message.delete"]} GTW API IdP Client List`,detail:`${h["message.delete"]} ${h["message.success"]}!`}),i.queryGtwIdPInfoByClientId_api())});return function(R){return r.apply(this,arguments)}}())}})}})()}formateDate(t){if(!t)return"";const n=Number(t);return"Invalid Date"!=A(n).format("YYYY-MM-DD HH:mm:ss")?A(n).format("YYYY-MM-DD HH:mm:ss"):""}openFileBrowser(){$("#fileName").click()}clearFile(){this._fileSrc=null,$("#fileName").val("")}fileChange(t){var n=this;return(0,v.Z)(function*(){const _=yield n.toolService.getDict(["uploading","cfm_img_format","cfm_size","message.success","upload_result","waiting"]);if(0!=t.length){let h=new FileReader;h.onloadend=()=>{if(t.item(0).size>2e3)return n.alertService.ok("Error","File size cannot exceed 2k."),void n.clearFile();n.messageService.add({severity:"success",summary:_.upload_result,detail:`${_["message.success"]}!`}),n._fileSrc=h.result},h.readAsDataURL(t.item(0))}else n._fileSrc=null})()}create(){var t=this;return(0,v.Z)(function*(){const i=yield t.toolService.getDict(["header_required","body_keyvalue_required","body_raw_required"]);if(t.reqHeader.value&&!JSON.parse(t.reqHeader.value).every(b=>Object.keys(b).map(r=>""!=r&&""!=b[r])[0]))return void t.alertService.ok(i.header_required,"");if("N"!==t.reqBodyType.value){if(!t.reqBody.value||""===t.reqBody.value)return void t.alertService.ok("R"===t.reqBodyType.value?i.body_raw_required:i.body_keyvalue_required,"");if(("F"==t.reqBodyType.value||"X"==t.reqBodyType.value)&&!JSON.parse(t.reqBody.value).every(b=>Object.keys(b).map(r=>""!=r&&""!=b[r])[0]))return void t.alertService.ok(i.body_keyvalue_required,"")}let _={clientId:t.clientId.value,status:t.status.value,remark:t.remark.value,apiMethod:t.apiMethod.value,apiUrl:t.apiUrl.value,reqBodyType:t.reqBodyType.value,sucByType:t.sucByType.value,idtName:t.idtName.value,idtEmail:t.idtEmail.value,idtPicture:t.idtPicture.value,pageTitle:t.pageTitle.value,idtLightId:t.idtLightId.value,idtRoleName:t.idtRoleName.value};t.reqHeader.value&&""!==t.reqHeader.value&&(_.reqHeader=t.reqHeader.value),"N"!==t.reqBodyType.value&&(_.reqBody=t.reqBody.value),"R"===t.sucByType.value&&(_.sucByField=t.sucByField.value,_.sucByValue=t.sucByValue.value),t._fileSrc&&(_.iconFile=t._fileSrc),t.serverService.createGtwIdPInfo_api(_).subscribe(function(){var h=(0,v.Z)(function*(I){if(t.toolService.checkDpSuccess(I.ResHeader)){const b=["message.create","message.success"],r=yield t.toolService.getDict(b);t.messageService.add({severity:"success",summary:`${r["message.create"]} GTW API IdP Client List`,detail:`${r["message.create"]} ${r["message.success"]}!`}),t.queryGtwIdPInfoByClientId_api()}});return function(I){return h.apply(this,arguments)}}())})()}update(){var t=this;return(0,v.Z)(function*(){const i=yield t.toolService.getDict(["header_required","body_keyvalue_required","body_raw_required"]);if(t.reqHeader.value&&!JSON.parse(t.reqHeader.value).every(b=>Object.keys(b).map(r=>""!=r&&""!=b[r])[0]))return void t.alertService.ok(i.header_required,"");if("N"!==t.reqBodyType.value){if(!t.reqBody.value||""===t.reqBody.value)return void t.alertService.ok("R"===t.reqBodyType.value?i.body_raw_required:i.body_keyvalue_required,"");if(("F"==t.reqBodyType.value||"X"==t.reqBodyType.value)&&!JSON.parse(t.reqBody.value).every(b=>Object.keys(b).map(r=>""!=r&&""!=b[r])[0]))return void t.alertService.ok(i.body_keyvalue_required,"")}let _={id:t.id.value,clientId:t.clientId.value,status:t.status.value,remark:t.remark.value,apiMethod:t.apiMethod.value,apiUrl:t.apiUrl.value,reqBodyType:t.reqBodyType.value,sucByType:t.sucByType.value,idtName:t.idtName.value,idtEmail:t.idtEmail.value,idtPicture:t.idtPicture.value,pageTitle:t.pageTitle.value,idtLightId:t.idtLightId.value,idtRoleName:t.idtRoleName.value};t.reqHeader.value&&""!==t.reqHeader.value&&(_.reqHeader=t.reqHeader.value),"N"!==t.reqBodyType.value&&(_.reqBody=t.reqBody.value),"R"===t.sucByType.value&&(_.sucByField=t.sucByField.value,_.sucByValue=t.sucByValue.value),t._fileSrc&&(_.iconFile=t._fileSrc),t.serverService.updateGtwIdPInfo_api(_).subscribe(function(){var h=(0,v.Z)(function*(I){if(t.toolService.checkDpSuccess(I.ResHeader)){const b=["message.update","message.success"],r=yield t.toolService.getDict(b);t.messageService.add({severity:"success",summary:`${r["message.update"]} GTW API IdP Client List`,detail:`${r["message.update"]} ${r["message.success"]}!`}),t.queryGtwIdPInfoByClientId_api()}});return function(I){return h.apply(this,arguments)}}())})()}get keyword(){return this.form.get("keyword")}get id(){return this.formEdit.get("id")}get clientId(){return this.formEdit.get("clientId")}get status(){return this.formEdit.get("status")}get remark(){return this.formEdit.get("remark")}get apiMethod(){return this.formEdit.get("apiMethod")}get apiUrl(){return this.formEdit.get("apiUrl")}get reqHeader(){return this.formEdit.get("reqHeader")}get reqBodyType(){return this.formEdit.get("reqBodyType")}get reqBody(){return this.formEdit.get("reqBody")}get sucByType(){return this.formEdit.get("sucByType")}get sucByField(){return this.formEdit.get("sucByField")}get sucByValue(){return this.formEdit.get("sucByValue")}get idtName(){return this.formEdit.get("idtName")}get idtEmail(){return this.formEdit.get("idtEmail")}get idtPicture(){return this.formEdit.get("idtPicture")}get iconFile(){return this.formEdit.get("iconFile")}get pageTitle(){return this.formEdit.get("pageTitle")}get createUser(){return this.formEdit.get("createUser")}get createDateTime(){return this.formEdit.get("createDateTime")}get updateUser(){return this.formEdit.get("updateUser")}get updateDateTime(){return this.formEdit.get("updateDateTime")}get idtLightId(){return this.formEdit.get("idtLightId")}get idtRoleName(){return this.formEdit.get("idtRoleName")}}return l.\u0275fac=function(t){return new(t||l)(e.Y36(m.gz),e.Y36(p.W),e.Y36(s.qu),e.Y36(f.g),e.Y36(c.l),e.Y36(y.ez),e.Y36(y.YP),e.Y36(B.N),e.Y36(u.c),e.Y36(T.H7))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-ac0228"]],viewQuery:function(t,n){if(1&t&&e.Gf(K,5),2&t){let i;e.iGM(i=e.CRH())&&(n.keyValueComp=i.first)}},features:[e._Bn([y.ez,y.YP]),e.qOj],decls:194,vars:80,consts:[[3,"title","isDefault","headerReturn"],[3,"hidden"],[3,"formGroup"],[1,"form-group","row","col-12"],[1,"col-9","col-lg0-6","col-sm-6",3,"placeholder","control","searchFn"],["selectionMode","single","styleClass","p-datatable-striped","responsiveLayout","scroll",3,"columns","value","style",4,"ngIf"],[1,"form-group","row"],[1,"col-12","col-xl-12","col-lg-12"],[1,"control-label"],["type","button",1,"btn","tpi-btn","tpi-second","float-end",3,"click"],["responsiveLayout","scroll","styleClass","p-datatable-striped",3,"value"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"form-group","row","mt-3"],["type","button",1,"btn","tpi-btn","tpi-primary","float-start","me-3",3,"click"],[1,"form-group","row",3,"hidden"],[1,"col-3"],["id","id_label","for","id",1,"control-label"],["type","text","id","id","formControlName","id",1,"form-control"],["id","clientId_label","for","clientId",1,"control-label"],["type","text","id","clientId","formControlName","clientId",1,"form-control"],["class","text-danger",4,"ngIf"],["id","status_label",1,"control-label"],[1,"p-form-check-line","form-group"],[1,"p-form-check"],["formControlName","status","value","Y","inputId","statusY"],["for","statusY",1,"ms-2","mb-0"],["formControlName","status","value","N","inputId","statusN"],["for","statusN",1,"ms-2","mb-0"],[1,"col-6"],["id","remark_label","for","remark",1,"control-label"],[2,"display","block"],["rows","2","id","remark","formControlName","remark","pInputTextarea","",2,"width","100%"],["id","pageTitle_label","for","pageTitle",1,"control-label"],["type","text","id","pageTitle","formControlName","pageTitle",1,"form-control"],[1,"col-8"],["for","iconFile",1,"control-label"],[1,"d-flex","col-auto",3,"hidden"],[1,"me-2"],["type","button",1,"btn","tpi-btn","tpi-night","pull-right",3,"click"],[1,""],["type","button","class","btn tpi-btn tpi-night pull-right",3,"click",4,"ngIf"],[1,"col-sm-6",2,"padding-right","unset"],["type","file","id","fileName","formControlName","iconFile",2,"display","none",3,"change"],[1,"col-auto",3,"hidden"],[3,"src"],["class","col-12 ms-3","class","noimg",4,"ngIf"],[1,"col-12"],[1,"form-group","px-5","py-2","keyValueContent"],["id","apiMethod_label","for","apiMethod",1,"control-label"],[1,"col-12","px-0"],["formControlName","apiMethod",3,"options"],["type","text","formControlName","apiUrl",1,"form-control","ms-2"],["id","reqHeader_label","for","reqHeader",1,"control-label"],["formControlName","reqHeader"],["id","reqBodyType_label",1,"control-label"],[4,"ngFor","ngForOf"],["formControlName","reqBody",3,"required","hidden"],["keyValueComp",""],["class","row form-group",4,"ngIf"],[1,"form-group","px-5","pt-2","keyValueContent"],["id","sucByField_label","for","sucByField",1,"control-label","required"],["type","text","id","sucByField","formControlName","sucByField",1,"form-control"],["id","sucByValue_label","for","sucByValue",1,"control-label","required"],["type","text","id","sucByValue","formControlName","sucByValue",1,"form-control"],[1,"form-group","row","pb-2"],[1,"col-12","px-0","form-group"],["id","idtName_label","for","idtName",1,"control-label",2,"font-weight","bolder"],["type","text","id","idtName","formControlName","idtName",1,"form-control"],["id","idtEmail_label","for","idtEmail",1,"control-label",2,"font-weight","bolder"],["type","text","id","idtEmail","formControlName","idtEmail",1,"form-control"],["id","idtPicture_label","for","idtPicture",1,"control-label",2,"font-weight","bolder"],["type","text","id","idtPicture","formControlName","idtPicture",1,"form-control"],["id","idtLightId_label","for","idtLightId",1,"control-label",2,"font-weight","bolder"],["type","text","id","idtLightId","formControlName","idtLightId",1,"form-control"],["id","idtRoleName_label","for","idtRoleName",1,"control-label",2,"font-weight","bolder"],["type","text","id","idtRoleName","formControlName","idtRoleName",1,"form-control"],["rows","15","pInputTextarea","",1,"form-control",2,"width","100%",3,"readOnly","value"],["id","createUser_label","for","createUser",1,"control-label"],["type","text","id","createUser","formControlName","createUser",1,"form-control"],["id","createDateTime_label","for","createDateTime",1,"control-label"],["type","text","id","createDateTime","formControlName","createDateTime",1,"form-control"],["id","updateUser_label","for","updateUser",1,"control-label"],["type","text","id","updateUser","formControlName","updateUser",1,"form-control"],["id","updateDateTime_label","for","updateDateTime",1,"control-label"],["type","text","id","updateDateTime","formControlName","updateDateTime",1,"form-control"],[1,"col-12","col-lg-12"],["type","button","class","btn tpi-btn tpi-second float-start me-3",3,"disabled","click",4,"ngIf"],["type","button","class","btn tpi-btn tpi-primary float-start me-3",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","tpi-btn","tpi-primary","float-start",3,"click"],["position","top-left"],["icon","pi pi-exclamation-triangle","styleClass","cHeader cContent cIcon"],["cd",""],["pTemplate","footer"],["selectionMode","single","styleClass","p-datatable-striped","responsiveLayout","scroll",3,"columns","value"],["pTemplate","colgroup"],[3,"width",4,"ngFor","ngForOf"],[2,"width","50px"],["scope","col",4,"ngFor","ngForOf"],["scope","col",2,"width","50px"],["scope","col"],[2,"text-align","center","width","50px"],["pButton","","pRipple","","type","button","icon","pi pi-eye","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],[4,"ngIf"],[2,"color","#b7b7b7"],[2,"vertical-align","middle"],["type","button",1,"btn","tpi-header-return",3,"click"],[1,"fas","fa-angle-double-right",2,"margin-left","5px"],["rowspan","2","scope","col",2,"width","10%"],["rowspan","1","scope","col",2,"width","20%"],["rowspan","1","scope","col",2,"width","15%"],["rowspan","2","scope","col",2,"min-width","150px"],["rowspan","1","scope","col"],["rowspan","2"],[3,"alt","src"],["rowspan","1"],["rowspan","2",2,"text-align","center"],["pButton","","pRipple","","type","button","icon","fa fa-edit","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],["pButton","","pRipple","","type","button","icon","fa fa-trash-alt","tooltipPosition","top",1,"p-button-rounded","p-button-text","p-button-plain",3,"pTooltip","click"],["rowspan","1",2,"text-align","center"],[2,"width","20px","height","20px",3,"alt","src"],[1,"text-danger"],[1,"form-text"],[1,"noimg"],["formControlName","reqBodyType",3,"value","inputId"],[1,"ms-2","mb-0",3,"for"],[1,"row","form-group"],[1,"col-6",2,"display","block"],["rows","8","id","reqBody","formControlName","reqBody","pInputTextarea","",1,"form-control",2,"width","100%"],["rows","6","pInputTextarea","",1,"form-control",2,"width","100%",3,"readOnly","value"],["formControlName","sucByType",3,"value","inputId"],["type","button",1,"btn","tpi-btn","tpi-second","float-start","me-3",3,"disabled","click"],["type","button",1,"btn","tpi-btn","tpi-primary","float-start","me-3",3,"disabled","click"],[1,"row",2,"justify-content","center"],["type","button","pButton","","icon","pi pi-check",3,"ngStyle","label","click"],["type","button","pButton","","icon","pi pi-times",1,"p-button-secondary",3,"label","click"]],template:function(t,n){1&t&&(e.TgZ(0,"app-container",0),e.NdJ("headerReturn",function(){return n.headerReturn()}),e.TgZ(1,"div",1)(2,"form",2)(3,"div",3),e._UZ(4,"app-search-input",4),e.ALo(5,"translate"),e.ALo(6,"translate"),e.ALo(7,"translate"),e.qZA()(),e._UZ(8,"hr"),e.YNc(9,oe,6,5,"p-table",5),e.qZA(),e.TgZ(10,"div",1)(11,"div",6)(12,"div",7)(13,"label",8),e._uU(14),e.ALo(15,"translate"),e.qZA(),e.TgZ(16,"button",9),e.NdJ("click",function(){return n.changePage("create")}),e._uU(17),e.ALo(18,"translate"),e.qZA()()(),e.TgZ(19,"p-table",10),e.YNc(20,le,27,3,"ng-template",11),e.YNc(21,re,32,24,"ng-template",12),e.YNc(22,ae,4,4,"ng-template",13),e.qZA(),e.TgZ(23,"div",14)(24,"div",7)(25,"button",15),e.NdJ("click",function(){return n.changePage("queryClientList")}),e._uU(26),e.ALo(27,"translate"),e.qZA()()()(),e.TgZ(28,"div",1)(29,"form",2)(30,"div",16)(31,"div",17)(32,"label",18),e._uU(33,"ID"),e.qZA(),e._UZ(34,"input",19),e.qZA()(),e.TgZ(35,"div",6)(36,"div",17)(37,"label",20),e._uU(38,"Client ID"),e.qZA(),e._UZ(39,"input",21),e.YNc(40,se,4,3,"div",22),e.qZA(),e.TgZ(41,"div",17)(42,"label",23),e._uU(43,"Enable"),e.qZA(),e.TgZ(44,"div",24),e.ynx(45),e.TgZ(46,"div",25),e._UZ(47,"p-radioButton",26),e.TgZ(48,"label",27),e._uU(49,"Y"),e.qZA()(),e.TgZ(50,"div",25),e._UZ(51,"p-radioButton",28),e.TgZ(52,"label",29),e._uU(53,"N"),e.qZA()(),e.BQk(),e.qZA(),e.YNc(54,ue,7,6,"div",22),e.qZA()(),e.TgZ(55,"div",6)(56,"div",30)(57,"label",31),e._uU(58,"Remark"),e.qZA(),e.TgZ(59,"div",32),e._UZ(60,"textarea",33),e.qZA()()(),e.TgZ(61,"div",6)(62,"div",30)(63,"label",34),e._uU(64,"Page Title"),e.qZA(),e._UZ(65,"input",35),e.YNc(66,de,4,3,"div",22),e.qZA()(),e.TgZ(67,"div",6)(68,"div",36)(69,"label",37),e._uU(70,"Icon"),e.qZA(),e.TgZ(71,"div",38)(72,"div",39)(73,"button",40),e.NdJ("click",function(){return n.openFileBrowser()}),e._uU(74),e.ALo(75,"translate"),e.qZA()(),e.TgZ(76,"div",41),e.YNc(77,ce,3,3,"button",42),e.qZA(),e.TgZ(78,"div",43)(79,"input",44),e.NdJ("change",function(_){return n.fileChange(_.target.files)}),e.qZA()()()()(),e.TgZ(80,"div",6)(81,"div",45),e._UZ(82,"img",46),e.ALo(83,"safeUrl"),e.qZA(),e.YNc(84,pe,1,0,"div",47),e.qZA(),e.TgZ(85,"div",6)(86,"div",48)(87,"label"),e._uU(88,"Request"),e.qZA(),e.TgZ(89,"div",49)(90,"div",6)(91,"div",48)(92,"label",50),e._uU(93,"URL"),e.qZA(),e.TgZ(94,"div",51),e._UZ(95,"p-dropdown",52)(96,"input",53),e.qZA(),e.YNc(97,me,7,6,"div",22),e.qZA()(),e._UZ(98,"hr"),e.TgZ(99,"div",6)(100,"div",48)(101,"label",54),e._uU(102,"Request Header"),e.qZA(),e._UZ(103,"app-key-value-form",55),e.qZA()(),e._UZ(104,"hr"),e.TgZ(105,"div",6)(106,"div",48)(107,"div")(108,"label",56),e._uU(109,"Request Body"),e.qZA()(),e.TgZ(110,"div",24),e.YNc(111,ye,5,4,"ng-container",57),e.qZA(),e.YNc(112,_e,4,3,"div",22),e._UZ(113,"app-key-value-form",58,59),e.YNc(115,ge,8,2,"div",60),e.qZA()()()()(),e.TgZ(116,"div",6)(117,"div",48)(118,"label"),e._uU(119,"Response"),e.qZA(),e.TgZ(120,"div",61)(121,"div",6)(122,"div",48)(123,"div",24),e.YNc(124,fe,5,4,"ng-container",57),e.qZA(),e.YNc(125,he,4,3,"div",22),e.qZA()(),e.TgZ(126,"div",16)(127,"div",30)(128,"label",62),e._uU(129,"JSON Field"),e.qZA(),e._UZ(130,"input",63),e.YNc(131,ve,4,3,"div",22),e.qZA(),e.TgZ(132,"div",30)(133,"label",64),e._uU(134,"Value"),e.qZA(),e._UZ(135,"input",65),e.YNc(136,Te,4,3,"div",22),e.qZA()(),e._UZ(137,"hr"),e.TgZ(138,"div",66)(139,"div",30)(140,"div",67)(141,"label",68),e._uU(142,"ID Token.name"),e.qZA(),e._UZ(143,"input",69),e.qZA(),e.TgZ(144,"div",67)(145,"label",70),e._uU(146,"ID Token.email"),e.qZA(),e._UZ(147,"input",71),e.qZA(),e.TgZ(148,"div",67)(149,"label",72),e._uU(150,"ID Token.picture"),e.qZA(),e._UZ(151,"input",73),e.qZA(),e.TgZ(152,"div",67)(153,"label",74),e._uU(154,"ID Token.lightId"),e.qZA(),e._UZ(155,"input",75),e.qZA(),e.TgZ(156,"div",67)(157,"label",76),e._uU(158,"ID Token.roleName"),e.qZA(),e._UZ(159,"input",77),e.qZA()(),e.TgZ(160,"div",30)(161,"label",8),e._uU(162,"ID Token Example"),e.qZA(),e.TgZ(163,"div",32),e._UZ(164,"textarea",78),e.qZA()()()()()(),e.TgZ(165,"div",16)(166,"div",30)(167,"label",79),e._uU(168,"Create User"),e.qZA(),e._UZ(169,"input",80),e.qZA(),e.TgZ(170,"div",30)(171,"label",81),e._uU(172,"Create Time"),e.qZA(),e._UZ(173,"input",82),e.qZA()(),e.TgZ(174,"div",16)(175,"div",30)(176,"label",83),e._uU(177,"Update User"),e.qZA(),e._UZ(178,"input",84),e.qZA(),e.TgZ(179,"div",30)(180,"label",85),e._uU(181,"Update Time"),e.qZA(),e._UZ(182,"input",86),e.qZA()(),e.TgZ(183,"div",6)(184,"div",87),e.YNc(185,Ze,3,4,"button",88),e.YNc(186,be,3,4,"button",89),e.TgZ(187,"button",90),e.NdJ("click",function(){return n.changePage("clientList")}),e._uU(188),e.ALo(189,"translate"),e.qZA()()()()()(),e._UZ(190,"p-toast",91),e.TgZ(191,"p-confirmDialog",92,93),e.YNc(193,qe,5,8,"ng-template",94),e.qZA()),2&t&&(e.Q6J("title",n.currentTitle)("isDefault",1==n.pageNum),e.xp6(1),e.Q6J("hidden",1!=n.pageNum),e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(2),e.cQ8("placeholder","",e.lcZ(5,57,"client_id"),"\u3001",e.lcZ(6,59,"client_name"),"\u3001",e.lcZ(7,61,"client_alias"),""),e.Q6J("control",n.form.get("keyword"))("searchFn",n.queryClientList.bind(n)),e.xp6(5),e.Q6J("ngIf",n.clientListCols),e.xp6(1),e.Q6J("hidden",2!=n.pageNum),e.xp6(4),e.AsE("",e.lcZ(15,63,"client_id"),": ",null==n.currentClient?null:n.currentClient.clientId,""),e.xp6(3),e.Oqu(e.lcZ(18,65,"button.create")),e.xp6(2),e.Akn(e.DdM(75,O)),e.Q6J("value",n.gtwIdpList),e.xp6(7),e.Oqu(e.lcZ(27,67,"button.return_to_list")),e.xp6(2),e.Q6J("hidden",4!=n.pageNum),e.xp6(1),e.Q6J("formGroup",n.formEdit),e.xp6(1),e.Q6J("hidden","create"==n.currentAction),e.xp6(10),e.Q6J("ngIf",(null==n.clientId?null:n.clientId.invalid)&&((null==n.clientId?null:n.clientId.dirty)||(null==n.clientId?null:n.clientId.touched))),e.xp6(14),e.Q6J("ngIf",(null==n.status?null:n.status.invalid)&&((null==n.status?null:n.status.dirty)||(null==n.status?null:n.status.touched))),e.xp6(12),e.Q6J("ngIf",(null==n.pageTitle?null:n.pageTitle.invalid)&&((null==n.pageTitle?null:n.pageTitle.dirty)||(null==n.pageTitle?null:n.pageTitle.touched))),e.xp6(5),e.Q6J("hidden","detail"===n.currentAction),e.xp6(3),e.Oqu(e.lcZ(75,69,"chs_file")),e.xp6(3),e.Q6J("ngIf",n._fileSrc),e.xp6(4),e.Q6J("hidden",!n._fileSrc),e.xp6(1),e.Q6J("src",e.lcZ(83,71,n._fileSrc),e.LSH),e.xp6(2),e.Q6J("ngIf",!n._fileSrc),e.xp6(10),e.Akn(e.DdM(76,Be)),e.xp6(1),e.Akn(e.DdM(77,Ce)),e.Q6J("options",n.methodsList),e.xp6(2),e.Q6J("ngIf",(null==n.apiUrl?null:n.apiUrl.invalid)&&((null==n.apiUrl?null:n.apiUrl.dirty)||(null==n.apiUrl?null:n.apiUrl.touched))),e.xp6(14),e.Q6J("ngForOf",n.bodyType),e.xp6(1),e.Q6J("ngIf",(null==n.reqBodyType?null:n.reqBodyType.invalid)&&((null==n.reqBodyType?null:n.reqBodyType.dirty)||(null==n.reqBodyType?null:n.reqBodyType.touched))),e.xp6(1),e.Q6J("required",!0)("hidden",!n.reqBodyType.value||"N"==n.reqBodyType.value||"R"==n.reqBodyType.value),e.xp6(2),e.Q6J("ngIf","R"==n.reqBodyType.value),e.xp6(9),e.Q6J("ngForOf",n.respType),e.xp6(1),e.Q6J("ngIf",(null==n.sucByType?null:n.sucByType.invalid)&&((null==n.sucByType?null:n.sucByType.dirty)||(null==n.sucByType?null:n.sucByType.touched))),e.xp6(1),e.Q6J("hidden","H"==n.sucByType.value),e.xp6(5),e.Q6J("ngIf",(null==n.sucByField?null:n.sucByField.invalid)&&((null==n.sucByField?null:n.sucByField.dirty)||(null==n.sucByField?null:n.sucByField.touched))),e.xp6(5),e.Q6J("ngIf",(null==n.sucByValue?null:n.sucByValue.invalid)&&((null==n.sucByValue?null:n.sucByValue.dirty)||(null==n.sucByValue?null:n.sucByValue.touched))),e.xp6(28),e.Q6J("readOnly",!0)("value",n.idTokenExp),e.xp6(1),e.Q6J("hidden","detail"!=n.currentAction),e.xp6(9),e.Q6J("hidden","detail"!=n.currentAction),e.xp6(11),e.Q6J("ngIf","create"==n.currentAction),e.xp6(1),e.Q6J("ngIf","update"==n.currentAction),e.xp6(2),e.Oqu(e.lcZ(189,73,"button.return_to_list")),e.xp6(2),e.Akn(e.DdM(78,Ie)),e.xp6(1),e.Akn(e.DdM(79,xe)))},directives:[Z.e,s._Y,s.JL,s.sg,N.J,o.O5,C.iA,y.jx,o.sg,k.Hq,L.u,s.Fj,s.JJ,s.u,x.EU,P.g,F.Lt,M.l,s.Q7,J.FN,H.Q,o.PC],pipes:[Y.X$,Q.Q],styles:[".form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background:#F6F6F6}.border-line[_ngcontent-%COMP%]{border:0;border-top:1px solid #ddd}.keyValueContent[_ngcontent-%COMP%], .keyValueContent[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{background-color:#eee}.noimg[_ngcontent-%COMP%]{background-color:#ededed;border:2px solid #dedede;border-radius:5px;margin-left:20px;width:50px;min-height:50px}"]}),l})();var S=a(86347);const Ue=[{path:"",component:Re,canActivate:[S.u6]}];let ke=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[[m.Bz.forChild(Ue)],m.Bz]}),l})();var Ne=a(48750),Le=a(31890);let Ve=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({providers:[S.u6],imports:[[o.ez,ke,Ne.W,Le.m,s.UX,s.u5]]}),l})()},76746:(V,q,a)=>{a.d(q,{l:()=>f});var o=a(87587),m=a(93075),v=a(4516),g=a(69808);const s=function(){return{display:"flex",width:"100%","align-items":"center"}},y=function(c){return{required:c}};let A=(()=>{class c{constructor(u,T){this.fb=u,this.toolService=T,this.no=1,this._disabled=!1,this.required=!1,this.change=new o.vpe,this.remove=new o.vpe}ngOnInit(){this.form=this.fb.group({value:new m.NI(this.data?this.data.value:""),key:new m.NI(this.data?this.data.key:"")}),this._disabled?this.form.disable():this.form.enable(),this.form.valueChanges.subscribe(u=>{u.no=this.no,this.change.emit(u)})}deleteItem(){this._ref.destroy(),this.remove.emit(this.no)}get value(){return this.form.get("value")}get key(){return this.form.get("key")}}return c.\u0275fac=function(u){return new(u||c)(o.Y36(m.qu),o.Y36(v.g))},c.\u0275cmp=o.Xpm({type:c,selectors:[["app-key-value-field"]],inputs:{_ref:"_ref",data:"data",no:"no",_disabled:"_disabled",required:"required"},outputs:{change:"change",remove:"remove"},decls:10,vars:11,consts:[[1,"form-group",3,"formGroup"],[1,"col-12","px-0"],[1,"pe-1","control-label",3,"ngClass"],["type","text","formControlName","key",1,"form-control"],[1,"ps-2","pe-1","control-label",3,"ngClass"],["type","text","formControlName","value",1,"form-control"],["type","button",1,"btn","tpi-primary","ms-1",2,"border-radius","50%",3,"hidden","click"],[1,"fa","fa-minus"]],template:function(u,T){1&u&&(o.TgZ(0,"div",0)(1,"div",1)(2,"label",2),o._uU(3,"Key"),o.qZA(),o._UZ(4,"input",3),o.TgZ(5,"label",4),o._uU(6,"Value"),o.qZA(),o._UZ(7,"input",5),o.TgZ(8,"button",6),o.NdJ("click",function(){return T.deleteItem()}),o._UZ(9,"i",7),o.qZA()()()),2&u&&(o.Q6J("formGroup",T.form),o.xp6(1),o.Akn(o.DdM(6,s)),o.xp6(1),o.Q6J("ngClass",o.VKq(7,y,T.required)),o.xp6(3),o.Q6J("ngClass",o.VKq(9,y,T.required)),o.xp6(3),o.Q6J("hidden",T._disabled))},directives:[m.JL,m.sg,g.mk,m.Fj,m.JJ,m.u],styles:[""]}),c})();const e=["keyValue"];function p(c,B){}let f=(()=>{class c{constructor(){this.disabled=!1,this.keyValueList=[],this.no=0,this.required=!1}ngOnInit(){}registerOnChange(u){this.onChange=u}registerOnTouched(u){this.onTouched=u}setDisabledState(u){this.disabled=u}writeValue(u){if(this.keyValueRef&&this.keyValueRef.clear(),this.keyValueList=[],this.no=0,u&&""!=u&&this.isValidJSON(u)){const T=JSON.parse(u);Array.isArray(T)&&T.forEach(Z=>{Object.keys(Z).map(N=>{this.addKeyValue({key:N,value:Z[N]},!0)})})}}isValidJSON(u){try{return JSON.parse(u),!0}catch(T){return!1}}addKeyValue(u,T=!1){let Z=this.keyValueRef.createComponent(A);if(this.keyValueList.push({key:u?u.key:"",value:u?u.value:"",no:this.no}),!T){let C=this.keyValueList.map(k=>{let L={};return L[k.key]=k.value,L});this.onChange(JSON.stringify(C))}Z.instance._ref=Z,Z.instance.no=this.no,Z.instance.data=this.keyValueList[this.no],Z.instance._disabled=this.disabled,Z.instance.required=this.required,this.no++,Z.instance.change.subscribe(C=>{let k=this.keyValueList.findIndex(x=>x.no===C.no);this.keyValueList[k].key=C.key,this.keyValueList[k].value=C.value;let L=this.keyValueList.map(x=>{let P={};return P[x.key]=x.value,P});this.onChange(JSON.stringify(L))}),Z.instance.remove.subscribe(C=>{let k=this.keyValueList.findIndex(x=>x.no===C);this.keyValueList.splice(k,1),0==this.keyValueList.length&&(this.no=0,this.onChange(null));let L=this.keyValueList.map(x=>{let P={};return P[x.key]=x.value,P});this.onChange(JSON.stringify(L))})}}return c.\u0275fac=function(u){return new(u||c)},c.\u0275cmp=o.Xpm({type:c,selectors:[["app-key-value-form"]],viewQuery:function(u,T){if(1&u&&o.Gf(e,7,o.s_b),2&u){let Z;o.iGM(Z=o.CRH())&&(T.keyValueRef=Z.first)}},inputs:{required:"required"},features:[o._Bn([{provide:m.JU,useExisting:(0,o.Gpc)(()=>c),multi:!0}])],decls:7,vars:1,consts:[[1,"form-group","row"],["content",""],[1,"col-12"],["keyValue",""],["type","button",1,"btn","tpi-second",2,"border-radius","50%",3,"hidden","click"],[1,"fa","fa-plus"]],template:function(u,T){1&u&&(o.TgZ(0,"div",0,1)(2,"div",2),o.YNc(3,p,0,0,"ng-template",null,3,o.W1O),o.TgZ(5,"button",4),o.NdJ("click",function(){return T.addKeyValue()}),o._UZ(6,"i",5),o.qZA()()()),2&u&&(o.xp6(5),o.Q6J("hidden",T.disabled))},styles:[""]}),c})()},74856:(V,q,a)=>{a.d(q,{J:()=>v});var o=a(87587),m=a(93075);let v=(()=>{class g{constructor(){this.placeholder="",this.class=""}onSearch(){this.searchFn&&this.searchFn()}onKeydown(y){y.isComposing||this.onSearch()}}return g.\u0275fac=function(y){return new(y||g)},g.\u0275cmp=o.Xpm({type:g,selectors:[["app-search-input"]],inputs:{placeholder:"placeholder",control:"control",searchFn:"searchFn",class:"class"},decls:3,vars:2,consts:[[1,"p-input-icon-right","w-100"],[1,"pi","pi-search","tpi-i-search",3,"click"],["type","search",1,"form-control","tpi-i-input",3,"placeholder","formControl","keydown.enter"]],template:function(y,A){1&y&&(o.TgZ(0,"span",0)(1,"i",1),o.NdJ("click",function(){return A.onSearch()}),o.qZA(),o.TgZ(2,"input",2),o.NdJ("keydown.enter",function(p){return A.onKeydown(p)}),o.qZA()()),2&y&&(o.xp6(2),o.Q6J("placeholder",A.placeholder)("formControl",A.control))},directives:[m.Fj,m.JJ,m.oH],styles:[""]}),g})()},63710:(V,q,a)=>{a.d(q,{e:()=>e});var o=a(87587),m=a(69808),v=a(51062);function g(p,f){if(1&p&&(o.TgZ(0,"div")(1,"h3",9),o._uU(2),o.ALo(3,"translate"),o.qZA()()),2&p){const c=o.oxw();o.xp6(2),o.Oqu(o.lcZ(3,1,c.title))}}function s(p,f){if(1&p){const c=o.EpF();o.TgZ(0,"div",10)(1,"button",11),o.NdJ("click",function(){return o.CHM(c),o.oxw().return()}),o._UZ(2,"i",12),o._uU(3),o.ALo(4,"translate"),o.qZA(),o.TgZ(5,"span",13),o._uU(6),o.qZA(),o.TgZ(7,"span",14),o._uU(8),o.qZA()()}if(2&p){const c=o.oxw();o.xp6(3),o.hij(" ",o.lcZ(4,3,"button.return_to_list")," "),o.xp6(3),o.hij("",c.getHead()," /"),o.xp6(2),o.Oqu(c.getTail())}}const y=[[["","center-view","center"]],"*"],A=["[center-view=center]","*"];let e=(()=>{class p{constructor(){this.title="",this.isDefault=!0,this.headerReturn=new o.vpe}ngOnInit(){}return(){this.headerReturn.emit(null)}getHead(){const c=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return c.pop(),c.join(" / ")}getTail(){const c=this.title.indexOf(">")>-1?this.title.split(">"):[this.title];return c[c.length-1]}}return p.\u0275fac=function(c){return new(c||p)},p.\u0275cmp=o.Xpm({type:p,selectors:[["app-container"]],inputs:{title:"title",isDefault:"isDefault"},outputs:{headerReturn:"headerReturn"},ngContentSelectors:A,decls:11,vars:2,consts:[[1,"container-fluid","h-100"],[1,"row","position-relative",2,"height","calc(100% - 40px - 0.5rem)"],[1,"col"],[2,"margin-bottom","0.5rem"],[4,"ngIf"],["style","text-align: right",4,"ngIf"],[1,"col","d-flex","justify-content-center"],[1,"my-0","mb-2"],[1,"p-2"],["id","content",1,"page-title"],[2,"text-align","right"],["type","button","icon","",1,"btn","float-start","tpi-header-return",3,"click"],[1,"fas","fa-arrow-left",2,"margin-right","5px"],[1,"mb-0",2,"font-size","0.8rem","color","#666464"],[1,"mb-0",2,"font-size","0.8rem","color","#ff6e38","font-weight","bold"]],template:function(c,B){1&c&&(o.F$t(y),o.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o.YNc(4,g,4,3,"div",4),o.YNc(5,s,9,5,"div",5),o.TgZ(6,"div",6),o.Hsn(7),o.qZA()(),o._UZ(8,"hr",7),o.Hsn(9,1),o._UZ(10,"div",8),o.qZA()()()),2&c&&(o.xp6(4),o.Q6J("ngIf",B.isDefault),o.xp6(1),o.Q6J("ngIf",!B.isDefault))},directives:[m.O5],pipes:[v.X$],styles:[".card.card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;font-weight:400;color:#5a5541}"]}),p})()},92718:(V,q,a)=>{a.d(q,{u:()=>f});var o=a(54004),m=a(70262),v=a(62843),g=a(87587),s=a(4516),y=a(89709),A=a(99291),e=a(38441),p=a(60991);let f=(()=>{class c{constructor(u,T,Z,N,C){this.toolService=u,this.tokenService=T,this.router=Z,this.ngxService=N,this.logoutService=C}canActivate(){return this.ngxService.stopAll(),!this.toolService.isTokenExpired()||this.toolService.refreshToken().pipe((0,o.U)(u=>!!u.access_token),(0,m.K)(this.handleError.bind(this)))}handleError(u){return setTimeout(()=>this.logoutService.logout()),(0,v._)(()=>u)}}return c.\u0275fac=function(u){return new(u||c)(g.LFG(s.g),g.LFG(y.B),g.LFG(A.F0),g.LFG(e.LA),g.LFG(p.P))},c.\u0275prov=g.Yz7({token:c,factory:c.\u0275fac}),c})()},86347:(V,q,a)=>{a.d(q,{DL:()=>o.D,u6:()=>v.u});var o=a(48895),v=(a(45240),a(92718));a(4516)},72129:(V,q,a)=>{a.d(q,{Q:()=>v});var o=a(87587),m=a(22313);let v=(()=>{class g{constructor(y){this.sanitizer=y}transform(y){return y?this.sanitizer.bypassSecurityTrustUrl(y):""}}return g.\u0275fac=function(y){return new(y||g)(o.Y36(m.H7,16))},g.\u0275pipe=o.Yjl({name:"safeUrl",type:g,pure:!0}),g})()},71330:(V,q,a)=>{a.d(q,{l:()=>s});var o=a(92340),m=a(57553),v=a(87587),g=a(96614);let s=(()=>{class y{constructor(e){this.api=e,this.api.baseUrl=o.N.dpPath}get basePath(){return o.N.isv4?"dgrv4/11":"tsmpdpaa/11"}queryOpenApiKeyByClientId(e){let p={ReqHeader:this.api.getReqHeader(m.Nx.queryOpenApiKeyByClientId),ReqBody:e};return this.api.npPost(`${this.basePath}/DPB0090`,p)}queryOpenApiKeyDetailByPk(e){let p={ReqHeader:this.api.getReqHeader(m.Nx.queryOpenApiKeyDetailByPk),ReqBody:e};return this.api.npPost(`${this.basePath}/DPB0091`,p)}writeOpenApiKeyReq(e){let p={ReqHeader:this.api.getReqHeader(m.Nx.writeOpenApiKeyReq),ReqBody:e};return this.api.npPost(`${this.basePath}/DPB0092`,p)}queryApiLikeList(e){let p={ReqHeader:this.api.getReqHeader(m.Nx.queryApiLikeList),ReqBody:e};return this.api.npPost(`${this.basePath}/DPB0093`,p)}queryOpenApiKeyByDateAndLike_before(){let e={ReqHeader:this.api.getReqHeader(m.Nx.queryOpenApiKeyByDateAndLike),ReqBody:{}};return this.api.npPost(`${this.basePath}/DPB0094?before`,e)}queryOpenApiKeyByDateAndLike_ignore1298(e){let p={ReqHeader:this.api.getReqHeader(m.Nx.queryOpenApiKeyByDateAndLike),ReqBody:e};return this.api.excuteNpPost_ignore1298(`${this.basePath}/DPB0094`,p)}queryOpenApiKeyByDateAndLike(e){let p={ReqHeader:this.api.getReqHeader(m.Nx.queryOpenApiKeyByDateAndLike),ReqBody:e};return this.api.npPost(`${this.basePath}/DPB0094`,p)}queryClientListByRegStatusLike_ignore1298(e){let p={ReqHeader:this.api.getReqHeader(m.Nx.queryClientListByRegStatusLike),ReqBody:e};return this.api.excuteNpPost_ignore1298(`${this.basePath}/DPB0095`,p)}queryClientListByRegStatusLike(e){let p={ReqHeader:this.api.getReqHeader(m.Nx.queryClientListByRegStatusLike),ReqBody:e};return this.api.npPost(`${this.basePath}/DPB0095`,p)}}return y.\u0275fac=function(e){return new(e||y)(v.LFG(g.K))},y.\u0275prov=v.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()}}]);